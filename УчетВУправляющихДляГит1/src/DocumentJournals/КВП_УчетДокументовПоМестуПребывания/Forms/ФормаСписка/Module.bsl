////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

#Область ОбработчикиСобытийФормы

// Обработчик события "ПриСозданииНаСервере" формы.
//
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	ОтборОрганизация = УПЖКХ_ТиповыеМетодыВызовСервера.УстановитьОтборПоОсновнойОрганизации(ЭтаФорма);
	
КонецПроцедуры

#КонецОбласти

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ЭЛЕМЕНТОВ ФОРМЫ

#Область ОбработчикиСобытийЭлементовФормы

// Обработчик события "ПриИзменении" поля ввода ОтборОрганизация.
//
&НаКлиенте
Процедура ОтборОрганизацияПриИзменении(Элемент)
	
	УПЖКХ_ТиповыеМетодыКлиентСервер.ИзменитьЭлементОтбораСписка(Список, "Организация",
																ОтборОрганизация, ЗначениеЗаполнено(ОтборОрганизация));
	
КонецПроцедуры

// Обработчик нажатия кнопки "ПечатьФорма4".
//
&НаКлиенте
Процедура ПечатьФорма4(Команда)
	
	ПараметрКоманды = СформироватьСписок("ПФ_MXL_Форма_4");
	
	УПЖКХ_ТиповыеМетодыКлиент.ВыполнитьКомандуПечати("ЖурналДокументов.КВП_УчетДокументовПоМестуПребывания",
														 "ПФ_MXL_Форма_4", ПараметрКоманды,
														 Неопределено, УПЖКХ_ТиповыеМетодыКлиент.ПолучитьЗаголовокПечатнойФормы(ПараметрКоманды));
	
КонецПроцедуры

&НаКлиенте
// Обработчик нажатия кнопки "ПечатьРеестр".
//
Процедура ПечатьРеестр(Команда)
	
	ПараметрКоманды = СформироватьСписок("ПФ_MXL_Реестр_по_пребыванию");
	
	УПЖКХ_ТиповыеМетодыКлиент.ВыполнитьКомандуПечати("ЖурналДокументов.КВП_УчетДокументовПоМестуПребывания",
														 "ПФ_MXL_Реестр_по_пребыванию", ПараметрКоманды,
														 Неопределено, УПЖКХ_ТиповыеМетодыКлиент.ПолучитьЗаголовокПечатнойФормы(ПараметрКоманды));
	
КонецПроцедуры

#КонецОбласти

///////////////////////////////////////////////////////////////////
// ОБЩИЕ ПРОЦЕДУРЫ И ФУНКЦИИ

#Область ОбщиеПроцедурыИФункции

// Функция возвращает список документов для печати.
//
&НаСервере
Функция СформироватьСписок(Макет)
	
	Возврат ЖурналыДокументов.КВП_УчетДокументовПоМестуПребывания.СформироватьИтоговуюТаблицу(Список,
																							  Макет).ВыгрузитьКолонку("ДокСсылка");
	
КонецФункции

#КонецОбласти