////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

#Область ОбработчикиСобытийФормы

// Обработчик события "ПриСозданииНаСервере" формы.
//
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	ОтборОрганизация = УПЖКХ_ТиповыеМетодыВызовСервера.УстановитьОтборПоОсновнойОрганизации(ЭтаФорма);
	
КонецПроцедуры

#КонецОбласти

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ЭЛЕМЕНТОВ ФОРМЫ

#Область ОбработчикиСобытийЭлементовФормы

// Обработчик события "ПриИзменении" поля ввода ОтборОрганизация.
//
&НаКлиенте
Процедура ОтборОрганизацияПриИзменении(Элемент)
	
	УПЖКХ_ТиповыеМетодыКлиентСервер.ИзменитьЭлементОтбораСписка(Список, "Организация",
																ОтборОрганизация, ЗначениеЗаполнено(ОтборОрганизация));
	
КонецПроцедуры

// Обработчик нажатия кнопки "ПечатьФорма4".
//
&НаКлиенте
Процедура ПечатьФорма4(Команда)
	
	ПараметрКоманды = СформироватьСписок();
	
	УПЖКХ_ТиповыеМетодыКлиент.ВыполнитьКомандуПечати("ЖурналДокументов"
													   + ".КВП_УчетЗаявленийИСвидетельствОРегистрацииПоМестуПребывания",
														 "ПФ_MXL_Форма_4", ПараметрКоманды,
														 Неопределено, УПЖКХ_ТиповыеМетодыКлиент.ПолучитьЗаголовокПечатнойФормы(ПараметрКоманды));
	
КонецПроцедуры

#КонецОбласти

///////////////////////////////////////////////////////////////////
// ОБЩИЕ ПРОЦЕДУРЫ И ФУНКЦИИ

#Область ОбщиеПроцедурыИФункции

// Функция возвращает список документов для печати.
//
&НаСервере
Функция СформироватьСписок()
	
	Возврат ЖурналыДокументов.КВП_УчетЗаявленийИСвидетельствОРегистрацииПоМестуПребывания.СформироватьИтоговуюТаблицу(Список).ВыгрузитьКолонку("ДокСсылка");
	
КонецФункции

#КонецОбласти