#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ПрограммныйИнтерфейс

#Область ДляВызоваИзДругихПодсистем

// СтандартныеПодсистемы.Печать

// Заполняет список команд печати.
//
// Параметры:
//   КомандыПечати - ТаблицаЗначений - состав полей см. в функции УправлениеПечатью.СоздатьКоллекциюКомандПечати.
//
Процедура ДобавитьКомандыПечати(КомандыПечати) Экспорт
	
	КомандаПечати = КомандыПечати.Добавить();
	КомандаПечати.Обработчик = "УправлениеПечатьюБЗККлиент.ВыполнитьКомандуПечати";
	КомандаПечати.Идентификатор = "РеестрПособий";
	КомандаПечати.Представление = НСтр("ru = 'Реестр пособий'");
	КомандаПечати.ПроверкаПроведенияПередПечатью = Ложь;
	
КонецПроцедуры

// Конец СтандартныеПодсистемы.Печать

// СтандартныеПодсистемы.ВерсионированиеОбъектов

// Определяет настройки объекта для подсистемы ВерсионированиеОбъектов.
//
// Параметры:
//  Настройки - Структура - настройки подсистемы.
Процедура ПриОпределенииНастроекВерсионированияОбъектов(Настройки) Экспорт

КонецПроцедуры

// Конец СтандартныеПодсистемы.ВерсионированиеОбъектов

// СтандартныеПодсистемы.УправлениеДоступом

// См. УправлениеДоступомПереопределяемый.ПриЗаполненииСписковСОграничениемДоступа.
Процедура ПриЗаполненииОграниченияДоступа(Ограничение) Экспорт
	Ограничение.Текст =
	"РазрешитьЧтениеИзменение
	|ГДЕ
	|	ДляВсехСтрок( ЗначениеРазрешено(ФизическиеЛица.ФизическоеЛицо, NULL КАК ИСТИНА)
	|	) И ЗначениеРазрешено(Организация)";
КонецПроцедуры

// Конец СтандартныеПодсистемы.УправлениеДоступом

#КонецОбласти

#КонецОбласти

#Область СлужебныйПрограммныйИнтерфейс

// Возвращает описание состава документа
//
// Возвращаемое значение:
//  Структура - см. ЗарплатаКадрыСоставДокументов.НовоеОписаниеСоставаОбъекта.
Функция ОписаниеСоставаОбъекта() Экспорт
	
	ОписаниеСостава = ЗарплатаКадрыСоставДокументов.НовоеОписаниеСоставаОбъекта();
	ОписаниеСостава.ЗаполнятьФизическиеЛицаПоСотрудникам = Ложь;
	ОписаниеСостава.ИспользоватьКраткийСостав = Ложь;
	ОписаниеСостава.ЗаполнятьТабличнуюЧастьФизическиеЛицаДокумента = Ложь;
	
	ЗарплатаКадрыСоставДокументов.ДобавитьОписаниеХраненияСотрудниковФизическихЛиц(
		ОписаниеСостава.ОписаниеХраненияСотрудниковФизическихЛиц,
		"ФизическиеЛица",
		"ФизическоеЛицо");
		
	Возврат ОписаниеСостава;

КонецФункции

#Область ФиксацияВторичныхДанныхВДокументах

Функция ПараметрыФиксацииВторичныхДанных() Экспорт
	ФиксируемыеРеквизиты = ФиксируемыеРеквизиты();
	ФиксируемыеТЧ = Новый Структура("СведенияНеобходимыеДляНазначенияПособий", СтрРазделить("Заявление", ",", Ложь));
	Возврат ФиксацияВторичныхДанныхВДокументах.ПараметрыФиксацииВторичныхДанных(ФиксируемыеРеквизиты, , ФиксируемыеТЧ);
КонецФункции

#КонецОбласти

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

#Область ОбновлениеИнформационнойБазы

Процедура ЗаполнитьТабличнуюЧастьФизическихЛицИНаборыЗначенийДоступа() Экспорт
	
	Запрос = Новый Запрос;
	Запрос.МенеджерВременныхТаблиц = Новый МенеджерВременныхТаблиц;
	Запрос.Текст = 
	"ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	РеестрФизическиеЛица.Ссылка КАК Ссылка
	|ПОМЕСТИТЬ РеестрыСФизическимиЛицами
	|ИЗ
	|	Документ.РеестрСведенийНеобходимыхДляНазначенияИВыплатыПособий.ФизическиеЛица КАК РеестрФизическиеЛица
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Ссылка
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	РеестрСведения.Ссылка КАК Ссылка,
	|	ЗаявлениеСотрудника.ФизическоеЛицо КАК ФизическоеЛицо
	|ИЗ
	|	Документ.РеестрСведенийНеобходимыхДляНазначенияИВыплатыПособий.СведенияНеобходимыеДляНазначенияПособий КАК РеестрСведения
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.ЗаявлениеСотрудникаНаВыплатуПособия КАК ЗаявлениеСотрудника
	|		ПО РеестрСведения.Заявление = ЗаявлениеСотрудника.Ссылка
	|ГДЕ
	|	НЕ РеестрСведения.Ссылка В
	|				(ВЫБРАТЬ
	|					РеестрыСФизическимиЛицами.Ссылка
	|				ИЗ
	|					РеестрыСФизическимиЛицами)
	|
	|УПОРЯДОЧИТЬ ПО
	|	Ссылка,
	|	ФизическоеЛицо";
	Результат = Запрос.Выполнить();
	
	Если Не Результат.Пустой() Тогда
		Выборка = Результат.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
		Пока Выборка.СледующийПоЗначениюПоля("Ссылка") Цикл
			Документ = Выборка.Ссылка.ПолучитьОбъект();
			Пока Выборка.Следующий() Цикл
				ЗаполнитьЗначенияСвойств(Документ.ФизическиеЛица.Добавить(), Выборка, "ФизическоеЛицо");			
			КонецЦикла;
			Документ.ОбменДанными.Загрузка = Истина;
			Документ.ДополнительныеСвойства.Вставить("ЗаписатьНаборыЗначенийДоступа", Истина);
			Документ.Записать(РежимЗаписиДокумента.Запись);
		КонецЦикла;	
	КонецЕсли;
	
КонецПроцедуры

Процедура ВосстановитьСсылкиВОтправках() Экспорт
	
	Запрос = Новый Запрос;
	Запрос.Текст = 
	"ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	СтатусыОтправки.Объект КАК Объект,
	|	СтатусыОтправки.Основание КАК Основание
	|ИЗ
	|	РегистрСведений.СтатусыОтправки КАК СтатусыОтправки
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.ОтправкиФСС КАК ОтправкиФСС
	|		ПО СтатусыОтправки.Основание = ОтправкиФСС.Ссылка
	|ГДЕ
	|	ОтправкиФСС.ОтчетСсылка = НЕОПРЕДЕЛЕНО
	|	И СтатусыОтправки.Объект ССЫЛКА Документ.РеестрСведенийНеобходимыхДляНазначенияИВыплатыПособий
	|	И ОтправкиФСС.ВидОтчета = ЗНАЧЕНИЕ(Справочник.ВидыОтправляемыхДокументов.РеестрСведенийВФСС)";
	Результат = Запрос.Выполнить();
	Если Не Результат.Пустой() Тогда
		Выборка = Результат.Выбрать();
		Пока Выборка.Следующий() Цикл
			ДокументОбъект = Выборка.Основание.ПолучитьОбъект();
			ДокументОбъект.ОтчетСсылка = Выборка.Объект;
			ДокументОбъект.ОбменДанными.Загрузка = Истина;
			ДокументОбъект.Записать();
		КонецЦикла;
	КонецЕсли;
	
	Запрос.Текст = 
	"ВЫБРАТЬ
	|	ОтправкиФСС.Ссылка КАК Ссылка,
	|	ОтправкиФСС.ИмяФайлаПакета КАК ИмяФайлаПакета,
	|	ОтправкиФСС.Организация КАК Организация
	|ИЗ
	|	Справочник.ОтправкиФСС КАК ОтправкиФСС
	|ГДЕ
	|	ОтправкиФСС.ОтчетСсылка = НЕОПРЕДЕЛЕНО
	|	И ОтправкиФСС.ИмяФайлаПакета <> """"
	|	И ОтправкиФСС.ВидОтчета = ЗНАЧЕНИЕ(Справочник.ВидыОтправляемыхДокументов.РеестрСведенийВФСС)";
	Результат = Запрос.Выполнить();
	Если Не Результат.Пустой() Тогда
		
		ТаблицаПоискаДокументов = Новый ТаблицаЗначений;
		ТаблицаПоискаДокументов.Колонки.Добавить("Ссылка", Новый ОписаниеТипов("СправочникСсылка.ОтправкиФСС"));
		ТаблицаПоискаДокументов.Колонки.Добавить("Организация", Новый ОписаниеТипов("СправочникСсылка.Организации"));
		ТаблицаПоискаДокументов.Колонки.Добавить("Дата", Новый ОписаниеТипов("Дата"));
		ТаблицаПоискаДокументов.Колонки.Добавить("Номер", Новый ОписаниеТипов("Строка", , , , Новый КвалификаторыСтроки(11)));
		ТаблицаПоискаДокументов.Колонки.Добавить("ДлинаНомера", Новый ОписаниеТипов("Число", , , Новый КвалификаторыЧисла(2,0)));
		
		Выборка = Результат.Выбрать();
		Пока Выборка.Следующий() Цикл
			Если Лев(Выборка.ИмяФайлаПакета, 2) = "E_" Тогда
				НоваяСтрока = ТаблицаПоискаДокументов.Добавить();
				ЗаполнитьЗначенияСвойств(НоваяСтрока, Выборка);
				СоставныеЧастиИмени = СтроковыеФункцииКлиентСервер.РазложитьСтрокуВМассивПодстрок(Выборка.ИмяФайлаПакета, "_");
				НоваяСтрока.Дата = Дата(СоставныеЧастиИмени[2], СоставныеЧастиИмени[3], СоставныеЧастиИмени[4]);
				НоваяСтрока.Номер = СтрЗаменить(СоставныеЧастиИмени[5], ".esl", "");
				НоваяСтрока.ДлинаНомера = СтрДлина(НоваяСтрока.Номер);
			КонецЕсли;
		КонецЦикла;
		
		Запрос.УстановитьПараметр("ДанныеДокументов", ТаблицаПоискаДокументов);

		Запрос.Текст = 
		"ВЫБРАТЬ
		|	Данные.Ссылка КАК Ссылка,
		|	Данные.Организация КАК Организация,
		|	Данные.Номер КАК Номер,
		|	Данные.ДлинаНомера КАК ДлинаНомера,
		|	Данные.Дата КАК Дата
		|ПОМЕСТИТЬ ВТДанныеДокументов
		|ИЗ
		|	&ДанныеДокументов КАК Данные
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ДанныеДокументов.Ссылка КАК Отправка,
		|	ДанныеДокументов.Номер КАК ЧастьНомера,
		|	ДанныеДокументов.ДлинаНомера КАК ДлинаЧастиНомера,
		|	РеестрСведенийНеобходимыхДляНазначенияИВыплатыПособий.Ссылка КАК Ссылка,
		|	РеестрСведенийНеобходимыхДляНазначенияИВыплатыПособий.Номер КАК Номер
		|ИЗ
		|	ВТДанныеДокументов КАК ДанныеДокументов
		|		ЛЕВОЕ СОЕДИНЕНИЕ Документ.РеестрСведенийНеобходимыхДляНазначенияИВыплатыПособий КАК РеестрСведенийНеобходимыхДляНазначенияИВыплатыПособий
		|		ПО ДанныеДокументов.Организация = РеестрСведенийНеобходимыхДляНазначенияИВыплатыПособий.Организация
		|			И (ДанныеДокументов.Дата = НАЧАЛОПЕРИОДА(РеестрСведенийНеобходимыхДляНазначенияИВыплатыПособий.Дата, ДЕНЬ))
		|ГДЕ
		|	РеестрСведенийНеобходимыхДляНазначенияИВыплатыПособий.Ссылка ЕСТЬ НЕ NULL 
		|
		|УПОРЯДОЧИТЬ ПО
		|	Отправка";
		
		Выборка = Запрос.Выполнить().Выбрать();
		Пока Выборка.СледующийПоЗначениюПоля("Отправка") Цикл
			Пока Выборка.Следующий() Цикл
				Если Прав(Выборка.Номер, Выборка.ДлинаЧастиНомера) = Выборка.ЧастьНомера Тогда
					ДокументОбъект = Выборка.Отправка.ПолучитьОбъект();
					ДокументОбъект.ОтчетСсылка = Выборка.Ссылка;
					ДокументОбъект.ОбменДанными.Загрузка = Истина;
					ДокументОбъект.Записать();
					Прервать;
				КонецЕсли;
			КонецЦикла;
		КонецЦикла;
		
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти

#Область ФормированиеФайла

Функция ФайлРеестра(Ссылка, УникальныйИдентификатор) Экспорт
	ВыборкаПоШапкеДокумента = СформироватьЗапросПоШапкеДокументов(Ссылка).Выбрать();
	ВыборкаПоШапкеДокумента.Следующий();
	
	ОписаниеРеестра = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(Ссылка, "Ссылка, ВидРеестра, Дата");
	
	ВыборкаСведенийДляРасчетаПособия = СформироватьЗапросСведенийДляРасчетаПособия(ОписаниеРеестра).Выбрать();
	
	ТекстXML = СформироватьФайлРеестра(ВыборкаПоШапкеДокумента, ВыборкаСведенийДляРасчетаПособия);
	
	Кодировка = "windows-1251";
	ДвоичныеДанные = ЗарплатаКадры.СтрокаВДвоичныеДанные(ТекстXML, Кодировка, Истина);
	
	ОписаниеФайла = Новый Структура("ИмяФайлаБезРасширения, ИмяФайлаСРасширением, ТекстXML, АдресДвоичныхДанных, Кодировка");
	ОписаниеФайла.ИмяФайлаБезРасширения = ИмяФайла(ВыборкаПоШапкеДокумента);
	ОписаниеФайла.ИмяФайлаСРасширением  = ОписаниеФайла.ИмяФайлаБезРасширения + ".xml";
	ОписаниеФайла.ТекстXML              = ТекстXML;
	ОписаниеФайла.АдресДвоичныхДанных   = ПоместитьВоВременноеХранилище(ДвоичныеДанные, УникальныйИдентификатор);
	ОписаниеФайла.Кодировка             = Кодировка;
	
	Возврат ОписаниеФайла;
КонецФункции

Функция ПолучитьФайлДляОтправки(Ссылка, Отказ = Ложь) Экспорт
	ФайлРеестра = ФайлРеестра(Ссылка, Неопределено);
	Если ФайлРеестра = Неопределено Тогда
		Отказ = Истина;
		Возврат Неопределено;
	КонецЕсли;
	
	ФайлДляОтправки = Новый Структура("АдресФайлаВыгрузки, ИмяФайлаВыгрузки, ТипФайлаВыгрузки, КодировкаФайлаВыгрузки");
	ФайлДляОтправки.ИмяФайлаВыгрузки       = ФайлРеестра.ИмяФайлаСРасширением;
	ФайлДляОтправки.АдресФайлаВыгрузки     = ФайлРеестра.АдресДвоичныхДанных;
	ФайлДляОтправки.ТипФайлаВыгрузки       = "РеестрЗаявленийНаВыплатуПособийДляПередачиВФСС";
	ФайлДляОтправки.КодировкаФайлаВыгрузки = КодировкаТекста.ANSI;
	
	Возврат ФайлДляОтправки;
КонецФункции

Функция ПолучитьОписаниеФайла(Ссылка) Экспорт
	//
	//ВыборкаПоШапкеДокумента = СформироватьЗапросПоШапкеДокументов(Ссылка).Выбрать();
	//ВыборкаПоШапкеДокумента.Следующий();
	//
	//ОписаниеРеестра = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(Ссылка, "Ссылка, ВидРеестра, Дата");
	//
	//ВыборкаСведенийДляРасчетаПособия = СформироватьЗапросСведенийДляРасчетаПособия(ОписаниеРеестра).Выбрать();
	//
	//ОписаниеФайла = Новый Структура("ИмяФайла, ТекстФайла, Описание");
	//ОписаниеФайла.ИмяФайла = ИмяФайла(ВыборкаПоШапкеДокумента);
	//ОписаниеФайла.ТекстФайла = СформироватьФайлРеестра(ОписаниеРеестра, Ссылка, ВыборкаПоШапкеДокумента, ВыборкаСведенийДляРасчетаПособия);
	//
	//ПолноеИмяФайла = ЗарплатаКадры.ЗаписатьФайлОтчетностиНаДиск(ОписаниеФайла.ИмяФайла, ОписаниеФайла.ТекстФайла);
	//ДвоичныеДанные = Новый ДвоичныеДанные(ПолноеИмяФайла);
	//ОписаниеФайла.Описание = Новый ОписаниеПередаваемогоФайла(ОписаниеФайла.ИмяФайла + ".xml", ПоместитьВоВременноеХранилище(ДвоичныеДанные));
	//
	//Возврат ОписаниеФайла;
КонецФункции

Функция СформироватьФайлРеестра(ВыборкаПоШапкеДокумента, ВыборкаСведенийДляРасчетаПособия)
	ROWSET = ПрямыеВыплатыПособийСоциальногоСтрахования.КорневойЭлементРеестраПилотногоПроектаФСС();
	ROWSET.author 			= ?(ЗначениеЗаполнено(ВыборкаПоШапкеДокумента.ФИОСоставителя), ВыборкаПоШапкеДокумента.ФИОСоставителя, "");
	ROWSET.version 			= "1.7.6";
	ROWSET.software 		= Лев(РегламентированнаяОтчетность.НазваниеПрограммы(), 255);
	ROWSET.version_software = Лев(Метаданные.Версия, 15);
	ROWSET.phone 			= ВыборкаПоШапкеДокумента.ТелефонСоставителя;
	ROWSET.email 			= ВыборкаПоШапкеДокумента.АдресЭлектроннойПочтыСоставителя;
	ROWSET.EMPL_OGRN 		= ВыборкаПоШапкеДокумента.ОГРНОрганизации;
	ROWSET.EMPL_REG_NO      = УчетПособийСоциальногоСтрахованияКлиентСервер.РегистрационныйНомерДляОбменаФСС(ВыборкаПоШапкеДокумента);
	ROWSET.EMPL_KPP 		= ВыборкаПоШапкеДокумента.КППОрганизации;
	ROWSET.EMPL_INN 		= ВыборкаПоШапкеДокумента.ИННОрганизации;
	
	СписокROW = ПрямыеВыплатыПособийСоциальногоСтрахования.СписокЭлементовРеестраПилотногоПроектаФСС(ROWSET);
	
	СписокФизлиц = Новый Массив;
	СписокФизлиц.Добавить(ВыборкаПоШапкеДокумента.Руководитель);
	СписокФизлиц.Добавить(ВыборкаПоШапкеДокумента.ГлавныйБухгалтер);
	
	КадровыеДанныеФизическихЛиц = КадровыйУчет.КадровыеДанныеФизическихЛиц(Истина, СписокФизлиц, "ФИОПолные");
	КадровыеДанныеРуководителя       = КадровыеДанныеФизическихЛиц.Найти(ВыборкаПоШапкеДокумента.Руководитель,     "ФизическоеЛицо");
	КадровыеДанныеГлавногоБухгалтера = КадровыеДанныеФизическихЛиц.Найти(ВыборкаПоШапкеДокумента.ГлавныйБухгалтер, "ФизическоеЛицо");
	Если КадровыеДанныеРуководителя <> Неопределено И ЗначениеЗаполнено(КадровыеДанныеРуководителя.ФИОПолные) Тогда
		ФИОРуководителя = КадровыеДанныеРуководителя.ФИОПолные;
	Иначе
		ФИОРуководителя = Строка(ВыборкаПоШапкеДокумента.Руководитель);
	КонецЕсли;
	
	НомерДокументаВПачке = 0;
	НачалоНомераСтроки = ИмяФайла(ВыборкаПоШапкеДокумента) + ":";
	
	Пока ВыборкаСведенийДляРасчетаПособия.Следующий() Цикл
		
		НомерДокументаВПачке = НомерДокументаВПачке + 1;
		
		ROW = ПрямыеВыплатыПособийСоциальногоСтрахования.ЭлементРеестраПилотногоПроектаФСС(ROWSET);
		ROW.BATCH_NO       = НачалоНомераСтроки + Формат(НомерДокументаВПачке, "ЧЦ=10; ЧГ=");
		ROW.EMPLOYER       = ВыборкаПоШапкеДокумента.ОрганизацияСокращенно;
		ROW.EMPL_OGRN      = ВыборкаПоШапкеДокумента.ОГРНОрганизации;
		ROW.EMPL_PARENT_NO = ВыборкаПоШапкеДокумента.КодПодчиненностиФСС;
		ROW.EMPL_KPP       = ВыборкаПоШапкеДокумента.КППОрганизации;
		ROW.EMPL_INN       = ВыборкаПоШапкеДокумента.ИННОрганизации;
		ROW.APPROVE1       = ФИОРуководителя;
		ROW.EMPL_REG_NO    = ROWSET.EMPL_REG_NO;
		
		Если КадровыеДанныеГлавногоБухгалтера <> Неопределено И ЗначениеЗаполнено(КадровыеДанныеГлавногоБухгалтера.ФИОПолные) Тогда
			ROW.APPROVE2 = КадровыеДанныеГлавногоБухгалтера.ФИОПолные;
		КонецЕсли;
		Если ЗначениеЗаполнено(ВыборкаПоШапкеДокумента.ДолжностьРуководителя) Тогда
			ROW.APPROVE1_ROLE = ВыборкаПоШапкеДокумента.ДолжностьРуководителя;
		КонецЕсли;
		
		ЗаполнитьСтрокуРеестра(ROW, ВыборкаСведенийДляРасчетаПособия);
		
		СписокROW.Добавить(ROW);
		
	КонецЦикла;
	
	СтрокаXML = ПрямыеВыплатыПособийСоциальногоСтрахования.ЗаписатьРеестрВСтрокуXML(ROWSET);
	
	Возврат СтрокаXML;
	
КонецФункции 

Функция ПредставлениеСтатусаНалогоплательщикаДляРеестра(СтатусНалогоплательщикаПолучателя)
	
	ПредставлениеСтатусаНалогоплательщика = 0;
	
	Если СтатусНалогоплательщикаПолучателя = ОбщегоНазначения.ПредопределенныйЭлемент("Справочник.СтатусыНалогоплательщиковПоНДФЛ.Резидент") Тогда
		ПредставлениеСтатусаНалогоплательщика = 1;	
	ИначеЕсли СтатусНалогоплательщикаПолучателя = ОбщегоНазначения.ПредопределенныйЭлемент("Справочник.СтатусыНалогоплательщиковПоНДФЛ.Нерезидент") Тогда
		ПредставлениеСтатусаНалогоплательщика = 2;	
	КонецЕсли;
	
	Возврат ПредставлениеСтатусаНалогоплательщика;
	
КонецФункции

Процедура ЗаполнитьСтрокуРеестра(ROW, СтруктураДанных)
	
	Если Не СтруктураДанных.Перерасчет Тогда
		ROW.TYPE_INFO = "0";
	Иначе
		ROW.TYPE_INFO = "1";
		ROW.RECALC_REASON_CODE = Число("0"+СтруктураДанных.КодПричиныПерерасчета);
	КонецЕсли;
	
	Если СтруктураДанных.ВидВыплаты = "1" Тогда
		ROW.FSS_PAYMENT_FLAG = ?(ЗначениеЗаполнено(СтруктураДанных.ДатаНачалаОплаты), 1, 0);
	КонецЕсли;
	
	ROW.DOC_TYPE   = СтруктураДанных.ВидВыплаты;
	ROW.DOC_DT1    = СтруктураДанных.ДатаПредставленияПакетаДокументов;
	ROW.SNILS      = СтрЗаменить(СтрЗаменить(СтруктураДанных.СтраховойНомерПФР, "-","")," ","");
	ROW.INN_PERSON = СтруктураДанных.ИНН;
	ROW.SURNAME    = СтруктураДанных.Фамилия;
	ROW.NAME       = СтруктураДанных.Имя;
	ROW.PATRONIMIC = СтруктураДанных.Отчество;
	
	ROW.RESIDENT_FLAG = ПредставлениеСтатусаНалогоплательщикаДляРеестра(СтруктураДанных.СтатусНалогоплательщикаПолучателя);
	
	ROW.RESIDENT_CODE = СтруктураДанных.КодСтраны;
	ROW.BIRTHDAY      = СтруктураДанных.ДатаРождения;
	ROW.GENDER        = Формат(СтруктураДанных.Пол = Перечисления.ПолФизическогоЛица.Женский, "БЛ=0; БИ=1");
	ROW.ID_TYPE       = СтруктураДанных.ВидУдостоверенияЛичности;
	ROW.ID_NO         = СтруктураДанных.СерияДокумента + " " + СтруктураДанных.НомерДокумента;
	ROW.ID_DT         = СтруктураДанных.ДатаВыдачиДокумента;
	ROW.ID_DEPT       = СокрЛП(СтруктураДанных.КемВыданДокумент);
	ROW.OWNER_FLAG    = 1;
	
	ROW.EMPL_FLAG = Формат(СтруктураДанных.Совместительство, "БЛ=1; БИ=0");
	
	// Приказ страхователя:
	// 1 - о досрочном выходе на работу;
	// 2 - о прекращении трудовых отношений.
	Если СтруктураДанных.ДосрочноеПрекращениеОтпускаПоУходуТипПриказа = Перечисления.СостоянияСотрудника.Работа Тогда
		HOLID_TYPE = "1";
	ИначеЕсли СтруктураДанных.ДосрочноеПрекращениеОтпускаПоУходуТипПриказа = Перечисления.СостоянияСотрудника.Увольнение Тогда
		HOLID_TYPE = "2";
	Иначе
		HOLID_TYPE = Неопределено;
	КонецЕсли;
	Если HOLID_TYPE <> Неопределено Тогда
		ROW.HOLID_TYPE  = HOLID_TYPE;
		ROW.HOLID_NO    = СтруктураДанных.ДосрочноеПрекращениеОтпускаПоУходуНомерПриказа;
		ROW.HOLID_DT    = СтруктураДанных.ДосрочноеПрекращениеОтпускаПоУходуДатаПриказа;
		ROW.HOLID_DT_EX = СтруктураДанных.ДосрочноеПрекращениеОтпускаПоУходуДатаПрекращенияОплаты;
	КонецЕсли;
	
	// Извещение о представлении недостающих сведений в ФСС;
	// Решение об отказе в назначении пособия:
	Если СтруктураДанных.ИзвещениеИзФССИспользование Тогда
		ROW.RESP_NO = СтруктураДанных.ИзвещениеИзФССНомер;
		ROW.RESP_DT = СтруктураДанных.ИзвещениеИзФССДата;
	КонецЕсли;
	
	Если СтруктураДанных.СпособВыплатыПособия = Перечисления.СпособыВыплатыПособия.ПочтовымПереводом Тогда
		ROW.PAYMENT_TYPE = "0"; // Способ выплаты: почтовый перевод.
		
		ТипАдреса = Справочники.ВидыКонтактнойИнформации.АдресМестаПроживанияФизическиеЛица;
		ОписаниеАдреса = УчетПособийСоциальногоСтрахования.ОписаниеАдреса(СтруктураДанных.АдресПолучателяФактический, ТипАдреса);
		
		ROW.POST_INDEX 		= ОписаниеАдреса.Индекс;
		ROW.ADDR_A1 		= ОписаниеАдреса.Регион;
		ROW.ADDR_A2 		= ОписаниеАдреса.Район;
		ROW.ADDR_A3 		= ОписаниеАдреса.Город;
		ROW.ADDR_A4 		= ОписаниеАдреса.НаселенныйПункт;
		ROW.ADDR_A5 		= ОписаниеАдреса.Улица;
		ROW.ADDR_HOUSE 		= ОписаниеАдреса.Дом;
		ROW.ADDR_BUILDING 	= ОписаниеАдреса.Корпус;
		ROW.ADDR_FLAT 		= ОписаниеАдреса.Квартира;
		
		ROW.ADDR_KLADR 		= "#" + СтруктураДанных.АдресПолучателяФактическийКодКЛАДР;
		ROW.ADDR_GUID 		= СтруктураДанных.АдресПолучателяФактическийИдентификаторФИАС;
		
	Иначе
		Если СтруктураДанных.СпособВыплатыПособия = Перечисления.СпособыВыплатыПособия.НаКартуМИР Тогда
			ROW.PAYMENT_TYPE = "2"; // Способ выплаты: банковский счет (карта МИР).
			ROW.PAYCARD_NUM  = БанковскиеКарты.ПолныйНомерКарты(СтруктураДанных.КартаМИР);
			ЗаполнятьБанковскиеРеквизиты = ЗначениеЗаполнено(СтруктураДанных.НомерЛицевогоСчета);
		ИначеЕсли СтруктураДанных.СпособВыплатыПособия = Перечисления.СпособыВыплатыПособия.ЧерезБанк Тогда
			ROW.PAYMENT_TYPE = "1"; // Способ выплаты: банковский счет (расчетный счет).
			ЗаполнятьБанковскиеРеквизиты = Истина;
		КонецЕсли;
		Если ЗаполнятьБанковскиеРеквизиты Тогда
			ROW.ACCOUNT_BIC  = СтруктураДанных.БИКБанка;
			ROW.ACCOUNT_NAME = СтруктураДанных.НаименованиеБанка;
			ROW.ACCOUNT      = ОставитьТолькоЦифрыВСтроке(СтруктураДанных.НомерЛицевогоСчета);
		КонецЕсли;
	КонецЕсли;
	
	Если ЗначениеЗаполнено(СтруктураДанных.АдресПолучателяРегистрации) Тогда
		Если СтруктураДанных.СтатусНалогоплательщикаПолучателя = ОбщегоНазначения.ПредопределенныйЭлемент("Справочник.СтатусыНалогоплательщиковПоНДФЛ.Резидент") Тогда	
			
			ТипАдреса = Справочники.ВидыКонтактнойИнформации.АдресПоПропискеФизическиеЛица;
			ОписаниеАдреса = УчетПособийСоциальногоСтрахования.ОписаниеАдреса(СтруктураДанных.АдресПолучателяРегистрации, ТипАдреса);
			
			ROW.POST_INDEX2 		= ОписаниеАдреса.Индекс;
			ROW.ADDR2_A1 			= ОписаниеАдреса.Регион;
			ROW.ADDR2_A2 			= ОписаниеАдреса.Район;
			ROW.ADDR2_A3 			= ОписаниеАдреса.Город;
			ROW.ADDR2_A4 			= ОписаниеАдреса.НаселенныйПункт;
			ROW.ADDR2_A5 			= ОписаниеАдреса.Улица;
			ROW.ADDR2_HOUSE 		= ОписаниеАдреса.Дом;
			ROW.ADDR2_BUILDING 		= ОписаниеАдреса.Корпус;
			ROW.ADDR2_FLAT 			= ОписаниеАдреса.Квартира;
			
			ROW.ADDR2_KLADR 		= "#" + СтруктураДанных.АдресПолучателяРегистрацииКодКЛАДР;
			ROW.ADDR2_GUID 			= СтруктураДанных.АдресПолучателяРегистрацииИдентификаторФИАС;
			
		Иначе
			
			ТипАдреса = Справочники.ВидыКонтактнойИнформации.АдресПоПропискеФизическиеЛица;
			ROW.ADDR2 = УправлениеКонтактнойИнформацией.ПредставлениеКонтактнойИнформации(СтруктураДанных.АдресПолучателяРегистрации, ТипАдреса);
			
		КонецЕсли;
	КонецЕсли;
		
	Если СтруктураДанных.РайонныйКоэффициент >= 1.10 И СтруктураДанных.РайонныйКоэффициент <= 3 Тогда
		ROW.KF_REG = СтруктураДанных.РайонныйКоэффициент * 100;
	Иначе
		ROW.KF_REG = 100;
	КонецЕсли;
	
	Если СтруктураДанных.ВидВыплаты = "1" Или СтруктураДанных.ВидВыплаты = "2" Тогда
		Если ЗначениеЗаполнено(СтруктураДанных.ПериодПростояС1) И ЗначениеЗаполнено(СтруктураДанных.ПериодПростояПо1)
			Или ЗначениеЗаполнено(СтруктураДанных.ПериодПростояС2) И ЗначениеЗаполнено(СтруктураДанных.ПериодПростояПо2) Тогда
			
			ТипPERIODS = ROW.Свойства().Получить("PERIODS").Тип;
			PERIODS = ФабрикаXDTO.Создать(ТипPERIODS);
			
			ТипPERIOD = PERIODS.Свойства().Получить("PERIOD").Тип;
			
			Если ЗначениеЗаполнено(СтруктураДанных.ПериодПростояС1) И ЗначениеЗаполнено(СтруктураДанных.ПериодПростояПо1) Тогда
				
				PERIOD = ФабрикаXDTO.Создать(ТипPERIOD);
				
				PERIOD.START_DATE 	= Формат(СтруктураДанных.ПериодПростояС1, "ДФ=yyyy-MM-dd");
				PERIOD.END_DATE 	= Формат(СтруктураДанных.ПериодПростояПо1, "ДФ=yyyy-MM-dd");
				PERIOD.IDLE_AVERAGE = СтруктураДанных.СреднийЗаработокНаПериодПростоя1;
				
				PERIODS.PERIOD.Добавить(PERIOD);
				
			КонецЕсли;
			
			Если ЗначениеЗаполнено(СтруктураДанных.ПериодПростояС2) И ЗначениеЗаполнено(СтруктураДанных.ПериодПростояПо2) Тогда
				
				PERIOD = ФабрикаXDTO.Создать(ТипPERIOD);
				
				PERIOD.START_DATE 	= Формат(СтруктураДанных.ПериодПростояС2, "ДФ=yyyy-MM-dd");
				PERIOD.END_DATE 	= Формат(СтруктураДанных.ПериодПростояПо2, "ДФ=yyyy-MM-dd");
				PERIOD.IDLE_AVERAGE = СтруктураДанных.СреднийЗаработокНаПериодПростоя2;
				
				PERIODS.PERIOD.Добавить(PERIOD);
				
			КонецЕсли;
			
			ROW.PERIODS.Добавить(PERIODS);
			
		КонецЕсли;
		
		РазностьСтажей = УчетПособийСоциальногоСтрахования.ПодсчитатьРазностьСтажейВГодахИМесяцах(
			СтруктураДанных.СтажРасширенныйЛет,
			СтруктураДанных.СтажРасширенныйМесяцев,
			СтруктураДанных.СтажЛет,
			СтруктураДанных.СтажМесяцев);
		Если РазностьСтажей.РазностьЛет <> 0 Или РазностьСтажей.РазностьМесяцев <> 0 Тогда
			ROW.INSUR_YY = СтруктураДанных.СтажРасширенныйЛет;
			ROW.INSUR_MM = СтруктураДанных.СтажРасширенныйМесяцев;
			ROW.NOT_INSUR_YY = РазностьСтажей.РазностьЛет;
			ROW.NOT_INSUR_MM = РазностьСтажей.РазностьМесяцев;
		Иначе
			ROW.INSUR_YY = СтруктураДанных.СтажЛет;
			ROW.INSUR_MM = СтруктураДанных.СтажМесяцев;
		КонецЕсли;
		
		ROW.LN_CODE = СтруктураДанных.НомерВходящегоДокумента;
		ROW.LN_TYPE = Формат(СтруктураДанных.ЭтоЭЛН, "БЛ=0; БИ=1");
		ROW.LN_DATE = Формат(СтруктураДанных.ДатаВыдачиБольничного, "ДФ=yyyy-MM-dd");
		Если ЗначениеЗаполнено(СтруктураДанных.НомерПервичногоБольничного) Тогда
			ROW.PREV_LN_CODE = СтруктураДанных.НомерПервичногоБольничного;
			ROW.PRIMARY_FLAG = 0;
		Иначе
			ROW.PRIMARY_FLAG = 1;
		КонецЕсли;
		ROW.DUPLICATE_FLAG = Формат(СтруктураДанных.ЯвляетсяДубликатом, "БЛ=0; БИ=1");
		ROW.LPU_NAME       = СтруктураДанных.НаименованиеЛПУ;
		ROW.LPU_OGRN       = СтруктураДанных.ОГРН_ЛПУ;
		ROW.LPU_ADDRESS    = СтруктураДанных.Адрес_ЛПУ;
		ROW.REASON1        = СтруктураДанных.КодПричиныНетрудоспособности;
		ROW.REASON2        = СтруктураДанных.ДополнительныйКодПричиныНетрудоспособности;
		ROW.REASON3        = СтруктураДанных.ВторойКодПричиныНетрудоспособности;
		Если СтруктураДанных.Совместительство Тогда
			ROW.PARENT_CODE = СтруктураДанных.НомерЛисткаПоОсновномуМестуРаботы;
		КонецЕсли;
		ROW.DATE1 			= Формат(СтруктураДанных.ДатаИзмененияКодаПричиныНетрудоспособности, "ДФ=yyyy-MM-dd");
		ROW.DATE2 			= Формат(СтруктураДанных.ДатаОкончанияПутевки, "ДФ=yyyy-MM-dd");
		ROW.VOUCHER_NO 		= СтруктураДанных.НомерПутевки;
		ROW.VOUCHER_OGRN 	= СтруктураДанных.ОГРН_Санатория;
		Если ЗначениеЗаполнено(СтруктураДанных.УходЗаРодственникомФИО1) Тогда
			ROW.SERV1_AGE 			= СтруктураДанных.УходЗаРодственникомЛет1;
			ROW.SERV1_MM 			= СтруктураДанных.УходЗаРодственникомМесяцев1;
			ROW.SERV1_RELATION_CODE = СтруктураДанных.УходЗаРодственникомРодственнаяСвязь1;
			ROW.SERV1_FIO 			= СтруктураДанных.УходЗаРодственникомФИО1;
			ROW.SERV1_DAYS 			= СтруктураДанных.УходЗаРодственникомИспользованоДней1;
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.УходЗаРодственникомФИО2) Тогда
			ROW.SERV2_AGE 			= СтруктураДанных.УходЗаРодственникомЛет2;
			ROW.SERV2_MM 			= СтруктураДанных.УходЗаРодственникомМесяцев2;
			ROW.SERV2_RELATION_CODE = СтруктураДанных.УходЗаРодственникомРодственнаяСвязь2;
			ROW.SERV2_FIO 			= СтруктураДанных.УходЗаРодственникомФИО2;
			ROW.SERV2_DAYS 			= СтруктураДанных.УходЗаРодственникомИспользованоДней2;
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.ПериодНахожденияВСтационареСРебенкомС) И ЗначениеЗаполнено(СтруктураДанных.ПериодНахожденияВСтационареСРебенкомПо) Тогда
			ROW.HOSPITAL_DT1 = Формат(СтруктураДанных.ПериодНахожденияВСтационареСРебенкомС, "ДФ=yyyy-MM-dd");
			ROW.HOSPITAL_DT2 = Формат(СтруктураДанных.ПериодНахожденияВСтационареСРебенкомПо, "ДФ=yyyy-MM-dd");
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.КодНарушенияРежима) И ЗначениеЗаполнено(СтруктураДанных.ДатаНарушенияРежима) Тогда
			ROW.HOSPITAL_BREACH_CODE = СтруктураДанных.КодНарушенияРежима;
			ROW.HOSPITAL_BREACH_DT   = Формат(СтруктураДанных.ДатаНарушенияРежима, "ДФ=yyyy-MM-dd");
		КонецЕсли;
		ROW.MSE_DT1 = Формат(СтруктураДанных.ДатаНаправленияВБюроМСЭ, "ДФ=yyyy-MM-dd");
		ROW.MSE_DT2 = Формат(СтруктураДанных.ДатаРегистрацииДокументовМСЭ, "ДФ=yyyy-MM-dd");
		ROW.MSE_DT3 = Формат(СтруктураДанных.ДатаОсвидетельствованияМСЭ, "ДФ=yyyy-MM-dd");
		Если ЗначениеЗаполнено(СтруктураДанных.ГруппаИнвалидности) Тогда
			ROW.MSE_INVALID_GROUP = СтруктураДанных.ГруппаИнвалидности;
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.ДнейБолезниИнвалида) Тогда
			ROW.MSE_INVALID_DAYS = СтруктураДанных.ДнейБолезниИнвалида;
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.НовыйСтатусНетрудоспособного) Тогда
			ROW.MSE_RESULT = СтруктураДанных.НовыйСтатусНетрудоспособного;
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.ОсвобождениеС1) И ЗначениеЗаполнено(СтруктураДанных.ОсвобождениеПо1) Тогда
			ROW.TREAT1_DT1          = Формат(СтруктураДанных.ОсвобождениеС1, "ДФ=yyyy-MM-dd");
			ROW.TREAT1_DT2          = Формат(СтруктураДанных.ОсвобождениеПо1, "ДФ=yyyy-MM-dd");
			ROW.TREAT1_DOCTOR_ROLE  = СтруктураДанных.ДолжностьВрача1;
			ROW.TREAT1_DOCTOR       = СтруктураДанных.ФИОВрача1;
			ROW.TREAT1_DOC_ID       = СтруктураДанных.ИдентификационныйНомерВрача1;
			ROW.TREAT1_DOCTOR2_ROLE = СтруктураДанных.ДолжностьВрачаПредседателяВК1;
			ROW.TREAT1_CHAIRMAN_VK  = СтруктураДанных.ФИОВрачаПредседателяВК1;
			ROW.TREAT1_DOC2_ID      = СтруктураДанных.ИдентификационныйНомерВрачаПредседателяВК1;
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.ОсвобождениеС2) И ЗначениеЗаполнено(СтруктураДанных.ОсвобождениеПо2) Тогда
			ROW.TREAT2_DT1          = Формат(СтруктураДанных.ОсвобождениеС2, "ДФ=yyyy-MM-dd");
			ROW.TREAT2_DT2          = Формат(СтруктураДанных.ОсвобождениеПо2, "ДФ=yyyy-MM-dd");
			ROW.TREAT2_DOCTOR_ROLE  = СтруктураДанных.ДолжностьВрача2;
			ROW.TREAT2_DOCTOR       = СтруктураДанных.ФИОВрача2;
			ROW.TREAT2_DOC_ID       = СтруктураДанных.ИдентификационныйНомерВрача2;
			ROW.TREAT2_DOCTOR2_ROLE = СтруктураДанных.ДолжностьВрачаПредседателяВК2;
			ROW.TREAT2_CHAIRMAN_VK  = СтруктураДанных.ФИОВрачаПредседателяВК2;
			ROW.TREAT2_DOC2_ID      = СтруктураДанных.ИдентификационныйНомерВрачаПредседателяВК2;
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.ОсвобождениеС3) И ЗначениеЗаполнено(СтруктураДанных.ОсвобождениеПо3) Тогда
			ROW.TREAT3_DT1          = Формат(СтруктураДанных.ОсвобождениеС3, "ДФ=yyyy-MM-dd");
			ROW.TREAT3_DT2          = Формат(СтруктураДанных.ОсвобождениеПо3, "ДФ=yyyy-MM-dd");
			ROW.TREAT3_DOCTOR_ROLE  = СтруктураДанных.ДолжностьВрача3;
			ROW.TREAT3_DOCTOR       = СтруктураДанных.ФИОВрача3;
			ROW.TREAT3_DOC_ID       = СтруктураДанных.ИдентификационныйНомерВрача3;
			ROW.TREAT3_DOCTOR2_ROLE = СтруктураДанных.ДолжностьВрачаПредседателяВК3;
			ROW.TREAT3_CHAIRMAN_VK  = СтруктураДанных.ФИОВрачаПредседателяВК3;
			ROW.TREAT3_DOC2_ID      = СтруктураДанных.ИдентификационныйНомерВрачаПредседателяВК3;
		КонецЕсли;
		ROW.OTHER_STATE_DT 			= Формат(СтруктураДанных.ДатаНовыйСтатусНетрудоспособного, "ДФ=yyyy-MM-dd");
		ROW.RETURN_DATE_LPU 		= Формат(СтруктураДанных.ДатаВыходаНаРаботу, "ДФ=yyyy-MM-dd");
		ROW.NEXT_LN_CODE 			= СтруктураДанных.НомерЛисткаПродолжения;
		ROW.CALC_CONDITION1 		= СтруктураДанных.УсловияИсчисленияКод1;
		ROW.CALC_CONDITION2 		= СтруктураДанных.УсловияИсчисленияКод2;
		ROW.CALC_CONDITION3 		= СтруктураДанных.УсловияИсчисленияКод3;
		Если СтруктураДанных.УсловияИсчисленияКод1 = "43" Или СтруктураДанных.УсловияИсчисленияКод2 = "43" Или СтруктураДанных.УсловияИсчисленияКод3 = "43" Тогда
			Если СтруктураДанных.ВыплатаЗаСчетФедеральногоБюджета = Перечисления.ОснованияФинансированияПособияФедеральнымБюджетом.Чернобыль Тогда
				ROW.CODE_NUCLEAR 	= 1;
			ИначеЕсли СтруктураДанных.ВыплатаЗаСчетФедеральногоБюджета = Перечисления.ОснованияФинансированияПособияФедеральнымБюджетом.Семипалатинск Тогда
				ROW.CODE_NUCLEAR 	= 2;
			ИначеЕсли СтруктураДанных.ВыплатаЗаСчетФедеральногоБюджета = Перечисления.ОснованияФинансированияПособияФедеральнымБюджетом.Маяк Тогда
				ROW.CODE_NUCLEAR 	= 3;
			ИначеЕсли СтруктураДанных.ВыплатаЗаСчетФедеральногоБюджета = Перечисления.ОснованияФинансированияПособияФедеральнымБюджетом.ПодразделенияОсобогоРиска Тогда
				ROW.CODE_NUCLEAR	= 4;
			КонецЕсли;
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.ДатаАктаФормыН1) Тогда
			ROW.FORM1_DT 			= Формат(СтруктураДанных.ДатаАктаФормыН1, "ДФ=yyyy-MM-dd");
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.ДатаНачалаРаботы) Тогда
			ROW.RETURN_DATE_EMPL 	= Формат(СтруктураДанных.ДатаНачалаРаботы, "ДФ=yyyy-MM-dd");
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.СрочныйДоговорС) И ЗначениеЗаполнено(СтруктураДанных.СрочныйДоговорПо) Тогда
			ROW.WORK_CONTRACT_START_DT 	= Формат(СтруктураДанных.СрочныйДоговорС, "ДФ=yyyy-MM-dd");
			ROW.WORK_CONTRACT_FINISH_DT = Формат(СтруктураДанных.СрочныйДоговорПо, "ДФ=yyyy-MM-dd");
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.ДатаНачалаОплаты) Тогда
			ROW.DT1 = Формат(СтруктураДанных.ДатаНачалаОплаты, "ДФ=yyyy-MM-dd");
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.ДатаОкончанияОплаты) Тогда
			ROW.DT2 = Формат(СтруктураДанных.ДатаОкончанияОплаты, "ДФ=yyyy-MM-dd");
		КонецЕсли;		
		Если ЗначениеЗаполнено(СтруктураДанных.СуммаПособияРаботодателя) Тогда
			ROW.EMPL_PAYMENT 	= СтруктураДанных.СуммаПособияРаботодателя;
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.СуммаПособияФСС) Тогда
			ROW.FSS_PAYMENT		= СтруктураДанных.СуммаПособияФСС;
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.СуммаПособияВсего) Тогда
			ROW.PAYMENT 		= СтруктураДанных.СуммаПособияВсего;
		КонецЕсли;
	КонецЕсли;
	
	Если СтруктураДанных.ВидВыплаты = "2" Тогда
		Если СтруктураДанных.ВидПособия = Перечисления.ПособияНазначаемыеФСС.ПособиеПоБеременностиИРодам
			И СтруктураДанных.ПоставленаНаУчетВРанниеСрокиБеременности = Перечисления.ПостановкаНаУчетВРанниеСрокиБеременности.НеИзвестно Тогда
			ROW.PREGN12W_FLAG = "2";
		Иначе
			ROW.PREGN12W_FLAG = "0";
		КонецЕсли;
	ИначеЕсли СтруктураДанных.ВидВыплаты = "3" Тогда
		ROW.PREGN12W_FLAG = "1";
	КонецЕсли;
	
	Если СтруктураДанных.ВидВыплаты = "1" Или СтруктураДанных.ВидВыплаты = "2" Или СтруктураДанных.ВидВыплаты = "5" Тогда
		ROW.BASE_AVG_DAILY_SAL = СтруктураДанных.СреднийДневнойЗаработок;
		Если СтруктураДанных.ПорядокРасчетаСреднегоЗаработка = Перечисления.СпособыРасчетаСреднегоЗаработкаДляОплатыПособия.СреднийЗаработок Тогда
			ROW.YEAR1 = СтруктураДанных.ПервыйГодРасчета;
			ROW.YEAR2 = СтруктураДанных.ВторойГодРасчета;
			
			Если СтруктураДанных.ЗамененыКалендарныеГодыРасчетаСреднегоЗаработка Тогда
				ROW.YEAR_CHANGE_FLAG = 1;
				ROW.YEAR1_OLD = СтруктураДанных.ЗамененныйПервыйГодРасчета;
				ROW.YEAR2_OLD = СтруктураДанных.ЗамененныйВторойГодРасчета;
			Иначе
				ROW.YEAR_CHANGE_FLAG = 0;
			КонецЕсли;
			
			ROW.BASE_CALC_DAYS = СтруктураДанных.КалендарныхДнейРасчетногоПериода;
			ROW.BASE_SUM1 = СтруктураДанных.ЗаработокПервыйГодРасчета;
			ROW.BASE_SUM2 = СтруктураДанных.ЗаработокВторойГодРасчета;
			ROW.BASE_AVG_SAL = СреднийЗаработокЗаДваКалендарныхГода(СтруктураДанных);
		КонецЕсли;
		Если СтруктураДанных.ДоляВремени > 0 И СтруктураДанных.ДоляВремени < 1 Тогда
			ROW.KF_SHORT_DAY = Окр(СтруктураДанных.ДоляВремени, 3);
		Иначе
			ROW.KF_SHORT_DAY = 1;
		КонецЕсли;
	КонецЕсли;
	
	Если СтруктураДанных.ВидВыплаты = "3" Тогда
		ROW.REF_12WEEK_NO = СтруктураДанных.НомерСправкиБеременной;
		ROW.REF_12WEEK_DT = Формат(СтруктураДанных.ДатаСправкиБеременной, "ДФ=yyyy-MM-dd");
	КонецЕсли;
	
	Если СтруктураДанных.ВидВыплаты = "4" Тогда
		
		Если ЗначениеЗаполнено(СтруктураДанных.ВидСправкиОРожденииРебенка) И ЗначениеЗаполнено(СтруктураДанных.НомерСправки) И ЗначениеЗаполнено(СтруктураДанных.ДатаСправки) Тогда
			Если СтруктураДанных.ВидСправкиОРожденииРебенка = Перечисления.ФормыСправкиОРожденииРебенка.Форма24 Тогда
				ВидСправкиОРожденииРебенка = "24"; 
			ИначеЕсли СтруктураДанных.ВидСправкиОРожденииРебенка = Перечисления.ФормыСправкиОРожденииРебенка.Форма25 Тогда
				ВидСправкиОРожденииРебенка = "25"; 
			ИначеЕсли СтруктураДанных.ВидСправкиОРожденииРебенка = Перечисления.ФормыСправкиОРожденииРебенка.Форма26 Тогда
				ВидСправкиОРожденииРебенка = "26"; 
			ИначеЕсли СтруктураДанных.ВидСправкиОРожденииРебенка = Перечисления.ФормыСправкиОРожденииРебенка.Форма1 Тогда
				ВидСправкиОРожденииРебенка = "48";
			ИначеЕсли СтруктураДанных.ВидСправкиОРожденииРебенка = Перечисления.ФормыСправкиОРожденииРебенка.Форма2 Тогда
				ВидСправкиОРожденииРебенка = "49";
			ИначеЕсли СтруктураДанных.ВидСправкиОРожденииРебенка = Перечисления.ФормыСправкиОРожденииРебенка.Форма3 Тогда
				ВидСправкиОРожденииРебенка = "50";
			ИначеЕсли СтруктураДанных.ВидСправкиОРожденииРебенка = Перечисления.ФормыСправкиОРожденииРебенка.Форма4 Тогда
				ВидСправкиОРожденииРебенка = "51"; 
			КонецЕсли;	
			ROW.REF_TYPE = ВидСправкиОРожденииРебенка;
			ROW.REF_24_NO = СтруктураДанных.НомерСправки;
			ROW.REF_24_DT = Формат(СтруктураДанных.ДатаСправки, "ДФ=yyyy-MM-dd");
		Иначе 	
			Если ЗначениеЗаполнено(СтруктураДанных.ДокументОРожденииДатаВыдачи) Тогда
				ROW.O_CERT_NO = СтруктураДанных.ДокументОРожденииСерияНомер;
				ROW.O_CERT_DT = Формат(СтруктураДанных.ДокументОРожденииДатаВыдачи, "ДФ=yyyy-MM-dd");
			Иначе
				ROW.O_CERT_NO = ?(ЗначениеЗаполнено(СтруктураДанных.НомерИногоПодтвержденияРождения), СтруктураДанных.НомерИногоПодтвержденияРождения, "00000000");
				ROW.O_CERT_DT = ?(ЗначениеЗаполнено(СтруктураДанных.ДатаИногоПодтвержденияРождения), Формат(СтруктураДанных.ДатаИногоПодтвержденияРождения, "ДФ=yyyy-MM-dd"), Формат(СтруктураДанных.ДатаРожденияРебенка, "ДФ=yyyy-MM-dd"));								
			КонецЕсли;
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.НомерДоговораОПередачеНаВоспитание) И ЗначениеЗаполнено(СтруктураДанных.ДатаДоговораОПередачеНаВоспитание) Тогда
			ROW.REF_FAMILY_NO = СтруктураДанных.НомерДоговораОПередачеНаВоспитание;
			ROW.REF_FAMILY_DT = Формат(СтруктураДанных.ДатаДоговораОПередачеНаВоспитание, "ДФ=yyyy-MM-dd");
		КонецЕсли;
		ROW.REF_NPAY_OTHER_NO = СтруктураДанных.НомерСправкиОтДругогоРодителя;
		ROW.REF_NPAY_OTHER_DT = Формат(СтруктураДанных.ДатаСправкиОтДругогоРодителя, "ДФ=yyyy-MM-dd"); 
		
	КонецЕсли;
	
	Если СтруктураДанных.ВидВыплаты = "4" Или СтруктураДанных.ВидВыплаты = "5" Тогда
		
		ROW.CERT_BR = Формат(СтруктураДанных.ДатаРожденияРебенка, "ДФ=yyyy-MM-dd");
		ROW.CERT_SURNAME = СтруктураДанных.ФамилияРебенка;
		ROW.CERT_NAME = СтруктураДанных.ИмяРебенка;
		ROW.CERT_PATRONIMIC = СтруктураДанных.ОтчествоРебенка;
		Если ЗначениеЗаполнено(СтруктураДанных.УсыновлениеОпека) Тогда
			ROW.WARD_FLAG = СтруктураДанных.УсыновлениеОпека;
			ROW.WARD_REF_NO = СтруктураДанных.УсыновлениеОпекаСерияНомер;
			ROW.WARD_REF_DT = Формат(СтруктураДанных.УсыновлениеОпекаДатаВыдачи,"ДФ=yyyy-MM-dd");
		КонецЕсли;
	КонецЕсли;
	
	Если СтруктураДанных.ВидВыплаты = "5" Тогда
		
		ROW.HOLID_DT_ST = Формат(СтруктураДанных.ДатаНачала, "ДФ=yyyy-MM-dd");
		ROW.HOLID_DT_FN = Формат(СтруктураДанных.ДатаОкончания, "ДФ=yyyy-MM-dd");
		ROW.MULTPATR = Формат(СтруктураДанных.ОдновременныйУходЗаНесколькимиДетьми,"БЛ=0; БИ=1");
		ROW.CHILD_SER = СтруктураДанных.Очередность;
		ROW.MH_OUT = Формат(СтруктураДанных.НаличиеРешенияСудаОЛишенииПрав,"БЛ=0; БИ=1");
		ROW.OTHER_CHILD_FLAG_DT = Формат(СтруктураДанных.НаличиеДокументаОСмерти,"БЛ=0; БИ=1");
		ROW.OTHER_CHILD_FLAG_BR = Формат(СтруктураДанных.НаличиеДокументаОРождении,"БЛ=0; БИ=1");
		
		Если СтруктураДанных.ДокументОРожденииВид = Перечисления.ВидыПодтверждающихДокументовОтпускаПоУходу.СвидетельствоОРождении Тогда
			ROW.CERT_NO = СтруктураДанных.ДокументОРожденииСерияНомер;
			ROW.CERT_DT = Формат(СтруктураДанных.ДокументОРожденииДатаВыдачи, "ДФ=yyyy-MM-dd");
		Иначе
			Если ЗначениеЗаполнено(СтруктураДанных.ДокументОРожденииДатаВыдачи) Тогда
				ROW.O_CERT_NO = СтруктураДанных.ДокументОРожденииСерияНомер;
				ROW.O_CERT_DT = Формат(СтруктураДанных.ДокументОРожденииДатаВыдачи, "ДФ=yyyy-MM-dd");
			Иначе
				ROW.O_CERT_NO = ?(ЗначениеЗаполнено(СтруктураДанных.НомерИногоПодтвержденияРождения), СтруктураДанных.НомерИногоПодтвержденияРождения, "00000000");
				ROW.O_CERT_DT = ?(ЗначениеЗаполнено(СтруктураДанных.ДатаИногоПодтвержденияРождения), Формат(СтруктураДанных.ДатаИногоПодтвержденияРождения, "ДФ=yyyy-MM-dd"), Формат(СтруктураДанных.ДатаРожденияРебенка, "ДФ=yyyy-MM-dd"));								
			КонецЕсли;
		КонецЕсли;
		Если СтруктураДанных.ОдновременныйУходЗаНесколькимиДетьми Тогда
			ROW.AVG_SAL = Окр(СтруктураДанных.СреднийДневнойЗаработок * 30.4, 2);
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.НомерПриказаНаОтпускПоУходуЗаРебенком) И ЗначениеЗаполнено(СтруктураДанных.ДатаПриказаНаОтпускПоУходуЗаРебенком) Тогда
			ROW.HOLID_ORD_NO = СтруктураДанных.НомерПриказаНаОтпускПоУходуЗаРебенком;
			ROW.HOLID_ORD_DT = Формат(СтруктураДанных.ДатаПриказаНаОтпускПоУходуЗаРебенком, "ДФ=yyyy-MM-dd");
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.НомерПриказаОЗаменеПослеродовогоОтпуска) И ЗначениеЗаполнено(СтруктураДанных.ДатаПриказаОЗаменеПослеродовогоОтпуска) Тогда
			ROW.HOLID_CH_ORD_NO = СтруктураДанных.НомерПриказаОЗаменеПослеродовогоОтпуска;
			ROW.HOLID_CH_ORD_DT = Формат(СтруктураДанных.ДатаПриказаОЗаменеПослеродовогоОтпуска, "ДФ=yyyy-MM-dd");
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.НомерСправкиОНеполученииПособияОтОтца) И ЗначениеЗаполнено(СтруктураДанных.ДатаСправкиОНеполученииПособияОтОтца) Тогда
			ROW.REF_NPAY_FATHER_NO = СтруктураДанных.НомерСправкиОНеполученииПособияОтОтца;
			ROW.REF_NPAY_FATHER_DT = Формат(СтруктураДанных.ДатаСправкиОНеполученииПособияОтОтца, "ДФ=yyyy-MM-dd");
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.НомерСправкиОНеполученииПособияОтМатери) И ЗначениеЗаполнено(СтруктураДанных.ДатаСправкиОНеполученииПособияОтМатери) Тогда
			ROW.REF_NPAY_MOTHER_NO = СтруктураДанных.НомерСправкиОНеполученииПособияОтМатери;
			ROW.REF_NPAY_MOTHER_DT = Формат(СтруктураДанных.ДатаСправкиОНеполученииПособияОтМатери, "ДФ=yyyy-MM-dd");
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.НомерСправкиПоДругимМестамРаботы) И ЗначениеЗаполнено(СтруктураДанных.ДатаСправкиПоДругимМестамРаботы) Тогда
			ROW.REF_NPAY_WORK_NO = СтруктураДанных.НомерСправкиПоДругимМестамРаботы;
			ROW.REF_NPAY_WORK_DT = Формат(СтруктураДанных.ДатаСправкиПоДругимМестамРаботы, "ДФ=yyyy-MM-dd");
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.ДатаСмертиРебенка) Тогда
			ROW.CERT_DT_DATE = Формат(СтруктураДанных.ДатаСмертиРебенка, "ДФ=yyyy-MM-dd");
		КонецЕсли;
		Если ЗначениеЗаполнено(СтруктураДанных.ВыплатаЗаСчетФедеральногоБюджета) 
			И НЕ СтруктураДанных.ВыплатаЗаСчетФедеральногоБюджета = Перечисления.ОснованияФинансированияПособияФедеральнымБюджетом.ЗачетНестраховыхПериодов 
			И ЗначениеЗаполнено(СтруктураДанных.ПроживаниеРаботаВЛьготнойЗоне)
			И НЕ СтруктураДанных.ПроживаниеРаботаВЛьготнойЗоне = Перечисления.ОтношениеКОсобойЗоне.Нет Тогда
			
			Если СтруктураДанных.ПроживаниеРаботаВЛьготнойЗоне = Перечисления.ОтношениеКОсобойЗоне.Проживает Тогда
				ROW.LIVE_COND_FLAG 	= 1; 
			ИначеЕсли СтруктураДанных.ПроживаниеРаботаВЛьготнойЗоне = Перечисления.ОтношениеКОсобойЗоне.Работает Тогда	
				ROW.LIVE_COND_FLAG 	= 2; 
			КонецЕсли;
			
			Если СтруктураДанных.СтатусЛьготнойЗоны = Перечисления.ВидыОсобойЗоныПроживанияРаботы.ЗонаСПравомНаОтселение Тогда
				ROW.LIVE_COND 		= 1;
			ИначеЕсли СтруктураДанных.СтатусЛьготнойЗоны = Перечисления.ВидыОсобойЗоныПроживанияРаботы.ЗонаОтселения Тогда	
				ROW.LIVE_COND 		= 3;
			ИначеЕсли СтруктураДанных.СтатусЛьготнойЗоны = Перечисления.ВидыОсобойЗоныПроживанияРаботы.ЗонаСЛьготнымСоциальноЭкономическимСтатусом Тогда 
				ROW.LIVE_COND 		= 2;
			ИначеЕсли СтруктураДанных.СтатусЛьготнойЗоны = Перечисления.ВидыОсобойЗоныПроживанияРаботы.ЗонаЗагрязненияПриАварииПОМаяк Тогда 
				ROW.LIVE_COND 		= 4;
			КонецЕсли;
			
			Если СтруктураДанных.ВыплатаЗаСчетФедеральногоБюджета = Перечисления.ОснованияФинансированияПособияФедеральнымБюджетом.Чернобыль Тогда
				ROW.CODE_NUCLEAR = 1;
			ИначеЕсли СтруктураДанных.ВыплатаЗаСчетФедеральногоБюджета = Перечисления.ОснованияФинансированияПособияФедеральнымБюджетом.Семипалатинск Тогда
				ROW.CODE_NUCLEAR = 2;
			ИначеЕсли СтруктураДанных.ВыплатаЗаСчетФедеральногоБюджета = Перечисления.ОснованияФинансированияПособияФедеральнымБюджетом.Маяк Тогда
				ROW.CODE_NUCLEAR = 3;
			ИначеЕсли СтруктураДанных.ВыплатаЗаСчетФедеральногоБюджета = Перечисления.ОснованияФинансированияПособияФедеральнымБюджетом.ПодразделенияОсобогоРиска Тогда
				ROW.CODE_NUCLEAR = 4;
			КонецЕсли;
			
		КонецЕсли;
		
	КонецЕсли;
	
КонецПроцедуры

Функция ИмяФайла(ВыборкаПоШапкеДокумента)
	РегистрационныйНомерФСС = УчетПособийСоциальногоСтрахованияКлиентСервер.РегистрационныйНомерДляОбменаФСС(ВыборкаПоШапкеДокумента);
	ДатаЗаявления = Формат(ВыборкаПоШапкеДокумента.ДатаПодачиЗаявления,"ДФ=yyyy_MM_dd");
	НомерДокумента = ПрефиксацияОбъектовКлиентСервер.НомерНаПечать(ВыборкаПоШапкеДокумента.Номер, Истина, Истина);
	НомерДокумента = Прав("0"+ НомерДокумента, 2);
	Возврат "E_" + РегистрационныйНомерФСС + "_" + ДатаЗаявления + "_" + НомерДокумента;
КонецФункции

Функция СформироватьЗапросПоШапкеДокументов(Ссылки)
	
	Запрос = Новый Запрос();
	Запрос.МенеджерВременныхТаблиц = Новый МенеджерВременныхТаблиц;
	Запрос.Текст =
	"ВЫБРАТЬ
	|	ДанныеДокументов.Ссылка КАК Ссылка,
	|	ДанныеДокументов.Дата КАК Дата,
	|	ДанныеДокументов.Дата КАК ДатаПодачиЗаявления,
	|	ДанныеДокументов.Организация КАК Организация,
	|	ДанныеДокументов.РегистрационныйНомерФСС КАК РегистрационныйНомерФСС,
	|	ДанныеДокументов.ДополнительныйКодФСС КАК ДополнительныйКодФСС,
	|	ДанныеДокументов.КодПодчиненностиФСС КАК КодПодчиненностиФСС,
	|	ДанныеДокументов.Руководитель КАК Руководитель,
	|	ДанныеДокументов.ГлавныйБухгалтер КАК ГлавныйБухгалтер,
	|	ДанныеДокументов.РеестрСоставил КАК РеестрСоставил,
	|	ДанныеДокументов.ТелефонСоставителя КАК ТелефонСоставителя,
	|	ДанныеДокументов.АдресЭлектроннойПочтыСоставителя КАК АдресЭлектроннойПочтыСоставителя,
	|	Должности.Наименование КАК ДолжностьРуководителя,
	|	ДанныеДокументов.ОГРН КАК ОГРНОрганизации,
	|	ДанныеДокументов.ИНН КАК ИННОрганизации,
	|	ДанныеДокументов.КПП КАК КППОрганизации,
	|	ВЫБОР
	|		КОГДА (ВЫРАЗИТЬ(ДанныеДокументов.Организация.НаименованиеСокращенное КАК СТРОКА(100))) = """"
	|			ТОГДА ДанныеДокументов.Организация.НаименованиеПолное
	|		ИНАЧЕ ДанныеДокументов.Организация.НаименованиеСокращенное
	|	КОНЕЦ КАК ОрганизацияСокращенно,
	|	ДанныеДокументов.Номер КАК Номер,
	|	ДанныеДокументов.ВидРеестра КАК ВидРеестра
	|ПОМЕСТИТЬ ВТДанныеДокументов
	|ИЗ
	|	Документ.РеестрСведенийНеобходимыхДляНазначенияИВыплатыПособий КАК ДанныеДокументов
	|		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Должности КАК Должности
	|		ПО ДанныеДокументов.ДолжностьРуководителя = Должности.Ссылка
	|ГДЕ
	|	ДанныеДокументов.Ссылка В(&Ссылки)";
	
	Запрос.УстановитьПараметр("Ссылки", Ссылки);
	
	Запрос.Выполнить();
	
	ЗарплатаКадры.СоздатьВТФИООтветственныхЛиц(Запрос.МенеджерВременныхТаблиц, Ложь, "РеестрСоставил,Руководитель,ГлавныйБухгалтер", "ВТДанныеДокументов");
	
	Запрос.Текст =
	"ВЫБРАТЬ
	|	ДанныеДокументов.Ссылка КАК Ссылка,
	|	ДанныеДокументов.ВидРеестра КАК ВидРеестра,
	|	ДанныеДокументов.ДатаПодачиЗаявления КАК ДатаПодачиЗаявления,
	|	ДанныеДокументов.Номер КАК Номер,
	|	ДанныеДокументов.Организация КАК Организация,
	|	ДанныеДокументов.РегистрационныйНомерФСС КАК РегистрационныйНомерФСС,
	|	ДанныеДокументов.ДополнительныйКодФСС КАК ДополнительныйКодФСС,
	|	ДанныеДокументов.КодПодчиненностиФСС КАК КодПодчиненностиФСС,
	|	ДанныеДокументов.Руководитель КАК Руководитель,
	|	ДанныеДокументов.ГлавныйБухгалтер КАК ГлавныйБухгалтер,
	|	ДанныеДокументов.РеестрСоставил КАК РеестрСоставил,
	|	ДанныеДокументов.ТелефонСоставителя КАК ТелефонСоставителя,
	|	ДанныеДокументов.АдресЭлектроннойПочтыСоставителя КАК АдресЭлектроннойПочтыСоставителя,
	|	ДанныеДокументов.ДолжностьРуководителя КАК ДолжностьРуководителя,
	|	ДанныеДокументов.ОГРНОрганизации КАК ОГРНОрганизации,
	|	ДанныеДокументов.ИННОрганизации КАК ИННОрганизации,
	|	ДанныеДокументов.КППОрганизации КАК КППОрганизации,
	|	ДанныеДокументов.ОрганизацияСокращенно КАК ОрганизацияСокращенно,
	|	ФИООтветственныхЛицСоставитель.ФИОПолные КАК ФИОСоставителя,
	|	ФИООтветственныхЛицРуководитель.ФИОПолные КАК ФИОРуководителя,
	|	ФИООтветственныхЛицГлавныйБухгалтер.ФИОПолные КАК ФИОГлавногоБухгалтера
	|ИЗ
	|	ВТДанныеДокументов КАК ДанныеДокументов
	|		ЛЕВОЕ СОЕДИНЕНИЕ ВТФИООтветственныхЛиц КАК ФИООтветственныхЛицСоставитель
	|		ПО ДанныеДокументов.Ссылка = ФИООтветственныхЛицСоставитель.Ссылка
	|			И ДанныеДокументов.РеестрСоставил = ФИООтветственныхЛицСоставитель.ФизическоеЛицо
	|		ЛЕВОЕ СОЕДИНЕНИЕ ВТФИООтветственныхЛиц КАК ФИООтветственныхЛицРуководитель
	|		ПО ДанныеДокументов.Ссылка = ФИООтветственныхЛицРуководитель.Ссылка
	|			И ДанныеДокументов.Руководитель = ФИООтветственныхЛицРуководитель.ФизическоеЛицо
	|		ЛЕВОЕ СОЕДИНЕНИЕ ВТФИООтветственныхЛиц КАК ФИООтветственныхЛицГлавныйБухгалтер
	|		ПО ДанныеДокументов.Ссылка = ФИООтветственныхЛицГлавныйБухгалтер.Ссылка
	|			И ДанныеДокументов.ГлавныйБухгалтер = ФИООтветственныхЛицГлавныйБухгалтер.ФизическоеЛицо
	|
	|УПОРЯДОЧИТЬ ПО
	|	Ссылка";
	
	Возврат Запрос.Выполнить();
	
КонецФункции 

Функция СформироватьЗапросСведенийДляРасчетаПособия(ОписаниеРеестра)
	
	Запрос = Новый Запрос();
	Запрос.МенеджерВременныхТаблиц = Новый МенеджерВременныхТаблиц;
	Запрос.УстановитьПараметр("Ссылка", ОписаниеРеестра.Ссылка);
	Запрос.УстановитьПараметр("Дата", ОписаниеРеестра.Дата);

	ТекстЗапроса = 
	"ВЫБРАТЬ ПЕРВЫЕ 1
	|	Пособия.Заявление.ПервыйРасчетныйГод КАК Год
	|ИЗ
	|	Документ.РеестрСведенийНеобходимыхДляНазначенияИВыплатыПособий.СведенияНеобходимыеДляНазначенияПособий КАК Пособия
	|ГДЕ
	|	Пособия.Ссылка = &Ссылка
	|	И Пособия.Заявление.ПервыйРасчетныйГод <> 0
	|
	|УПОРЯДОЧИТЬ ПО
	|	Год";
	
	Запрос.Текст = ТекстЗапроса;
	МинимальныйГод = Запрос.Выполнить().Выгрузить();
	Если МинимальныйГод.Количество() = 0 Тогда
		ИзмеренияГоды = ОбщегоНазначенияКлиентСервер.ЗначениеВМассиве(Год(ТекущаяДатаСеанса()));
	Иначе
		ИзмеренияГоды = Новый Массив;
		ТекущийГод = МинимальныйГод[0].Год;
		Пока ТекущийГод <= Год(ТекущаяДатаСеанса()) Цикл
			ИзмеренияГоды.Добавить(ТекущийГод);
			ТекущийГод = ТекущийГод + 1;
		КонецЦикла;
	КонецЕсли;
		
	УчетПособийСоциальногоСтрахования.СоздатьВТПредельнаяВеличинаБазы(Запрос.МенеджерВременныхТаблиц, ИзмеренияГоды);
	
	Запрос.УстановитьПараметр("ТаблицаВидовВыплат", ТаблицаВидовВыплат());
	
	Запрос.Текст =
	"ВЫБРАТЬ
	|	ТаблицаВидовВыплат.ВидПособия КАК ВидПособия,
	|	ТаблицаВидовВыплат.ВидВыплаты КАК ВидВыплаты
	|ПОМЕСТИТЬ ВТВидыВыплат
	|ИЗ
	|	&ТаблицаВидовВыплат КАК ТаблицаВидовВыплат
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ЗаявлениеСотрудника.ФамилияПолучателя + "" "" + ЗаявлениеСотрудника.ИмяПолучателя + "" "" + ЗаявлениеСотрудника.ОтчествоПолучателя КАК ФИОСотрудника,
	|	ЗаявлениеСотрудника.ДатаРожденияПолучателя КАК ДатаРождения,
	|	ЕСТЬNULL(ЗаявлениеСотрудника.Гражданство.Код, ""999"") КАК КодСтраны,
	|	ВЫБОР
	|		КОГДА ЗаявлениеСотрудника.ТипЗанятостиРаботника = ЗНАЧЕНИЕ(Перечисление.ВидыЗанятости.ОсновноеМестоРаботы)
	|			ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА
	|	КОНЕЦ КАК Совместительство,
	|	ЗаявлениеСотрудника.СпособВыплатыПособия КАК СпособВыплатыПособия,
	|	ЗаявлениеСотрудника.НаименованиеБанка КАК НаименованиеБанка,
	|	ЗаявлениеСотрудника.Банк КАК Банк,
	|	ЗаявлениеСотрудника.БИКБанка КАК БИКБанка,
	|	ЗаявлениеСотрудника.НомерЛицевогоСчета КАК НомерЛицевогоСчета,
	|	ЗаявлениеСотрудника.КартаМИР КАК КартаМИР,
	|	ЗаявлениеСотрудника.АдресПолучателяРегистрации КАК АдресПолучателяРегистрации,
	|	ЗаявлениеСотрудника.АдресПолучателяРегистрацииИдентификаторФИАС КАК АдресПолучателяРегистрацииИдентификаторФИАС,
	|	ЗаявлениеСотрудника.АдресПолучателяРегистрацииКодКЛАДР КАК АдресПолучателяРегистрацииКодКЛАДР,
	|	ЗаявлениеСотрудника.АдресПолучателяФактический КАК АдресПолучателяФактический,
	|	ЗаявлениеСотрудника.АдресПолучателяФактическийИдентификаторФИАС КАК АдресПолучателяФактическийИдентификаторФИАС,
	|	ЗаявлениеСотрудника.АдресПолучателяФактическийКодКЛАДР КАК АдресПолучателяФактическийКодКЛАДР,
	|	ЗаявлениеСотрудника.ФамилияПолучателя КАК Фамилия,
	|	ЗаявлениеСотрудника.ИмяПолучателя КАК Имя,
	|	ЗаявлениеСотрудника.ОтчествоПолучателя КАК Отчество,
	|	ЗаявлениеСотрудника.СчитатьПоПравилам2010Года КАК СчитатьПоПравилам2010Года,
	|	ЗаявлениеСотрудника.ПорядокРасчетаСреднегоЗаработка КАК ПорядокРасчетаСреднегоЗаработка,
	|	ЗаявлениеСотрудника.ДатаСправкиОПостановкеНаУчетВРанниеСрокиБеременности КАК ДатаСправкиБеременной,
	|	ЗаявлениеСотрудника.НомерСправкиОПостановкеНаУчетВРанниеСрокиБеременности КАК НомерСправкиБеременной,
	|	Пособия.ПоставленаНаУчетВРанниеСрокиБеременности КАК ПоставленаНаУчетВРанниеСрокиБеременности,
	|	ЗаявлениеСотрудника.ПериодПростоя1ДатаНачала КАК ПериодПростояС1,
	|	ЗаявлениеСотрудника.ПериодПростоя1ДатаОкончания КАК ПериодПростояПо1,
	|	ЗаявлениеСотрудника.ПериодПростоя1СреднийЗаработок КАК СреднийЗаработокНаПериодПростоя1,
	|	ВЫБОР
	|		КОГДА ЗаявлениеСотрудника.ВидДокументаУдостоверяющегоЛичностьПолучателя.КодМВД = ""18""
	|			ТОГДА ""19""
	|		ИНАЧЕ ЕСТЬNULL(ЗаявлениеСотрудника.ВидДокументаУдостоверяющегоЛичностьПолучателя.КодМВД, ""01"")
	|	КОНЕЦ КАК ВидУдостоверенияЛичности,
	|	ЗаявлениеСотрудника.СерияДокументаУдостоверяющегоЛичностьПолучателя КАК СерияДокумента,
	|	ЗаявлениеСотрудника.НомерДокументаУдостоверяющегоЛичностьПолучателя КАК НомерДокумента,
	|	ЗаявлениеСотрудника.ДатаВыдачиДокументаУдостоверяющегоЛичностьПолучателя КАК ДатаВыдачиДокумента,
	|	ВЫРАЗИТЬ(ЗаявлениеСотрудника.КемВыданДокументУдостоверяющийЛичностьПолучателя КАК СТРОКА(100)) КАК КемВыданДокумент,
	|	ЗаявлениеСотрудника.СНИЛСПолучателя КАК СтраховойНомерПФР,
	|	ЗаявлениеСотрудника.ИННПолучателя КАК ИНН,
	|	ЗаявлениеСотрудника.НомерПриказаОПредоставленииОтпускаПоУходуЗаРебенком КАК НомерПриказаНаОтпускПоУходуЗаРебенком,
	|	ЗаявлениеСотрудника.ДатаПриказаОПредоставленииОтпускаПоУходуЗаРебенком КАК ДатаПриказаНаОтпускПоУходуЗаРебенком,
	|	ЗаявлениеСотрудника.ДатаНачалаОтпускаПоУходуЗаРебенком КАК ДатаНачала,
	|	ЗаявлениеСотрудника.ДатаОкончанияОтпускаПоУходуЗаРебенком КАК ДатаОкончания,
	|	ЗаявлениеСотрудника.РайонныйКоэффициент КАК РайонныйКоэффициент,
	|	ЗаявлениеСотрудника.ДоляВремени КАК ДоляВремени,
	|	ЗаявлениеСотрудника.ПервыйРасчетныйГод КАК ПервыйГодРасчета,
	|	ЗаявлениеСотрудника.ВторойРасчетныйГод КАК ВторойГодРасчета,
	|	ЗаявлениеСотрудника.ЗамененыКалендарныеГодыРасчетаСреднегоЗаработка КАК ЗамененыКалендарныеГодыРасчетаСреднегоЗаработка,
	|	ЗаявлениеСотрудника.ПервыйЗамененныйГод КАК ЗамененныйПервыйГодРасчета,
	|	ЗаявлениеСотрудника.ВторойЗамененныйГод КАК ЗамененныйВторойГодРасчета,
	|	ВЫБОР
	|		КОГДА ЗаявлениеСотрудника.ЗаработокПервыйГодРасчета > ПредельнаяВеличинаЗаПервыйГодРасчета.Размер
	|			ТОГДА ПредельнаяВеличинаЗаПервыйГодРасчета.Размер
	|		ИНАЧЕ ЗаявлениеСотрудника.ЗаработокПервыйГодРасчета
	|	КОНЕЦ КАК ЗаработокПервыйГодРасчета,
	|	ВЫБОР
	|		КОГДА ЗаявлениеСотрудника.ЗаработокВторойГодРасчета > ПредельнаяВеличинаЗаВторойГодРасчета.Размер
	|			ТОГДА ПредельнаяВеличинаЗаВторойГодРасчета.Размер
	|		ИНАЧЕ ЗаявлениеСотрудника.ЗаработокВторойГодРасчета
	|	КОНЕЦ КАК ЗаработокВторойГодРасчета,
	|	ВЫБОР
	|		КОГДА ЗаявлениеСотрудника.ПорядокРасчетаСреднегоЗаработка = ЗНАЧЕНИЕ(Перечисление.СпособыРасчетаСреднегоЗаработкаДляОплатыПособия.ИсходяИзТарифнойСтавки)
	|				ИЛИ ЗаявлениеСотрудника.ПорядокРасчетаСреднегоЗаработка = ЗНАЧЕНИЕ(Перечисление.СпособыРасчетаСреднегоЗаработкаДляОплатыПособия.ИсходяИзМРОТ)
	|			ТОГДА НАЧАЛОПЕРИОДА(Пособия.ОсвобождениеДатаНачала1, МЕСЯЦ)
	|		ИНАЧЕ ЗаявлениеСотрудника.ДатаНачалаРасчетногоПериода
	|	КОНЕЦ КАК ПериодРасчетаСреднегоЗаработкаНачало,
	|	ВЫБОР
	|		КОГДА (ЗаявлениеСотрудника.ПорядокРасчетаСреднегоЗаработка = ЗНАЧЕНИЕ(Перечисление.СпособыРасчетаСреднегоЗаработкаДляОплатыПособия.ИсходяИзТарифнойСтавки)
	|				ИЛИ ЗаявлениеСотрудника.ПорядокРасчетаСреднегоЗаработка = ЗНАЧЕНИЕ(Перечисление.СпособыРасчетаСреднегоЗаработкаДляОплатыПособия.ИсходяИзМРОТ))
	|				И Пособия.ОсвобождениеДатаНачала1 <> ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА КОНЕЦПЕРИОДА(Пособия.ОсвобождениеДатаНачала1, МЕСЯЦ)
	|		ИНАЧЕ ЗаявлениеСотрудника.ДатаОкончанияРасчетногоПериода
	|	КОНЕЦ КАК ПериодРасчетаСреднегоЗаработкаОкончание,
	|	ВЫБОР
	|		КОГДА (ЗаявлениеСотрудника.ПорядокРасчетаСреднегоЗаработка = ЗНАЧЕНИЕ(Перечисление.СпособыРасчетаСреднегоЗаработкаДляОплатыПособия.ИсходяИзТарифнойСтавки)
	|				ИЛИ ЗаявлениеСотрудника.ПорядокРасчетаСреднегоЗаработка = ЗНАЧЕНИЕ(Перечисление.СпособыРасчетаСреднегоЗаработкаДляОплатыПособия.ИсходяИзМРОТ))
	|				И Пособия.ОсвобождениеДатаНачала1 <> ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА ДЕНЬ(КОНЕЦПЕРИОДА(Пособия.ОсвобождениеДатаНачала1, МЕСЯЦ))
	|		ИНАЧЕ ЗаявлениеСотрудника.ЧислоКалендарныхДнейРасчетногоПериода
	|	КОНЕЦ КАК КалендарныхДнейРасчетногоПериода,
	|	ЗаявлениеСотрудника.СреднийЗаработокЗаРасчетныйПериод КАК ЗаработокЗаПериодРасчета,
	|	ЗаявлениеСотрудника.Дата КАК ДатаПредставленияПакетаДокументов,
	|	ЕСТЬNULL(ВидыВыплат.ВидВыплаты, ""1"") КАК ВидВыплаты,
	|	ЗаявлениеСотрудника.ВидПособия КАК ВидПособия,
	|	ЗаявлениеСотрудника.СреднийЗаработокЗаРасчетныйПериод КАК СреднийДневнойЗаработок,
	|	ЗаявлениеСотрудника.МРОТ КАК МРОТ,
	|	ЗаявлениеСотрудника.ДатаНачалаТрудовогоДоговораПолучателя КАК СрочныйДоговорС,
	|	ЗаявлениеСотрудника.ДатаОкончанияТрудовогоДоговораПолучателя КАК СрочныйДоговорПо,
	|	ЗаявлениеСотрудника.СтатусНалогоплательщикаПолучателя КАК СтатусНалогоплательщикаПолучателя,
	|	ЗаявлениеСотрудника.ВидДокументаНаПроживание КАК НаименованиеДокументаНаПроживание,
	|	ЗаявлениеСотрудника.СерияДокументаНаПроживание КАК СерияДокументаНаПроживание,
	|	ЗаявлениеСотрудника.НомерДокументаНаПроживание КАК НомерДокументаНаПроживание,
	|	ЗаявлениеСотрудника.ДатаВыдачиДокументаНаПроживание КАК ДатаВыдачиДокументаНаПроживание,
	|	Пособия.НомерСтроки КАК НомерСтроки,
	|	Пособия.ПриступитьКРаботеС КАК ДатаВыходаНаРаботу,
	|	Пособия.ДатаРегистрацииДокументовМСЭ КАК ДатаРегистрацииДокументовМСЭ,
	|	Пособия.ПериодНахожденияВСтационареСРебенкомС КАК ПериодНахожденияВСтационареСРебенкомС,
	|	Пособия.ПериодНахожденияВСтационареСРебенкомПо КАК ПериодНахожденияВСтационареСРебенкомПо,
	|	Пособия.ДатаИзмененияКодаПричиныНетрудоспособности КАК ДатаИзмененияКодаПричиныНетрудоспособности,
	|	Пособия.КодПричиныНетрудоспособности КАК КодПричиныНетрудоспособности,
	|	Пособия.ДополнительныйКодПричиныНетрудоспособности КАК ДополнительныйКодПричиныНетрудоспособности,
	|	Пособия.ВторойКодПричиныНетрудоспособности КАК ВторойКодПричиныНетрудоспособности,
	|	Пособия.УсловияИсчисленияКод1 КАК УсловияИсчисленияКод1,
	|	Пособия.УсловияИсчисленияКод2 КАК УсловияИсчисленияКод2,
	|	Пособия.УсловияИсчисленияКод3 КАК УсловияИсчисленияКод3,
	|	Пособия.НомерЛисткаНетрудоспособности КАК НомерВходящегоДокумента,
	|	Пособия.ДатаВыдачиЛисткаНетрудоспособности КАК ДатаВыдачиБольничного,
	|	Пособия.НомерПервичногоЛисткаНетрудоспособности КАК НомерПервичногоБольничного,
	|	Пособия.КодНарушенияРежима КАК КодНарушенияРежима,
	|	Пособия.ДатаНарушенияРежима КАК ДатаНарушенияРежима,
	|	Пособия.ДатаНовыйСтатусНетрудоспособного КАК ДатаНовыйСтатусНетрудоспособного,
	|	Пособия.НовыйСтатусНетрудоспособного КАК НовыйСтатусНетрудоспособного,
	|	Пособия.ДатаОсвидетельствованияМСЭ КАК ДатаОсвидетельствованияМСЭ,
	|	Пособия.ДатаНаправленияВБюроМСЭ КАК ДатаНаправленияВБюроМСЭ,
	|	Пособия.НомерЛисткаПродолжения КАК НомерЛисткаПродолжения,
	|	Пособия.ОГРН_Санатория КАК ОГРН_Санатория,
	|	Пособия.НомерПутевки КАК НомерПутевки,
	|	Пособия.ДатаОкончанияПутевки КАК ДатаОкончанияПутевки,
	|	Пособия.НомерЛисткаПоОсновномуМестуРаботы КАК НомерЛисткаПоОсновномуМестуРаботы,
	|	Пособия.ОГРНМедицинскойОрганизации КАК ОГРН_ЛПУ,
	|	Пособия.АдресМедицинскойОрганизации КАК Адрес_ЛПУ,
	|	Пособия.НаименованиеМедицинскойОрганизации КАК НаименованиеЛПУ,
	|	Пособия.ПредоставленДубликатЛисткаНетрудоспособности КАК ЯвляетсяДубликатом,
	|	Пособия.ПоУходуВозрастЛет1 КАК УходЗаРодственникомЛет1,
	|	Пособия.ПоУходуВозрастМесяцев1 КАК УходЗаРодственникомМесяцев1,
	|	Пособия.ПоУходуРодственнаяСвязь1 КАК УходЗаРодственникомРодственнаяСвязь1,
	|	Пособия.ПоУходуФИО1 КАК УходЗаРодственникомФИО1,
	|	Пособия.ПоУходуИспользованоДней1 КАК УходЗаРодственникомИспользованоДней1,
	|	Пособия.ПоУходуВозрастЛет2 КАК УходЗаРодственникомЛет2,
	|	Пособия.ПоУходуВозрастМесяцев2 КАК УходЗаРодственникомМесяцев2,
	|	Пособия.ПоУходуРодственнаяСвязь2 КАК УходЗаРодственникомРодственнаяСвязь2,
	|	Пособия.ПоУходуФИО2 КАК УходЗаРодственникомФИО2,
	|	Пособия.ПоУходуИспользованоДней2 КАК УходЗаРодственникомИспользованоДней2,
	|	Пособия.ОсвобождениеДатаНачала1 КАК ОсвобождениеС1,
	|	Пособия.ОсвобождениеДатаОкончания1 КАК ОсвобождениеПо1,
	|	Пособия.ОсвобождениеДолжностьВрача1 КАК ДолжностьВрача1,
	|	Пособия.ОсвобождениеФИОВрача1 КАК ФИОВрача1,
	|	Пособия.ОсвобождениеИдентификационныйНомерВрача1 КАК ИдентификационныйНомерВрача1,
	|	Пособия.ОсвобождениеФИОВрачаПредседателяВК1 КАК ФИОВрачаПредседателяВК1,
	|	Пособия.ОсвобождениеДолжностьВрачаПредседателяВК1 КАК ДолжностьВрачаПредседателяВК1,
	|	Пособия.ОсвобождениеИдентификационныйНомерВрачаПредседателяВК1 КАК ИдентификационныйНомерВрачаПредседателяВК1,
	|	Пособия.ОсвобождениеДатаНачала2 КАК ОсвобождениеС2,
	|	Пособия.ОсвобождениеДатаОкончания2 КАК ОсвобождениеПо2,
	|	Пособия.ОсвобождениеДолжностьВрача2 КАК ДолжностьВрача2,
	|	Пособия.ОсвобождениеФИОВрача2 КАК ФИОВрача2,
	|	Пособия.ОсвобождениеИдентификационныйНомерВрача2 КАК ИдентификационныйНомерВрача2,
	|	Пособия.ОсвобождениеФИОВрачаПредседателяВК2 КАК ФИОВрачаПредседателяВК2,
	|	Пособия.ОсвобождениеДолжностьВрачаПредседателяВК2 КАК ДолжностьВрачаПредседателяВК2,
	|	Пособия.ОсвобождениеИдентификационныйНомерВрачаПредседателяВК2 КАК ИдентификационныйНомерВрачаПредседателяВК2,
	|	Пособия.ОсвобождениеДатаНачала3 КАК ОсвобождениеС3,
	|	Пособия.ОсвобождениеДатаОкончания3 КАК ОсвобождениеПо3,
	|	Пособия.ОсвобождениеДолжностьВрача3 КАК ДолжностьВрача3,
	|	Пособия.ОсвобождениеФИОВрача3 КАК ФИОВрача3,
	|	Пособия.ОсвобождениеИдентификационныйНомерВрача3 КАК ИдентификационныйНомерВрача3,
	|	Пособия.ОсвобождениеФИОВрачаПредседателяВК3 КАК ФИОВрачаПредседателяВК3,
	|	Пособия.ОсвобождениеДолжностьВрачаПредседателяВК3 КАК ДолжностьВрачаПредседателяВК3,
	|	Пособия.ОсвобождениеИдентификационныйНомерВрачаПредседателяВК3 КАК ИдентификационныйНомерВрачаПредседателяВК3,
	|	Пособия.ГруппаИнвалидности КАК ГруппаИнвалидности,
	|	ФизическиеЛица.Пол КАК Пол,
	|	Пособия.ДатаНачалаОплаты КАК ДатаНачалаОплаты,
	|	Пособия.ДатаОкончанияОплаты КАК ДатаОкончанияОплаты,
	|	Пособия.СтажЛет КАК СтажЛет,
	|	Пособия.СтажМесяцев КАК СтажМесяцев,
	|	Пособия.СтажРасширенныйЛет КАК СтажРасширенныйЛет,
	|	Пособия.СтажРасширенныйМесяцев КАК СтажРасширенныйМесяцев,
	|	Пособия.ФинансированиеФедеральнымБюджетом КАК ВыплатаЗаСчетФедеральногоБюджета,
	|	Пособия.ДатаАктаН1 КАК ДатаАктаФормыН1,
	|	ЗаявлениеСотрудника.ДатаСправкиОНеполученииПособияОтОтца КАК ДатаСправкиОНеполученииПособияОтОтца,
	|	ЗаявлениеСотрудника.НомерСправкиОНеполученииПособияОтОтца КАК НомерСправкиОНеполученииПособияОтОтца,
	|	ЗаявлениеСотрудника.ДатаСправкиОНеполученииПособияОтМатери КАК ДатаСправкиОНеполученииПособияОтМатери,
	|	ЗаявлениеСотрудника.НомерСправкиОНеполученииПособияОтМатери КАК НомерСправкиОНеполученииПособияОтМатери,
	|	ЗаявлениеСотрудника.ВидОсобойЗоныПроживанияРаботы КАК СтатусЛьготнойЗоны,
	|	ЗаявлениеСотрудника.ОтношениеКОсобойЗоне КАК ПроживаниеРаботаВЛьготнойЗоне,
	|	ЗаявлениеСотрудника.ДатаСправкиОНеполученииПособияПоДругимМестамРаботы КАК ДатаСправкиПоДругимМестамРаботы,
	|	ЗаявлениеСотрудника.НомерСправкиОНеполученииПособияПоДругимМестамРаботы КАК НомерСправкиПоДругимМестамРаботы,
	|	ЗаявлениеСотрудника.НомерПриказаОЗаменеПослеродовогоОтпуска КАК НомерПриказаОЗаменеПослеродовогоОтпуска,
	|	ЗаявлениеСотрудника.ДатаПриказаОЗаменеПослеродовогоОтпуска КАК ДатаПриказаОЗаменеПослеродовогоОтпуска,
	|	ЗаявлениеСотрудника.ДатаРожденияРебенка КАК ДатаРожденияРебенка,
	|	ЗаявлениеСотрудника.ФамилияРебенка КАК ФамилияРебенка,
	|	ЗаявлениеСотрудника.ИмяРебенка КАК ИмяРебенка,
	|	ЗаявлениеСотрудника.ОтчествоРебенка КАК ОтчествоРебенка,
	|	ЗаявлениеСотрудника.ФормаСправкиОРожденииРебенка КАК ВидСправкиОРожденииРебенка,
	|	ЗаявлениеСотрудника.ДатаСправкиОРожденииРебенка КАК ДатаСправки,
	|	ЗаявлениеСотрудника.НомерСправкиОРожденииРебенка КАК НомерСправки,
	|	ЗаявлениеСотрудника.ДатаРешенияОбОпеке КАК ДатаРешенияОбОпеке,
	|	ЗаявлениеСотрудника.НомерРешенияОбОпеке КАК НомерРешенияОбОпеке,
	|	ЗаявлениеСотрудника.ДатаРешенияОбУсыновлении КАК ДатаРешенияОбУсыновлении,
	|	ЗаявлениеСотрудника.НомерРешенияОбУсыновлении КАК НомерРешенияОбУсыновлении,
	|	ЗаявлениеСотрудника.ДатаДоговораОПередачеРебенкаВПриемнуюСемью КАК ДатаДоговораОПередачеНаВоспитание,
	|	ЗаявлениеСотрудника.НомерДоговораОПередачеРебенкаВПриемнуюСемью КАК НомерДоговораОПередачеНаВоспитание,
	|	ЗаявлениеСотрудника.ДатаСвидетельстваОРождении КАК ДатаСвидетельстваОРождении,
	|	ЗаявлениеСотрудника.СерияСвидетельстваОРождении КАК СерияСвидетельстваОРождении,
	|	ЗаявлениеСотрудника.НомерСвидетельстваОРождении КАК НомерСвидетельстваОРождении,
	|	ЗаявлениеСотрудника.ДатаИногоДокументаПодтверждающегоРождение КАК ДатаИногоПодтвержденияРождения,
	|	ЗаявлениеСотрудника.НомерИногоДокументаПодтверждающегоРождение КАК НомерИногоПодтвержденияРождения,
	|	ВЫБОР
	|		КОГДА ЗаявлениеСотрудника.ДатаСправкиОРожденииРебенка <> ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА ЗаявлениеСотрудника.ДатаСправкиОРожденииРебенка
	|		КОГДА ЗаявлениеСотрудника.ДатаСвидетельстваОРождении <> ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА ЗаявлениеСотрудника.ДатаСвидетельстваОРождении
	|	КОНЕЦ КАК ДатаСправкиОРождении,
	|	ВЫБОР
	|		КОГДА ЗаявлениеСотрудника.ДатаСправкиОРожденииРебенка <> ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА ЗаявлениеСотрудника.НомерСправкиОРожденииРебенка
	|		КОГДА ЗаявлениеСотрудника.ДатаСвидетельстваОРождении <> ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА ЗаявлениеСотрудника.СерияСвидетельстваОРождении + "" "" + ЗаявлениеСотрудника.НомерСвидетельстваОРождении
	|	КОНЕЦ КАК НомерСправкиОРождении,
	|	ВЫБОР
	|		КОГДА ЗаявлениеСотрудника.ДатаРешенияОбОпеке <> ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА ""1""
	|		КОГДА ЗаявлениеСотрудника.ДатаРешенияОбУсыновлении <> ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА ""2""
	|		ИНАЧЕ """"
	|	КОНЕЦ КАК УсыновлениеОпека,
	|	ВЫБОР
	|		КОГДА ЗаявлениеСотрудника.ДатаРешенияОбОпеке <> ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА ЗаявлениеСотрудника.ДатаРешенияОбОпеке
	|		КОГДА ЗаявлениеСотрудника.ДатаРешенияОбУсыновлении <> ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА ЗаявлениеСотрудника.ДатаРешенияОбУсыновлении
	|		ИНАЧЕ ДАТАВРЕМЯ(1, 1, 1)
	|	КОНЕЦ КАК УсыновлениеОпекаДатаВыдачи,
	|	ВЫБОР
	|		КОГДА ЗаявлениеСотрудника.ДатаРешенияОбОпеке <> ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА ЗаявлениеСотрудника.НомерРешенияОбОпеке
	|		КОГДА ЗаявлениеСотрудника.ДатаРешенияОбУсыновлении <> ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА ЗаявлениеСотрудника.НомерРешенияОбУсыновлении
	|		ИНАЧЕ """"
	|	КОНЕЦ КАК УсыновлениеОпекаСерияНомер,
	|	Пособия.ВидПодтверждающегоДокумента КАК ДокументОРожденииВид,
	|	Пособия.НаименованиеПодтверждающегоДокумента КАК НаименованиеПодтверждающегоДокумента,
	|	Пособия.ДатаДокумента КАК ДатаПодтверждающегоДокумента,
	|	Пособия.СерияДокумента + "" "" + Пособия.НомерДокумента КАК СерияНомерПодтверждающегоДокумента,
	|	ВЫБОР
	|		КОГДА Пособия.ВидПодтверждающегоДокумента <> ЗНАЧЕНИЕ(Перечисление.ВидыПодтверждающихДокументовОтпускаПоУходу.РешениеОбУстановленииОпеки)
	|			ТОГДА Пособия.ДатаДокумента
	|		ИНАЧЕ ДАТАВРЕМЯ(1, 1, 1)
	|	КОНЕЦ КАК ДокументОРожденииДатаВыдачи,
	|	ВЫБОР
	|		КОГДА Пособия.ВидПодтверждающегоДокумента <> ЗНАЧЕНИЕ(Перечисление.ВидыПодтверждающихДокументовОтпускаПоУходу.РешениеОбУстановленииОпеки)
	|			ТОГДА Пособия.СерияДокумента + "" "" + Пособия.НомерДокумента
	|		ИНАЧЕ """"
	|	КОНЕЦ КАК ДокументОРожденииСерияНомер,
	|	ВЫБОР
	|		КОГДА ЗаявлениеСотрудника.СправкаОНеполученииПособия = ЗНАЧЕНИЕ(Перечисление.РодителиПредоставившиеСправкуОНеполученииПособия.Отец)
	|			ТОГДА ЗаявлениеСотрудника.ДатаСправкиОНеполученииПособияОтОтца
	|		ИНАЧЕ ЗаявлениеСотрудника.ДатаСправкиОНеполученииПособияОтМатери
	|	КОНЕЦ КАК ДатаСправкиОтДругогоРодителя,
	|	ВЫБОР
	|		КОГДА ЗаявлениеСотрудника.СправкаОНеполученииПособия = ЗНАЧЕНИЕ(Перечисление.РодителиПредоставившиеСправкуОНеполученииПособия.Отец)
	|			ТОГДА ЗаявлениеСотрудника.НомерСправкиОНеполученииПособияОтОтца
	|		ИНАЧЕ ЗаявлениеСотрудника.НомерСправкиОНеполученииПособияОтМатери
	|	КОНЕЦ КАК НомерСправкиОтДругогоРодителя,
	|	ЗаявлениеСотрудника.НаличиеОдногоИзДокументовНаПредыдущихДетей КАК НаличиеДокументаОРождении,
	|	ЗаявлениеСотрудника.НаличиеСвидетельстваОСмертиПредыдущихДетей КАК НаличиеДокументаОСмерти,
	|	Пособия.ОчередностьРожденияРебенка КАК Очередность,
	|	Пособия.НаличиеРешенияСудаОЛишенииПрав КАК НаличиеРешенияСудаОЛишенииПрав,
	|	Пособия.ОдновременныйУходЗаНесколькимиДетьми КАК ОдновременныйУходЗаНесколькимиДетьми,
	|	ЗаявлениеСотрудника.Перерасчет КАК Перерасчет,
	|	ЗаявлениеСотрудника.КодПричиныПерерасчета КАК КодПричиныПерерасчета,
	|	УведомлениеОПрекращении.ТипПриказа КАК ДосрочноеПрекращениеОтпускаПоУходуТипПриказа,
	|	УведомлениеОПрекращении.ДатаПриказа КАК ДосрочноеПрекращениеОтпускаПоУходуДатаПриказа,
	|	УведомлениеОПрекращении.НомерПриказа КАК ДосрочноеПрекращениеОтпускаПоУходуНомерПриказа,
	|	УведомлениеОПрекращении.ДатаПрекращенияОплаты КАК ДосрочноеПрекращениеОтпускаПоУходуДатаПрекращенияОплаты,
	|	Пособия.ИзвещениеИзФССИспользование КАК ИзвещениеИзФССИспользование,
	|	Пособия.ИзвещениеИзФССНомер КАК ИзвещениеИзФССНомер,
	|	Пособия.ИзвещениеИзФССДата КАК ИзвещениеИзФССДата,
	|	0 КАК СуммаПособияРаботодателя,
	|	0 КАК СуммаПособияФСС,
	|	0 КАК СуммаПособияВсего,
	|	ДАТАВРЕМЯ(1, 1, 1) КАК ДатаСмертиРебенка,
	|	ЗаявлениеСотрудника.КоличествоОплаченныхДнейНетрудоспособностиИнвалида КАК ДнейБолезниИнвалида,
	|	ДАТАВРЕМЯ(1, 1, 1) КАК ДатаНачалаРаботы,
	|	ЗаявлениеСотрудника.ПериодПростоя2ДатаНачала КАК ПериодПростояС2,
	|	ЗаявлениеСотрудника.ПериодПростоя2ДатаОкончания КАК ПериодПростояПо2,
	|	ЗаявлениеСотрудника.ПериодПростоя2СреднийЗаработок КАК СреднийЗаработокНаПериодПростоя2,
	|	Пособия.ЭтоЭЛН КАК ЭтоЭЛН,
	|	ЗаявлениеСотрудника.ДолжностнойОклад КАК ДолжностнойОклад
	|ИЗ
	|	Документ.РеестрСведенийНеобходимыхДляНазначенияИВыплатыПособий.СведенияНеобходимыеДляНазначенияПособий КАК Пособия
	|		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ЗаявлениеСотрудникаНаВыплатуПособия КАК ЗаявлениеСотрудника
	|			ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ФизическиеЛица КАК ФизическиеЛица
	|			ПО ЗаявлениеСотрудника.ФизическоеЛицо = ФизическиеЛица.Ссылка
	|			ЛЕВОЕ СОЕДИНЕНИЕ ВТВидыВыплат КАК ВидыВыплат
	|			ПО ЗаявлениеСотрудника.ВидПособия = ВидыВыплат.ВидПособия
	|		ПО (ЗаявлениеСотрудника.Ссылка = Пособия.Заявление)
	|		ЛЕВОЕ СОЕДИНЕНИЕ ВТПредельнаяВеличинаБазы КАК ПредельнаяВеличинаЗаПервыйГодРасчета
	|		ПО (ВЫБОР
	|				КОГДА Пособия.Заявление.ПервыйРасчетныйГод < 2010
	|					ТОГДА 2010
	|				ИНАЧЕ Пособия.Заявление.ПервыйРасчетныйГод
	|			КОНЕЦ = ПредельнаяВеличинаЗаПервыйГодРасчета.Год)
	|		ЛЕВОЕ СОЕДИНЕНИЕ ВТПредельнаяВеличинаБазы КАК ПредельнаяВеличинаЗаВторойГодРасчета
	|		ПО (ВЫБОР
	|				КОГДА Пособия.Заявление.ВторойРасчетныйГод < 2010
	|					ТОГДА 2010
	|				ИНАЧЕ Пособия.Заявление.ВторойРасчетныйГод
	|			КОНЕЦ = ПредельнаяВеличинаЗаВторойГодРасчета.Год)
	|		ЛЕВОЕ СОЕДИНЕНИЕ Документ.УведомлениеОПрекращенииОтпускаПоУходуЗаРебенком КАК УведомлениеОПрекращении
	|		ПО Пособия.ПервичныйДокумент = УведомлениеОПрекращении.Ссылка
	|ГДЕ
	|	Пособия.Ссылка = &Ссылка
	|
	|УПОРЯДОЧИТЬ ПО
	|	НомерСтроки,
	|	ВидВыплаты";
	
	Возврат Запрос.Выполнить();
	
КонецФункции

Функция ТаблицаВидовВыплат()
	Таблица = Новый ТаблицаЗначений;
	Таблица.Колонки.Добавить("ВидВыплаты", Новый ОписаниеТипов("Строка", , Новый КвалификаторыСтроки(1)));
	Таблица.Колонки.Добавить("ВидПособия", Новый ОписаниеТипов("ПеречислениеСсылка.ПособияНазначаемыеФСС"));
	
	СтрокаТаблицы = Таблица.Добавить();
	СтрокаТаблицы.ВидПособия = Перечисления.ПособияНазначаемыеФСС.ПособиеПоВременнойНетрудоспособности;
	СтрокаТаблицы.ВидВыплаты = "1";
	
	СтрокаТаблицы = Таблица.Добавить();
	СтрокаТаблицы.ВидПособия = Перечисления.ПособияНазначаемыеФСС.ПособиеПоБеременностиИРодам;
	СтрокаТаблицы.ВидВыплаты = "2";
	
	СтрокаТаблицы = Таблица.Добавить();
	СтрокаТаблицы.ВидПособия = Перечисления.ПособияНазначаемыеФСС.ПособиеВставшимНаУчетВРанниеСроки;
	СтрокаТаблицы.ВидВыплаты = "3";
	
	СтрокаТаблицы = Таблица.Добавить();
	СтрокаТаблицы.ВидПособия = Перечисления.ПособияНазначаемыеФСС.ЕдиновременноеПособиеПриРожденииРебенка;
	СтрокаТаблицы.ВидВыплаты = "4";
	
	СтрокаТаблицы = Таблица.Добавить();
	СтрокаТаблицы.ВидПособия = Перечисления.ПособияНазначаемыеФСС.ЕжемесячноеПособиеПоУходуЗаРебенком;
	СтрокаТаблицы.ВидВыплаты = "5";
	
	// ПособиеПоБеременностиИРодамВставшимНаУчетВРанниеСроки порождает 2 записи в реестре.
	СтрокаТаблицы = Таблица.Добавить();
	СтрокаТаблицы.ВидПособия = Перечисления.ПособияНазначаемыеФСС.ПособиеПоБеременностиИРодамВставшимНаУчетВРанниеСроки;
	СтрокаТаблицы.ВидВыплаты = "2";
	
	СтрокаТаблицы = Таблица.Добавить();
	СтрокаТаблицы.ВидПособия = Перечисления.ПособияНазначаемыеФСС.ПособиеПоБеременностиИРодамВставшимНаУчетВРанниеСроки;
	СтрокаТаблицы.ВидВыплаты = "3";
	
	// Сдаются на бумажных носителях:
	СтрокаТаблицы = Таблица.Добавить();
	СтрокаТаблицы.ВидПособия = Перечисления.ПособияНазначаемыеФСС.ПособиеВСвязиСНесчастнымСлучаемНаПроизводстве;
	СтрокаТаблицы.ВидВыплаты = "6";
	
	СтрокаТаблицы = Таблица.Добавить();
	СтрокаТаблицы.ВидПособия = Перечисления.ПособияНазначаемыеФСС.ОтпускСверхЕжегодногоНаПериодЛечения;
	СтрокаТаблицы.ВидВыплаты = "9";
	
	Возврат Таблица;
КонецФункции

Функция СреднийЗаработокЗаДваКалендарныхГода(СтруктураДанных)
	СреднийЗаработок = СтруктураДанных.ЗаработокПервыйГодРасчета + СтруктураДанных.ЗаработокВторойГодРасчета;
	Если СреднийЗаработок = 0 Тогда // Средний заработок определяется, исходя из минимального размера оплаты труда.
		СреднийЗаработок = СтруктураДанных.МРОТ * ?(СтруктураДанных.ДоляВремени > 0 И СтруктураДанных.ДоляВремени < 1, СтруктураДанных.ДоляВремени, 1);
	КонецЕсли;
	Возврат СреднийЗаработок;
КонецФункции

// Функция оставляет в строке только цифры, отбрасывая все следующие за цифрами буквы и другие символы,
// причем если строка начинается с буквы - то считаем, что.
//
// Параметры:
//    РазбираемаяСтрока   - Строка - строка, из которой будут отбрасываться все не цифровые символы.
//    ПропускаемыеСимволы - Строка - символы, которые при разборе можно пропустить, на любых других разбор прекращается.
//                          Например, при разборе "К25СТР1", если пропускаемые символы:
//                          "" - то возвратится "0", 
//                          "К" - возвратится "25",
//                          "КСТР" - возвратится "251".
// Возвращаемое значение:
//    Строка - строка, состоящая только из цифр, полученных из исходной строки.
//
Функция ОставитьТолькоЦифрыВСтроке(РазбираемаяСтрока, ПропускаемыеСимволы = "")
	
	Цифры = "1234567890";
	ЦифроваяЧасть = "";
	Для НомерСимвола = 1 По СтрДлина(РазбираемаяСтрока) Цикл
		ТекущийСимвол = Сред(РазбираемаяСтрока, НомерСимвола, 1);
		Если СтрНайти(Цифры, ТекущийСимвол) Тогда
			ЦифроваяЧасть = ЦифроваяЧасть + ТекущийСимвол;
		Иначе
			Если СтрНайти(ПропускаемыеСимволы, ТекущийСимвол) = Неопределено Тогда
				Прервать;
			Иначе
				Продолжить;
			КонецЕсли;
		КонецЕсли;
	КонецЦикла;
	
	// Если пустую строку попробовать преобразовать в число - то будет ошибка,
	// поэтому в данном случае вместо пустой строки возвращаем строку с нулем.
	Если ЦифроваяЧасть = "" Тогда
		ЦифроваяЧасть = "0";
	КонецЕсли;
	
	Возврат ЦифроваяЧасть;
КонецФункции

#КонецОбласти

#Область ФиксацияВторичныхДанныхВДокументах

Функция ФиксируемыеРеквизиты()
	ФиксируемыеРеквизиты = Новый Соответствие;
	
	// Реквизиты шапки.
	Шаблон = ФиксацияВторичныхДанныхВДокументах.ОписаниеФиксируемогоРеквизита();
	Шаблон.ИмяГруппы           = "Организация";
	Шаблон.ОснованиеЗаполнения = "Организация";
	
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "РегистрационныйНомерФСС");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ДополнительныйКодФСС");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "КодПодчиненностиФСС");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОГРН");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "КПП");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ИНН");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ТелефонСоставителя");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "АдресЭлектроннойПочтыСоставителя");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "РеестрСоставил");
	
	// Роль подписанта Руководитель.
	Шаблон = ФиксацияВторичныхДанныхВДокументах.ОписаниеФиксируемогоРеквизита();
	Шаблон.ОснованиеЗаполнения = "Организация";
	Шаблон.ИмяГруппы           = "Руководитель";
	Шаблон.ФиксацияГруппы      = Истина;
	
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "Руководитель");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ДолжностьРуководителя");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОснованиеПодписиРуководителя");
	
	// Роль подписанта ГлавныйБухгалтер.
	Шаблон = ФиксацияВторичныхДанныхВДокументах.ОписаниеФиксируемогоРеквизита();
	Шаблон.ОснованиеЗаполнения = "Организация";
	Шаблон.ИмяГруппы           = "ГлавныйБухгалтер";
	Шаблон.ФиксацияГруппы      = Истина;
	
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ГлавныйБухгалтер");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ДолжностьГлавногоБухгалтера");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОснованиеПодписиГлавногоБухгалтера");
	
	
	// Реквизиты табличной части "СведенияНеобходимыеДляНазначенияПособий".
	Шаблон = ФиксацияВторичныхДанныхВДокументах.ОписаниеФиксируемогоРеквизита();
	Шаблон.Путь           = "СведенияНеобходимыеДляНазначенияПособий";
	Шаблон.РеквизитСтроки = Истина;
	
	//   Документ-основание.
	Шаблон.ОснованиеЗаполнения = "ПервичныйДокумент";
	Шаблон.ИмяГруппы           = "СведенияИзПервичногоДокумента";
	Шаблон.ФиксацияГруппы      = Ложь;
	
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ПервичныйДокумент", Ложь);
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "НомерЛисткаНетрудоспособности");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "НомерПервичногоЛисткаНетрудоспособности");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ЯвляетсяПервичнымЛисткомНетрудоспособности");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ЭтоЭЛН");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ПредоставленДубликатЛисткаНетрудоспособности");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ДатаВыдачиЛисткаНетрудоспособности");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "НомерЛисткаПоОсновномуМестуРаботы");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ДатаИзмененияКодаПричиныНетрудоспособности");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ДатаОкончанияПутевки");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "НомерПутевки");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОГРН_Санатория");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "КодПричиныНетрудоспособности");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ДополнительныйКодПричиныНетрудоспособности");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ВторойКодПричиныНетрудоспособности");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "НаименованиеОрганизацииВЛисткеНетрудоспособности");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсновноеМестоРаботы");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ПоУходуВозрастЛет1");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ПоУходуВозрастМесяцев1");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ПоУходуРодственнаяСвязь1");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ПоУходуФИО1");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ПоУходуИспользованоДней1");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ПоУходуВозрастЛет2");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ПоУходуВозрастМесяцев2");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ПоУходуРодственнаяСвязь2");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ПоУходуФИО2");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ПоУходуИспользованоДней2");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ПоставленаНаУчетВРанниеСрокиБеременности");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "КодНарушенияРежима");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ДатаНарушенияРежима");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ПериодНахожденияВСтационареСРебенкомС");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ПериодНахожденияВСтационареСРебенкомПо");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ДатаНаправленияВБюроМСЭ");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ДатаРегистрацииДокументовМСЭ");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ДатаОсвидетельствованияМСЭ");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ГруппаИнвалидности");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеДатаНачала1");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеДатаОкончания1");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеДолжностьВрача1");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеФИОВрача1");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеИдентификационныйНомерВрача1");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеФИОВрачаПредседателяВК1");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеДолжностьВрачаПредседателяВК1");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеИдентификационныйНомерВрачаПредседателяВК1");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеДатаНачала2");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеДатаОкончания2");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеДолжностьВрача2");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеФИОВрача2");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеИдентификационныйНомерВрача2");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеФИОВрачаПредседателяВК2");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеДолжностьВрачаПредседателяВК2");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеИдентификационныйНомерВрачаПредседателяВК2");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеДатаНачала3");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеДатаОкончания3");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеДолжностьВрача3");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеФИОВрача3");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеИдентификационныйНомерВрача3");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеФИОВрачаПредседателяВК3");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеДолжностьВрачаПредседателяВК3");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОсвобождениеИдентификационныйНомерВрачаПредседателяВК3");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ПриступитьКРаботеС");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ДатаНовыйСтатусНетрудоспособного");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "НовыйСтатусНетрудоспособного");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "НомерЛисткаПродолжения");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "УсловияИсчисленияКод1");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "УсловияИсчисленияКод2");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "УсловияИсчисленияКод3");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ДатаАктаН1");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ДатаНачалаРаботы");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ДатаНачалаОплаты");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ДатаОкончанияОплаты");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "МедицинскаяОрганизация");
	
	//   Медицинская организация.
	Шаблон.ОснованиеЗаполнения = "МедицинскаяОрганизация";
	Шаблон.ИмяГруппы           = "СведенияОМедицинскойОрганизации";
	Шаблон.ФиксацияГруппы      = Истина;
	
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "НаименованиеМедицинскойОрганизации");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "АдресМедицинскойОрганизации");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОГРНМедицинскойОрганизации");
	
	//   По уходу за ребенком.
	Шаблон.ОснованиеЗаполнения = "ПервичныйДокумент";
	Шаблон.ИмяГруппы           = "СведенияОРебенке";
	Шаблон.ФиксацияГруппы      = Ложь;
	
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ФамилияРебенка");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ИмяРебенка");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ОтчествоРебенка");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ДатаРожденияРебенка");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ВидПодтверждающегоДокумента");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ДатаДокумента");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "СерияДокумента");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "НомерДокумента");
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ФинансированиеФедеральнымБюджетом");
	
	//   Извещение из ФСС / Отказ.
	Шаблон.ОснованиеЗаполнения = "ИзвещениеИзФСС";
	Шаблон.ИмяГруппы           = "ИзвещениеИзФСС";
	Шаблон.ФиксацияГруппы      = Ложь;
	
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ИзвещениеИзФССИспользование", Ложь);
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ИзвещениеИзФССНомер", Ложь);
	ФиксацияВторичныхДанныхВДокументах.ДобавитьФиксируемыйРеквизит(ФиксируемыеРеквизиты, Шаблон, "ИзвещениеИзФССДата", Ложь);
	
	Если ОбщегоНазначения.ПодсистемаСуществует("ЗарплатаКадрыРасширеннаяПодсистемы.ПособияСоциальногоСтрахования.ПрямыеВыплаты") Тогда
		МодульПрямыеВыплатыПособийСоциальногоСтрахованияРасширенный = ОбщегоНазначения.ОбщийМодуль("ПрямыеВыплатыПособийСоциальногоСтрахованияРасширенный");
		МодульПрямыеВыплатыПособийСоциальногоСтрахованияРасширенный.ПриОпределенииФиксируемыхРеквизитовРеестраПрямыхВыплат(ФиксируемыеРеквизиты);
	КонецЕсли;
	
	Возврат Новый ФиксированноеСоответствие(ФиксируемыеРеквизиты);
КонецФункции

#КонецОбласти

Функция СтруктураДанныхЗаполнения() Экспорт
	
	СтруктураДанныхЗаполнения = Новый Структура;
	
	СтруктураДанныхЗаполнения.Вставить("Дата");
	СтруктураДанныхЗаполнения.Вставить("Организация");
	СтруктураДанныхЗаполнения.Вставить("ВидРеестра");
	СтруктураДанныхЗаполнения.Вставить("СтатусДокумента", Перечисления.СтатусыЗаявленийИРеестровНаВыплатуПособий.ВРаботе);
	
	Возврат СтруктураДанныхЗаполнения;
	
КонецФункции

#Область ПроцедурыПечатиДокумента

Процедура Печать(МассивОбъектов, ПараметрыПечати, КоллекцияПечатныхФорм, ОбъектыПечати, ПараметрыВывода) Экспорт
	
	Если УправлениеПечатью.НужноПечататьМакет(КоллекцияПечатныхФорм, "РеестрПособий") Тогда
		УправлениеПечатью.ВывестиТабличныйДокументВКоллекцию(КоллекцияПечатныхФорм, "РеестрПособий", "Реестр пособий", СформироватьПечатныеФормыРеестров(МассивОбъектов, ОбъектыПечати));
	КонецЕсли;
	
КонецПроцедуры

Функция СформироватьПечатныеФормыРеестров(МассивОбъектов, ОбъектыПечати) Экспорт
	
	ТабличныйДокумент = Новый ТабличныйДокумент;
	ТабличныйДокумент.КлючПараметровПечати = "ПАРАМЕТРЫ_ПЕЧАТИ_РеестрСведенийНеобходимыхДляНазначенияИВыплатыПособий_Приложения";
	ТабличныйДокументРеестра = Новый ТабличныйДокумент;
	ОписаниеМакетовРеестровФСС = Новый Соответствие;
	
	ВыборкаПоДокументам = СформироватьЗапросПоШапкеДокументов(МассивОбъектов).Выбрать();
	Пока ВыборкаПоДокументам.Следующий() Цикл
		
		ВидРеестраФСС = ВыборкаПоДокументам.ВидРеестра;
		ЗаполнитьОписаниеМакетовПриложенийРеестровФСС(ОписаниеМакетовРеестровФСС, ВидРеестраФСС);
		
		ОписаниеМакета = ОписаниеМакетовРеестровФСС.Получить(ВидРеестраФСС);
		
		ДанныеРеестра = СформироватьЗапросСведенийДляРасчетаПособия(Новый Структура("Ссылка, Дата", ВыборкаПоДокументам.Ссылка, ВыборкаПоДокументам.ДатаПодачиЗаявления)).Выбрать();
		
		ТабличныйДокументРеестра = СформироватьТабличныйДокументФормыРеестра(ВыборкаПоДокументам, ДанныеРеестра, ОписаниеМакета);
		
		Если ТабличныйДокумент.ВысотаТаблицы > 0 Тогда
			ТабличныйДокумент.ВывестиГоризонтальныйРазделительСтраниц();
		КонецЕсли;
		ТабличныйДокумент.Вывести(ТабличныйДокументРеестра);
	КонецЦикла;
	
	Возврат ТабличныйДокумент;
	
КонецФункции

Функция СформироватьТабличныйДокументФормыРеестра(ВыборкаПоШапкеДокумента, ДанныеРеестра, ОписаниеМакета)
	
	ТабличныйДокумент = Новый ТабличныйДокумент;
	ТабличныйДокумент.КлючПараметровПечати = "ПАРАМЕТРЫ_ПЕЧАТИ_РеестрСведенийНеобходимыхДляНазначенияИВыплатыПособий_Приложения";
	ТабличныйДокументРеестра = Новый ТабличныйДокумент;
	ОписаниеМакетовРеестровФСС = Новый Соответствие;
	
	ВидРеестраФСС = ВыборкаПоШапкеДокумента.ВидРеестра;
	
	Макет = ОписаниеМакета.Макет;
	ОбластьШапка = Макет.ПолучитьОбласть("Шапка");
	ПараметрыОбластиШапка = ОписаниеМакета.Шапка;
	ОбластьПовторятьПриПечати = Макет.ПолучитьОбласть("ПовторятьПриПечати");
	ОбластьСтрока = Макет.ПолучитьОбласть("Строка");
	ПараметрыОбластиСтрока = ОписаниеМакета.Строка;
	ОбластьПодвал = Макет.ПолучитьОбласть("Подвал");
	ОбластьПодписи = Макет.ПолучитьОбласть("Подписи");
	ПараметрыОбластиПодписи = ОписаниеМакета.Подписи;
	
	ОбщегоНазначенияБЗККлиентСервер.ОчиститьЗначенияСтруктуры(ПараметрыОбластиШапка);
	ОбщегоНазначенияБЗККлиентСервер.ОчиститьЗначенияСтруктуры(ПараметрыОбластиСтрока);
	ОбщегоНазначенияБЗККлиентСервер.ОчиститьЗначенияСтруктуры(ПараметрыОбластиПодписи);
	
	// Массив со строками - для разбиения на страницы.
	ВыводимыеОбласти = Новый Массив();
	ВыводимыеОбласти.Добавить(ОбластьСтрока);
	
	ЗаполнитьЗначенияСвойств(ПараметрыОбластиШапка, ВыборкаПоШапкеДокумента);
	ЗаполнитьЗначенияСвойств(ПараметрыОбластиПодписи, ВыборкаПоШапкеДокумента);
	
	ВыводитьРасчетныйПериодВШапке = Ложь;
	Если ВидРеестраФСС = Перечисления.ВидыРеестровСведенийНеобходимыхДляНазначенияИВыплатыПособий.ПособияПоНетрудоспособности
		Или ВидРеестраФСС = Перечисления.ВидыРеестровСведенийНеобходимыхДляНазначенияИВыплатыПособий.ПособияВставшимНаУчетВРанниеСроки Тогда
		РасчетныеПериоды = Новый ТаблицаЗначений;
		РасчетныеПериоды.Колонки.Добавить("ПервыйГодРасчета", Новый ОписаниеТипов("Число", Новый КвалификаторыЧисла(4)));
		РасчетныеПериоды.Колонки.Добавить("ВторойГодРасчета", Новый ОписаниеТипов("Число", Новый КвалификаторыЧисла(4)));
		Пока ДанныеРеестра.Следующий() Цикл
			ЗаполнитьЗначенияСвойств(РасчетныеПериоды.Добавить(), ДанныеРеестра);
		КонецЦикла;
		РасчетныеПериоды.Свернуть("ПервыйГодРасчета, ВторойГодРасчета");
		ДанныеРеестра.Сбросить();
		ВыводитьРасчетныйПериодВШапке = РасчетныеПериоды.Количество() = 1;
		Если ВыводитьРасчетныйПериодВШапке Тогда
			ПараметрыОбластиШапка.ПериодРасчетаС = "за " + Формат(РасчетныеПериоды[0].ПервыйГодРасчета,"ЧЦ=4; ЧГ=0") + " год";
			ПараметрыОбластиШапка.ПериодРасчетаПо = "за " + Формат(РасчетныеПериоды[0].ВторойГодРасчета,"ЧЦ=4; ЧГ=0") + " год";
		КонецЕсли;
	КонецЕсли;
	
	ОбластьШапка.Параметры.Заполнить(ПараметрыОбластиШапка);
	ОбластьПодписи.Параметры.Заполнить(ПараметрыОбластиПодписи);
	
	ТабличныйДокументРеестра.Очистить();
	ТабличныйДокументРеестра.Вывести(ОбластьШапка);
	ТабличныйДокументРеестра.Вывести(ОбластьПовторятьПриПечати);
	
	ВсегоСтрокДокумента = ДанныеРеестра.Количество();
	ВыведеноСтрок = 0;
	
	// Получим полные номера карт МИР
	СписокКарт = Новый Массив;
	Пока ДанныеРеестра.Следующий() Цикл
		Если ДанныеРеестра.СпособВыплатыПособия = Перечисления.СпособыВыплатыПособия.НаКартуМИР Тогда
			СписокКарт.Добавить(ДанныеРеестра.КартаМИР);
		КонецЕсли;
	КонецЦикла;
	НомераКартМИР = Новый Соответствие;
	Если СписокКарт.Количество() > 0 Тогда
		НомераКартМИР = БанковскиеКарты.ПолныеНомераКарт(СписокКарт);
	КонецЕсли;
	ДанныеРеестра.Сбросить();
	
	Пока ДанныеРеестра.Следующий() Цикл
 		ЗаполнитьЗначенияСвойств(ПараметрыОбластиСтрока, ДанныеРеестра);
		
		Если Не ЗначениеЗаполнено(ДанныеРеестра.Отчество) Тогда
			ПараметрыОбластиСтрока.Отчество = "-"
		КонецЕсли;
		
		ПараметрыОбластиСтрока.НомерКартыМИР = "-";
		Если ДанныеРеестра.СпособВыплатыПособия = Перечисления.СпособыВыплатыПособия.ПочтовымПереводом Тогда
			ПараметрыОбластиСтрока.АдресПочтовый = УправлениеКонтактнойИнформацией.ПредставлениеКонтактнойИнформации(ДанныеРеестра.АдресПолучателяФактический);
			ПараметрыОбластиСтрока.НаименованиеБанка = "-";
			ПараметрыОбластиСтрока.БИКБанка = "-";
			ПараметрыОбластиСтрока.НомерЛицевогоСчета = "-";
			ПараметрыОбластиСтрока.СпособВыплаты = "почтовым переводом";
		Иначе
			ПараметрыОбластиСтрока.СпособВыплаты = "на банковский счет";
			ПараметрыОбластиСтрока.АдресПочтовый = "-";
			Если ДанныеРеестра.СпособВыплатыПособия = Перечисления.СпособыВыплатыПособия.НаКартуМИР Тогда
				ПараметрыОбластиСтрока.НомерКартыМИР = НомераКартМИР[ДанныеРеестра.КартаМИР];
			КонецЕсли;
		КонецЕсли;
		
		ПараметрыОбластиСтрока.АдресРегистрации = УправлениеКонтактнойИнформацией.ПредставлениеКонтактнойИнформации(ДанныеРеестра.АдресПолучателяРегистрации);
		ПараметрыОбластиСтрока.ИнаяПолезнаяИнформация = "-";
		
		// Приложение 3 и Приложение 5
		Если ВидРеестраФСС = Перечисления.ВидыРеестровСведенийНеобходимыхДляНазначенияИВыплатыПособий.ЕдиновременныеПособияПриРожденииРебенка
			Или  ВидРеестраФСС = Перечисления.ВидыРеестровСведенийНеобходимыхДляНазначенияИВыплатыПособий.ЕжемесячныеПособияПоУходуЗаРебенком Тогда
			
			ПараметрыОбластиСтрока.Статус = "-";
			
			Если Не ЗначениеЗаполнено(ДанныеРеестра.НаименованиеДокументаНаПроживание) Тогда
				ПараметрыОбластиСтрока.НаименованиеДокументаНаПроживание =  "-"
			КонецЕсли;
			Если Не ЗначениеЗаполнено(ДанныеРеестра.СерияДокументаНаПроживание) Тогда
				ПараметрыОбластиСтрока.СерияДокументаНаПроживание = "-"
			КонецЕсли;
			Если Не ЗначениеЗаполнено(ДанныеРеестра.НомерДокументаНаПроживание) Тогда
				ПараметрыОбластиСтрока.НомерДокументаНаПроживание = "-"
			КонецЕсли;
			Если Не ЗначениеЗаполнено(ДанныеРеестра.ДатаВыдачиДокументаНаПроживание) Тогда
				ПараметрыОбластиСтрока.ДатаВыдачиДокументаНаПроживание = "-"
			КонецЕсли;
			
		КонецЕсли;
			
		// Приложение 1
		Если ВидРеестраФСС = Перечисления.ВидыРеестровСведенийНеобходимыхДляНазначенияИВыплатыПособий.ПособияПоНетрудоспособности
			Или ВидРеестраФСС = Перечисления.ВидыРеестровСведенийНеобходимыхДляНазначенияИВыплатыПособий.ПособияВставшимНаУчетВРанниеСроки Тогда
			
			Если Не ЗначениеЗаполнено(ДанныеРеестра.НаименованиеДокументаНаПроживание) Тогда
				ПараметрыОбластиСтрока.НаименованиеДокументаНаПроживание =  "-"
			КонецЕсли;
			Если ЗначениеЗаполнено(ДанныеРеестра.СерияДокументаНаПроживание) Или ЗначениеЗаполнено(ДанныеРеестра.НомерДокументаНаПроживание) Тогда
				ПараметрыОбластиСтрока.СерияНомерДокументаНаПроживание = СокрЛП(ДанныеРеестра.СерияДокументаНаПроживание + " " +  ДанныеРеестра.НомерДокументаНаПроживание)
			Иначе
				ПараметрыОбластиСтрока.СерияНомерДокументаНаПроживание = "-"
			КонецЕсли;
			Если Не ЗначениеЗаполнено(ДанныеРеестра.ДатаВыдачиДокументаНаПроживание) Тогда
				ПараметрыОбластиСтрока.ДатаВыдачиДокументаНаПроживание = "-"
			КонецЕсли;
			
			Если ДанныеРеестра.ВидПособия = Перечисления.ПособияНазначаемыеФСС.ПособиеПоБеременностиИРодам 
				Или Не ЗначениеЗаполнено(ПараметрыОбластиСтрока.ИНН) Тогда
				ПараметрыОбластиСтрока.ИНН = "-";
			КонецЕсли;
			
			Если ЗначениеЗаполнено(ДанныеРеестра.НомерПервичногоБольничного) Тогда
				ПараметрыОбластиСтрока.НомерВходящегоДокумента = СокрЛП(ПараметрыОбластиСтрока.НомерВходящегоДокумента) + " (" + СокрЛП(ДанныеРеестра.НомерПервичногоБольничного) + ")";
			КонецЕсли;
			
			ПараметрыОбластиСтрока.ПричинаНетрудоспособности = ДанныеРеестра.КодПричиныНетрудоспособности;
			Если ЗначениеЗаполнено(ДанныеРеестра.ДополнительныйКодПричиныНетрудоспособности) Тогда
				ПараметрыОбластиСтрока.ПричинаНетрудоспособности = ПараметрыОбластиСтрока.ПричинаНетрудоспособности + ", " + ДанныеРеестра.ДополнительныйКодПричиныНетрудоспособности;
			КонецЕсли;
			Если ЗначениеЗаполнено(ДанныеРеестра.ВторойКодПричиныНетрудоспособности) Тогда
				ПараметрыОбластиСтрока.ПричинаНетрудоспособности = ПараметрыОбластиСтрока.ПричинаНетрудоспособности + ", "
					+ ДанныеРеестра.ВторойКодПричиныНетрудоспособности
					+ ?(ЗначениеЗаполнено(ДанныеРеестра.ДатаИзмененияКодаПричиныНетрудоспособности), " (" + Формат(ДанныеРеестра.ДатаИзмененияКодаПричиныНетрудоспособности,"ДФ=dd.MM.yyyy") + ")", "");
			КонецЕсли;
			
			ПараметрыОбластиСтрока.УходЗаРодственником = ?(ЗначениеЗаполнено(ДанныеРеестра.УходЗаРодственникомФИО1), СокрЛП(ДанныеРеестра.УходЗаРодственникомФИО1) 
			+ ОписаниеСтажаВПечатнойФорме(ДанныеРеестра.УходЗаРодственникомЛет1, ДанныеРеестра.УходЗаРодственникомМесяцев1)
			+ ?(ЗначениеЗаполнено(ДанныеРеестра.УходЗаРодственникомРодственнаяСвязь1),", " + ДанныеРеестра.УходЗаРодственникомРодственнаяСвязь1, ""),"")
			+ ?(ЗначениеЗаполнено(ДанныеРеестра.УходЗаРодственникомФИО2), "; " + Символы.ПС + СокрЛП(ДанныеРеестра.УходЗаРодственникомФИО2) 
			+ ОписаниеСтажаВПечатнойФорме(ДанныеРеестра.УходЗаРодственникомЛет2, ДанныеРеестра.УходЗаРодственникомМесяцев2)
			+ ?(ЗначениеЗаполнено(ДанныеРеестра.УходЗаРодственникомРодственнаяСвязь2),", " + ДанныеРеестра.УходЗаРодственникомРодственнаяСвязь2, ""),"");
			Если ДанныеРеестра.ВидПособия = Перечисления.ПособияНазначаемыеФСС.ПособиеПоБеременностиИРодам
				Или Не ЗначениеЗаполнено(ПараметрыОбластиСтрока.УходЗаРодственником) Тогда
				ПараметрыОбластиСтрока.УходЗаРодственником = "-";
			КонецЕсли;
			
			Если ДанныеРеестра.ВидПособия = Перечисления.ПособияНазначаемыеФСС.ПособиеПоБеременностиИРодам
				Или Не (ЗначениеЗаполнено(ДанныеРеестра.ПериодНахожденияВСтационареСРебенкомС) И ЗначениеЗаполнено(ДанныеРеестра.ПериодНахожденияВСтационареСРебенкомПо)) Тогда
				ПараметрыОбластиСтрока.ПериодНахожденияВСтационареСРебенком = "-";
			Иначе
				ПараметрыОбластиСтрока.ПериодНахожденияВСтационареСРебенком = ОписаниеПериодаВПечатнойФорме(ДанныеРеестра.ПериодНахожденияВСтационареСРебенкомС, ДанныеРеестра.ПериодНахожденияВСтационареСРебенкомПо);
			КонецЕсли;
			
			ПараметрыОбластиСтрока.Освобождение = ОписаниеПериодаВПечатнойФорме(ДанныеРеестра.ОсвобождениеС1,Макс(ДанныеРеестра.ОсвобождениеПо1,ДанныеРеестра.ОсвобождениеПо2,ДанныеРеестра.ОсвобождениеПо3));
			
			ПараметрыОбластиСтрока.УстановленаИзмененаГруппаИнвалидности = ЗначениеЗаполнено(ДанныеРеестра.ГруппаИнвалидности);
			
			Если Не ЗначениеЗаполнено(ПараметрыОбластиСтрока.ДатаСправкиБеременной) Тогда
				ПараметрыОбластиСтрока.ДатаСправкиБеременной = "-"
			КонецЕсли;
			Если Не ЗначениеЗаполнено(ПараметрыОбластиСтрока.НомерСправкиБеременной) Тогда
				ПараметрыОбластиСтрока.НомерСправкиБеременной = "-"
			КонецЕсли;
			
			Если ЗначениеЗаполнено(ДанныеРеестра.КодНарушенияРежима) И ЗначениеЗаполнено(ДанныеРеестра.ДатаНарушенияРежима) Тогда
				ПараметрыОбластиСтрока.НарушениеРежима = ДанныеРеестра.КодНарушенияРежима + ", " + Формат(ДанныеРеестра.ДатаНарушенияРежима,"ДФ=dd.MM.yyyy");
			Иначе
				ПараметрыОбластиСтрока.НарушениеРежима = "-";
			КонецЕсли;
			
			РазностьСтажей = УчетПособийСоциальногоСтрахования.ПодсчитатьРазностьСтажейВГодахИМесяцах(
				ДанныеРеестра.СтажРасширенныйЛет,
				ДанныеРеестра.СтажРасширенныйМесяцев,
				ДанныеРеестра.СтажЛет,
				ДанныеРеестра.СтажМесяцев);
			Если РазностьСтажей.РазностьЛет <> 0 Или РазностьСтажей.РазностьМесяцев <> 0 Тогда
				ПараметрыОбластиСтрока.Стаж = СтрЗаменить(ОписаниеСтажаВПечатнойФорме(ДанныеРеестра.СтажРасширенныйЛет, ДанныеРеестра.СтажРасширенныйМесяцев),",","");
				ПараметрыОбластиСтрока.НестраховыеПериоды = СтрЗаменить(ОписаниеСтажаВПечатнойФорме(РазностьСтажей.РазностьЛет, РазностьСтажей.РазностьМесяцев),",","");
			Иначе
				ПараметрыОбластиСтрока.Стаж = СтрЗаменить(ОписаниеСтажаВПечатнойФорме(ДанныеРеестра.СтажЛет, ДанныеРеестра.СтажМесяцев),",","");
				ПараметрыОбластиСтрока.НестраховыеПериоды = "-";
			КонецЕсли;
			
			Если ЗначениеЗаполнено(ДанныеРеестра.СрочныйДоговорС) И ЗначениеЗаполнено(ДанныеРеестра.СрочныйДоговорПо) Тогда
				ПараметрыОбластиСтрока.СрочныйДоговор = ОписаниеПериодаВПечатнойФорме(ДанныеРеестра.СрочныйДоговорС, ДанныеРеестра.СрочныйДоговорПо);
			Иначе
				ПараметрыОбластиСтрока.СрочныйДоговор = "-";
			КонецЕсли;
			
			УсловияИсчисления = Новый Массив;
			Если ЗначениеЗаполнено(ДанныеРеестра.УсловияИсчисленияКод1) Тогда
				УсловияИсчисления.Добавить(ДанныеРеестра.УсловияИсчисленияКод1);
			КонецЕсли;
			Если ЗначениеЗаполнено(ДанныеРеестра.УсловияИсчисленияКод2) Тогда
				УсловияИсчисления.Добавить(ДанныеРеестра.УсловияИсчисленияКод2);
			КонецЕсли;
			Если ЗначениеЗаполнено(ДанныеРеестра.УсловияИсчисленияКод3) Тогда
				УсловияИсчисления.Добавить(ДанныеРеестра.УсловияИсчисленияКод3);
			КонецЕсли;
			Если УсловияИсчисления.Количество() Тогда
				ПараметрыОбластиСтрока.УсловияИсчисления = СтрСоединить(УсловияИсчисления, ", ");
			Иначе
				ПараметрыОбластиСтрока.УсловияИсчисления = "-";
			КонецЕсли;
			
			ПараметрыОбластиСтрока.ПериодПростояС = "";
			ПараметрыОбластиСтрока.ПериодПростояПо = "";
			Если ЗначениеЗаполнено(ДанныеРеестра.ПериодПростояС1) И ЗначениеЗаполнено(ДанныеРеестра.ПериодПростояПо1) Тогда
				ПараметрыОбластиСтрока.ПериодПростояС = Формат(ДанныеРеестра.ПериодПростояС1,"ДФ=dd.MM.yyyy");
				ПараметрыОбластиСтрока.ПериодПростояПо = Формат(ДанныеРеестра.ПериодПростояПо1,"ДФ=dd.MM.yyyy");
			КонецЕсли;
			Если ЗначениеЗаполнено(ДанныеРеестра.ПериодПростояС2) И ЗначениеЗаполнено(ДанныеРеестра.ПериодПростояПо2) Тогда
				ПараметрыОбластиСтрока.ПериодПростояС = ПараметрыОбластиСтрока.ПериодПростояС 
					+ ?(ЗначениеЗаполнено(ПараметрыОбластиСтрока.ПериодПростояС), "; ", "")
					+ Формат(ДанныеРеестра.ПериодПростояС2,"ДФ=dd.MM.yyyy");
				ПараметрыОбластиСтрока.ПериодПростояПо = ПараметрыОбластиСтрока.ПериодПростояПо
					+ ?(ЗначениеЗаполнено(ПараметрыОбластиСтрока.ПериодПростояПо), "; ", "")
					+ Формат(ДанныеРеестра.ПериодПростояПо2,"ДФ=dd.MM.yyyy");
			КонецЕсли;
			Если ПустаяСтрока(ПараметрыОбластиСтрока.ПериодПростояС) Тогда
				ПараметрыОбластиСтрока.ПериодПростояС = "-";
			КонецЕсли;
			Если ПустаяСтрока(ПараметрыОбластиСтрока.ПериодПростояПо) Тогда
				ПараметрыОбластиСтрока.ПериодПростояПо = "-";
			КонецЕсли;
			
			Если ДанныеРеестра.СчитатьПоПравилам2010Года Тогда
				ПараметрыОбластиСтрока.ПериодРасчетаС = Формат(ДанныеРеестра.ПериодРасчетаСреднегоЗаработкаНачало,"ДФ=dd.MM.yyyy");
				ПараметрыОбластиСтрока.ПериодРасчетаПо = Формат(ДанныеРеестра.ПериодРасчетаСреднегоЗаработкаОкончание,"ДФ=dd.MM.yyyy");
				ПараметрыОбластиСтрока.СреднийЗаработок = Формат(ДанныеРеестра.ЗаработокЗаПериодРасчета,"ЧЦ=15; ЧДЦ=2; ЧГ=0") + " (" + Формат(ДанныеРеестра.КалендарныхДнейРасчетногоПериода,"ЧЦ=3; ЧГ=0") + ")";
			ИначеЕсли ДанныеРеестра.ПорядокРасчетаСреднегоЗаработка = Перечисления.СпособыРасчетаСреднегоЗаработкаДляОплатыПособия.СреднийЗаработок Тогда
				ПараметрыОбластиСтрока.ПериодРасчетаС = Формат(ДанныеРеестра.ПервыйГодРасчета,"ЧЦ=4; ЧГ=0"); 
				ПараметрыОбластиСтрока.ПериодРасчетаПо = Формат(ДанныеРеестра.ВторойГодРасчета,"ЧЦ=4; ЧГ=0");
				ПараметрыОбластиСтрока.ЗаработокПервыйГод = Формат(ДанныеРеестра.ЗаработокПервыйГодРасчета ,"ЧЦ=15; ЧДЦ=2; ЧГ=0") + ?(Не ВыводитьРасчетныйПериодВШапке, "(за " + Формат(ДанныеРеестра.ПервыйГодРасчета,"ЧЦ=4; ЧГ=0") + " год)", "");
				ПараметрыОбластиСтрока.ЗаработокВторойГод = Формат(ДанныеРеестра.ЗаработокВторойГодРасчета ,"ЧЦ=15; ЧДЦ=2; ЧГ=0") + ?(Не ВыводитьРасчетныйПериодВШапке,  "(за " + Формат(ДанныеРеестра.ВторойГодРасчета,"ЧЦ=4; ЧГ=0") + " год)", "");
			Иначе
				ПараметрыОбластиСтрока.ПериодРасчетаС = "-";
				ПараметрыОбластиСтрока.ПериодРасчетаПо = "-";
				Если ДанныеРеестра.ПорядокРасчетаСреднегоЗаработка = Перечисления.СпособыРасчетаСреднегоЗаработкаДляОплатыПособия.ИсходяИзТарифнойСтавки Тогда
					ПараметрыОбластиСтрока.СреднийЗаработок = Формат(ДанныеРеестра.ДолжностнойОклад,"ЧЦ=15; ЧДЦ=2; ЧГ=0");
				ИначеЕсли ДанныеРеестра.ПорядокРасчетаСреднегоЗаработка = Перечисления.СпособыРасчетаСреднегоЗаработкаДляОплатыПособия.ИсходяИзМРОТ Тогда
					ПараметрыОбластиСтрока.СреднийЗаработок = Формат(ДанныеРеестра.МРОТ * ?(ДанныеРеестра.РайонныйКоэффициент > 1, ДанныеРеестра.РайонныйКоэффициент, 1),"ЧЦ=15; ЧДЦ=2; ЧГ=0");
				Иначе
					ПараметрыОбластиСтрока.СреднийЗаработок = "";
				КонецЕсли;
			КонецЕсли;
			
			Если Не ЗначениеЗаполнено(ПараметрыОбластиСтрока.ДоляВремени) Тогда
				ПараметрыОбластиСтрока.ДоляВремени = "-";
			КонецЕсли;
			
		КонецЕсли;
		
		// Приложение 3
		Если ВидРеестраФСС = Перечисления.ВидыРеестровСведенийНеобходимыхДляНазначенияИВыплатыПособий.ЕдиновременныеПособияПриРожденииРебенка Тогда
			
			ПараметрыОбластиСтрока.Ребенок = ДанныеРеестра.ФамилияРебенка 
			+ " " + ДанныеРеестра.ИмяРебенка 
			+ " " + ДанныеРеестра.ОтчествоРебенка 
			+ "("+ Формат(ДанныеРеестра.ДатаРожденияРебенка, "ДФ=dd.MM.yyyy") + ")";
			
			ПараметрыОбластиСтрока.ДокументыОснования = ПредставлениеДокумента(НСтр("ru = 'Заявление о выплате пособия'"), ДанныеРеестра.ДатаПредставленияПакетаДокументов);
			
			Если ЗначениеЗаполнено(ДанныеРеестра.ДатаСправки) И ЗначениеЗаполнено(ДанныеРеестра.НомерСправки) Тогда
				ПараметрыОбластиСтрока.ДокументыОснования = ПараметрыОбластиСтрока.ДокументыОснования + ", "
					+ ПредставлениеДокумента(
						СтрШаблон(НСтр("ru = 'Справка о рождении, %1,'"), ДанныеРеестра.ВидСправкиОРожденииРебенка),
						ДанныеРеестра.ДатаСправки,
						ДанныеРеестра.НомерСправки);
			КонецЕсли;
			Если ЗначениеЗаполнено(ДанныеРеестра.ДатаСвидетельстваОРождении) 
				И ЗначениеЗаполнено(ДанныеРеестра.НомерСвидетельстваОРождении) 
				И ЗначениеЗаполнено(ДанныеРеестра.СерияСвидетельстваОРождении) Тогда
				ПараметрыОбластиСтрока.ДокументыОснования = ПараметрыОбластиСтрока.ДокументыОснования + ", " 
					+ ПредставлениеДокумента(
						НСтр("ru = 'Свидетельство о рождении'"),
						ДанныеРеестра.ДатаСвидетельстваОРождении,
						ДанныеРеестра.НомерСвидетельстваОРождении,
						ДанныеРеестра.СерияСвидетельстваОРождении);
			КонецЕсли;
			Если ЗначениеЗаполнено(ДанныеРеестра.ДатаИногоПодтвержденияРождения) И ЗначениеЗаполнено(ДанныеРеестра.НомерИногоПодтвержденияРождения) Тогда
				ПараметрыОбластиСтрока.ДокументыОснования = ПараметрыОбластиСтрока.ДокументыОснования + ", " 
					+ ПредставлениеДокумента(
						НСтр("ru = '<Иное подтверждение рождения>'"),
						ДанныеРеестра.ДатаИногоПодтвержденияРождения,
						ДанныеРеестра.НомерИногоПодтвержденияРождения);
			КонецЕсли;
			Если ЗначениеЗаполнено(ДанныеРеестра.ДатаСправкиОтДругогоРодителя) И ЗначениеЗаполнено(ДанныеРеестра.НомерСправкиОтДругогоРодителя) Тогда
				ПараметрыОбластиСтрока.ДокументыОснования = ПараметрыОбластиСтрока.ДокументыОснования + ", "
					+ ПредставлениеДокумента(
						НСтр("ru = 'Справка от другого родителя о неполучении пособия'"),
						ДанныеРеестра.ДатаСправкиОтДругогоРодителя,
						ДанныеРеестра.НомерСправкиОтДругогоРодителя);
			КонецЕсли;
			Если ЗначениеЗаполнено(ДанныеРеестра.ДатаРешенияОбОпеке) И ЗначениеЗаполнено(ДанныеРеестра.НомерРешенияОбОпеке) Тогда
				ПараметрыОбластиСтрока.ДокументыОснования = ПараметрыОбластиСтрока.ДокументыОснования + ", "
					+ ПредставлениеДокумента(
						НСтр("ru = 'Решение об установлении опеки'"),
						ДанныеРеестра.ДатаРешенияОбОпеке,
						ДанныеРеестра.НомерРешенияОбОпеке);
			КонецЕсли;
			Если ЗначениеЗаполнено(ДанныеРеестра.ДатаРешенияОбУсыновлении) И ЗначениеЗаполнено(ДанныеРеестра.НомерРешенияОбУсыновлении) Тогда
				ПараметрыОбластиСтрока.ДокументыОснования = ПараметрыОбластиСтрока.ДокументыОснования + ", "
					+ ПредставлениеДокумента(
						НСтр("ru = 'Решение об усыновлении'"),
						ДанныеРеестра.ДатаРешенияОбУсыновлении,
						ДанныеРеестра.НомерРешенияОбУсыновлении);
			КонецЕсли;
			Если ЗначениеЗаполнено(ДанныеРеестра.ДатаДоговораОПередачеНаВоспитание) И ЗначениеЗаполнено(ДанныеРеестра.НомерДоговораОПередачеНаВоспитание) Тогда
				ПараметрыОбластиСтрока.ДокументыОснования = ПараметрыОбластиСтрока.ДокументыОснования + ", " 
					+ ПредставлениеДокумента(
						НСтр("ru = 'Договор о предаче ребенка на воспитание в приемную семью'"),
						ДанныеРеестра.ДатаДоговораОПередачеНаВоспитание,
						ДанныеРеестра.НомерДоговораОПередачеНаВоспитание);
			КонецЕсли;
			
		КонецЕсли;
		
		// Приложение 5
		Если ВидРеестраФСС = Перечисления.ВидыРеестровСведенийНеобходимыхДляНазначенияИВыплатыПособий.ЕжемесячныеПособияПоУходуЗаРебенком Тогда
			
			ПараметрыОбластиСтрока.ОписаниеЛьгот = "-";
			Если ЗначениеЗаполнено(ДанныеРеестра.ВыплатаЗаСчетФедеральногоБюджета) 
				И НЕ ДанныеРеестра.ВыплатаЗаСчетФедеральногоБюджета = Перечисления.ОснованияФинансированияПособияФедеральнымБюджетом.ЗачетНестраховыхПериодов 
				И ЗначениеЗаполнено(ДанныеРеестра.ПроживаниеРаботаВЛьготнойЗоне)
				И НЕ ДанныеРеестра.ПроживаниеРаботаВЛьготнойЗоне = Перечисления.ОтношениеКОсобойЗоне.Нет Тогда
				Если ДанныеРеестра.СтатусЛьготнойЗоны = Перечисления.ВидыОсобойЗоныПроживанияРаботы.ЗонаСПравомНаОтселение Тогда
					ПараметрыОбластиСтрока.ОписаниеЛьгот = "1";
				ИначеЕсли ДанныеРеестра.СтатусЛьготнойЗоны = Перечисления.ВидыОсобойЗоныПроживанияРаботы.ЗонаСЛьготнымСоциальноЭкономическимСтатусом Тогда 
					ПараметрыОбластиСтрока.ОписаниеЛьгот = "2";
				ИначеЕсли ДанныеРеестра.СтатусЛьготнойЗоны = Перечисления.ВидыОсобойЗоныПроживанияРаботы.ЗонаОтселения Тогда	
					ПараметрыОбластиСтрока.ОписаниеЛьгот = "3";
				ИначеЕсли ДанныеРеестра.СтатусЛьготнойЗоны = Перечисления.ВидыОсобойЗоныПроживанияРаботы.ЗонаЗагрязненияПриАварииПОМаяк Тогда 
					ПараметрыОбластиСтрока.ОписаниеЛьгот = "4";
				КонецЕсли;
			КонецЕсли;
			
			Если ЗначениеЗаполнено(ДанныеРеестра.НомерПриказаНаОтпускПоУходуЗаРебенком) И ЗначениеЗаполнено(ДанныеРеестра.ДатаПриказаНаОтпускПоУходуЗаРебенком) Тогда
				ПараметрыОбластиСтрока.ОписаниеПриказаНаОтпуск = "Приказ № " + ДанныеРеестра.НомерПриказаНаОтпускПоУходуЗаРебенком
				+ " от " + Формат(ДанныеРеестра.ДатаПриказаНаОтпускПоУходуЗаРебенком,"ДФ=dd.MM.yyyy") + Символы.ПС
				+ "(отпуск: " + ОписаниеПериодаВПечатнойФорме(ДанныеРеестра.ДатаНачала, ДанныеРеестра.ДатаОкончания) + ")";
			Иначе
				ПараметрыОбластиСтрока.ОписаниеПриказаНаОтпуск = "Отпуск: " + ОписаниеПериодаВПечатнойФорме(ДанныеРеестра.ДатаНачала, ДанныеРеестра.ДатаОкончания);
			КонецЕсли;
			
			ДокументыНаДетей = "Заявление о назначении пособия от " + Формат(ДанныеРеестра.ДатаПредставленияПакетаДокументов,"ДФ=dd.MM.yyyy")+ Символы.ПС
			+ ДанныеРеестра.НаименованиеПодтверждающегоДокумента + " от " + Формат(ДанныеРеестра.ДатаПодтверждающегоДокумента,"ДФ=dd.MM.yyyy") 
			+ " № "  + СокрЛП(ДанныеРеестра.СерияНомерПодтверждающегоДокумента);
			Если ЗначениеЗаполнено(ДанныеРеестра.ДатаСправкиОНеполученииПособияОтОтца) И ЗначениеЗаполнено(ДанныеРеестра.НомерСправкиОНеполученииПособияОтОтца) Тогда
				ДокументыНаДетей = ДокументыНаДетей + Символы.ПС 
				+ "Справка о неполучении пособия отца от "
				+ Формат(ДанныеРеестра.ДатаСправкиОНеполученииПособияОтОтца,"ДФ=dd.MM.yyyy")
				+ " № " + ДанныеРеестра.НомерСправкиОНеполученииПособияОтОтца;
			КонецЕсли;
			Если ЗначениеЗаполнено(ДанныеРеестра.ДатаСправкиОНеполученииПособияОтМатери) И ЗначениеЗаполнено(ДанныеРеестра.НомерСправкиОНеполученииПособияОтМатери) Тогда
				ДокументыНаДетей = ДокументыНаДетей + Символы.ПС
				+ "Справка о неполучении пособия матери от "
				+ Формат(ДанныеРеестра.ДатаСправкиОНеполученииПособияОтМатери,"ДФ=dd.MM.yyyy")
				+ " № " + ДанныеРеестра.НомерСправкиОНеполученииПособияОтМатери;
			КонецЕсли;
			Если ЗначениеЗаполнено(ДанныеРеестра.ДатаСправкиПоДругимМестамРаботы) И ЗначениеЗаполнено(ДанныеРеестра.НомерСправкиПоДругимМестамРаботы) Тогда
				ДокументыНаДетей = ДокументыНаДетей + Символы.ПС
				+ "Справка о неполучении пособия по другим местам работы от "
				+ Формат(ДанныеРеестра.ДатаСправкиПоДругимМестамРаботы,"ДФ=dd.MM.yyyy")
				+ " № " + ДанныеРеестра.НомерСправкиПоДругимМестамРаботы;
			КонецЕсли;
			ПараметрыОбластиСтрока.ДокументыНаДетей = ДокументыНаДетей;
			
			ПараметрыОбластиСтрока.ДетиИПредыдущиеДети = СокрЛП(ДанныеРеестра.ФамилияРебенка) + " " + СокрЛП(ДанныеРеестра.ИмяРебенка) + " " + СокрЛП(ДанныеРеестра.ОтчествоРебенка)
			+ " (" + Формат(ДанныеРеестра.ДатаРожденияРебенка,"ДФ=dd.MM.yyyy") + ")";
			
			Если ДанныеРеестра.НаличиеРешенияСудаОЛишенииПрав Тогда
				ПараметрыОбластиСтрока.ЛишениеРодительскихПрав = СокрЛП(ДанныеРеестра.ФамилияРебенка) + " " + СокрЛП(ДанныеРеестра.ИмяРебенка) + " " + СокрЛП(ДанныеРеестра.ОтчествоРебенка);
			Иначе
				ПараметрыОбластиСтрока.ЛишениеРодительскихПрав = "-";
			КонецЕсли;
			
			Если ЗначениеЗаполнено(ДанныеРеестра.ДатаПриказаОЗаменеПослеродовогоОтпуска) И ЗначениеЗаполнено(ДанныеРеестра.НомерПриказаОЗаменеПослеродовогоОтпуска) Тогда
				ПараметрыОбластиСтрока.ОписаниеПриказаНаЗаменуОтпуска = "№ " + ДанныеРеестра.НомерПриказаОЗаменеПослеродовогоОтпуска 
				+ " от " + Формат(ДанныеРеестра.ДатаПриказаОЗаменеПослеродовогоОтпуска,"ДФ=dd.MM.yyyy")
				+ " (" + Формат(ДанныеРеестра.ДатаРожденияРебенка,"ДФ=dd.MM.yyyy") + ")";
			Иначе
				ПараметрыОбластиСтрока.ОписаниеПриказаНаЗаменуОтпуска = "-";
			КонецЕсли;
			
			Если ДанныеРеестра.ОдновременныйУходЗаНесколькимиДетьми Тогда
				ПараметрыОбластиСтрока.СреднийМесячныйЗаработок = Формат(ДанныеРеестра.СреднийДневнойЗаработок * 30.4,"ЧЦ=15; ЧДЦ=2; ЧГ=0");
			Иначе
				ПараметрыОбластиСтрока.СреднийМесячныйЗаработок = "";
			КонецЕсли;
			
			ПараметрыОбластиСтрока.ПериодРасчетаС = Формат(ДанныеРеестра.ПервыйГодРасчета,"ЧЦ=4; ЧГ=0");
			ПараметрыОбластиСтрока.ПериодРасчетаПо = Формат(ДанныеРеестра.ВторойГодРасчета,"ЧЦ=4; ЧГ=0");
			ПараметрыОбластиСтрока.ЗаработокПервыйГод = Формат(ДанныеРеестра.ЗаработокПервыйГодРасчета ,"ЧЦ=15; ЧДЦ=2; ЧГ=0")
			+ ?(Не ВыводитьРасчетныйПериодВШапке, "(за " + Формат(ДанныеРеестра.ПервыйГодРасчета,"ЧЦ=4; ЧГ=0") + " год)", "");
			ПараметрыОбластиСтрока.ЗаработокВторойГод = Формат(ДанныеРеестра.ЗаработокВторойГодРасчета ,"ЧЦ=15; ЧДЦ=2; ЧГ=0")
			+ ?(Не ВыводитьРасчетныйПериодВШапке,  "(за " + Формат(ДанныеРеестра.ВторойГодРасчета,"ЧЦ=4; ЧГ=0") + " год)", "");
		КонецЕсли;
		
		ОбластьСтрока.Параметры.Заполнить(ПараметрыОбластиСтрока);
		
		// разбиение на страницы
		ВыведеноСтрок = ВыведеноСтрок + 1;
		
		// Проверим, уместится ли строка на странице или надо открывать новую страницу.
		ВывестиПодвалЛиста = Не ОбщегоНазначения.ПроверитьВыводТабличногоДокумента(ТабличныйДокументРеестра, ВыводимыеОбласти);
		Если Не ВывестиПодвалЛиста И ВыведеноСтрок = ВсегоСтрокДокумента Тогда
			ВыводимыеОбласти.Добавить(ОбластьПодвал);
			ВыводимыеОбласти.Добавить(ОбластьПодписи);
			ВывестиПодвалЛиста = Не ОбщегоНазначения.ПроверитьВыводТабличногоДокумента(ТабличныйДокументРеестра, ВыводимыеОбласти);
		КонецЕсли;
		Если ВывестиПодвалЛиста Тогда
			ТабличныйДокументРеестра.ВывестиГоризонтальныйРазделительСтраниц();
			ТабличныйДокументРеестра.Вывести(ОбластьПовторятьПриПечати);
		КонецЕсли;
		
		ТабличныйДокументРеестра.Вывести(ОбластьСтрока);
	КонецЦикла;
	
	ТабличныйДокументРеестра.Вывести(ОбластьПодвал);
	ТабличныйДокументРеестра.Вывести(ОбластьПодписи);
	
	Если ТабличныйДокумент.ВысотаТаблицы > 0 Тогда
		ТабличныйДокумент.ВывестиГоризонтальныйРазделительСтраниц();
	КонецЕсли;
	ТабличныйДокумент.Вывести(ТабличныйДокументРеестра);
	
	Возврат ТабличныйДокумент;
	
КонецФункции

Функция ПредставлениеДокумента(ПредставлениеТипаДокумента, ДатаДокумента, НомерДокумента = Неопределено, СерияДокумента = Неопределено) Экспорт
	ПредставлениеДокумента = СтрШаблон(НСтр("ru = '%1 от %2'"), ПредставлениеТипаДокумента, Формат(ДатаДокумента, "ДФ=dd.MM.yyyy"));
	Если СерияДокумента <> Неопределено Тогда
		ПредставлениеДокумента = ПредставлениеДокумента + " " + СтрШаблон(НСтр("ru = 'серия %1'"), СерияДокумента);
	КонецЕсли;
	Если НомерДокумента <> Неопределено Тогда
		ПредставлениеДокумента = ПредставлениеДокумента + " " + СтрШаблон(НСтр("ru = '№ %1'"), НомерДокумента);
	КонецЕсли;
	Возврат ПредставлениеДокумента;
КонецФункции

Процедура ЗаполнитьОписаниеМакетовПриложенийРеестровФСС(ОписаниеМакетов, ВидРеестраФСС = Неопределено)
	
	Если ОписаниеМакетов.Получить(ВидРеестраФСС) <> Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	ИменаМакетов = Новый Соответствие;
	ИменаМакетов.Вставить(Перечисления.ВидыРеестровСведенийНеобходимыхДляНазначенияИВыплатыПособий.ПособияПоНетрудоспособности,
		"ПФ_MXL_РеестрВФСС_Приложение1");
	ИменаМакетов.Вставить(Перечисления.ВидыРеестровСведенийНеобходимыхДляНазначенияИВыплатыПособий.ЕжемесячныеПособияПоУходуЗаРебенком,
		"ПФ_MXL_РеестрВФСС_Приложение5");
	ИменаМакетов.Вставить(Перечисления.ВидыРеестровСведенийНеобходимыхДляНазначенияИВыплатыПособий.ЕдиновременныеПособияПриРожденииРебенка,
		"ПФ_MXL_РеестрВФСС_Приложение3");
	ИменаМакетов.Вставить(Перечисления.ВидыРеестровСведенийНеобходимыхДляНазначенияИВыплатыПособий.ПособияВставшимНаУчетВРанниеСроки,
		"ПФ_MXL_РеестрВФСС_Приложение1");
	
	Если ВидРеестраФСС <> Неопределено Тогда
		ОписаниеМакетов.Вставить(ВидРеестраФСС, ОписаниеМакетаПриложенияРеестраФСС(ИменаМакетов.Получить(ВидРеестраФСС)));
	Иначе
		Для Каждого ИмяМакета Из ИменаМакетов Цикл
			Если ОписаниеМакетов.Получить(ИмяМакета.Ключ) = Неопределено Тогда
				ОписаниеМакетов.Вставить(ИмяМакета.Ключ, ОписаниеМакетаПриложенияРеестраФСС(ИмяМакета.Значение));
			КонецЕсли;
		КонецЦикла;
	КонецЕсли;
	
КонецПроцедуры

Функция ОписаниеМакетаПриложенияРеестраФСС(ИмяМакетаПриложения)
	
	ИмяМакета = "Документ.РеестрСведенийНеобходимыхДляНазначенияИВыплатыПособий." + ИмяМакетаПриложения;
	Макет = ПолучитьМакет(ИмяМакетаПриложения);
	ОписаниеМакета = Новый Структура("ИмяМакета", ИмяМакета);
	ОписаниеМакета.Вставить("Макет", УправлениеПечатью.МакетПечатнойФормы(ИмяМакета));
	Для Каждого Область Из Макет.Области Цикл
		ПараметрыОбласти = ОбщегоНазначенияБЗК.ПараметрыТабличногоДокумента(Макет.ПолучитьОбласть(Область.Имя));
		ОписаниеМакета.Вставить(Область.Имя, ПараметрыОбласти);
	КонецЦикла;
	
	Возврат ОписаниеМакета;
	
КонецФункции

Функция ОписаниеСтажаВПечатнойФорме(СтажЛет, СтажМесяцев)
	Возврат ?(ЗначениеЗаполнено(СтажЛет), ", " + СтажЛет + " " + ПерсонифицированныйУчет.ФормаМножественногоЧисла("год","года","лет", СтажЛет),"") + ?(ЗначениеЗаполнено(СтажМесяцев), Символы.ПС + СтажМесяцев + " " + ПерсонифицированныйУчет.ФормаМножественногоЧисла("месяц","месяца","месяцев", СтажМесяцев),"");
КонецФункции

Функция ОписаниеПериодаВПечатнойФорме(ДатаС, ДатаПо) Экспорт
	Возврат "с " + Формат(ДатаС,"ДФ=dd.MM.yyyy") + " по " + Формат(ДатаПо,"ДФ=dd.MM.yyyy");
КонецФункции

#КонецОбласти

#КонецОбласти

#КонецЕсли

