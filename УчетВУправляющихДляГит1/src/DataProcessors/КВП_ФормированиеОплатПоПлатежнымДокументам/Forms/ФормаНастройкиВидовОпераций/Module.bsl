
////////////////////////////////////////////////////////////////////////////////
// ВСПОМОГАТЕЛЬНЫЕ ПРОЦЕДУРЫ И ФУНКЦИИ

#Область ВспомогательныеПроцедурыИФункции

&НаСервере
// Функция помещает настройки в хранилище.
Функция ПоместитьНастройкиВидовОплатВХранилищеНаСервере()
	
	Возврат ПоместитьВоВременноеХранилище(ТаблицаВидовОпераций.Выгрузить(), Новый УникальныйИдентификатор);
	
КонецФункции

#КонецОбласти

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

#Область ОбработчикиСобытийФормы

&НаСервере
// Обработчик события формы "ПриОткрытии" формы.
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Не Параметры.Свойство("АдресНастроекВидовОплаты") Тогда
		Отказ = Истина;
		Возврат;
	КонецЕсли;
	
	ТаблицаВидовОпераций.Загрузить(ПолучитьИзВременногоХранилища(Параметры.АдресНастроекВидовОплаты));
	
КонецПроцедуры

#КонецОбласти

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ КОМАНД ФОРМЫ

#Область ОбработчикиКомандФормы

&НаКлиенте
// Обработчик команды "УстановитьВсе".
Процедура УстановитьВсе(Команда)
	
	Для Каждого ТекСтрока Из ТаблицаВидовОпераций Цикл
		ТекСтрока.Пометка = Истина;
	КонецЦикла;
	
КонецПроцедуры

&НаКлиенте
// Обработчик команды "СнятьВсе".
Процедура СнятьВсе(Команда)
	
	Для Каждого ТекСтрока Из ТаблицаВидовОпераций Цикл
		ТекСтрока.Пометка = Ложь;
	КонецЦикла;
	
КонецПроцедуры

&НаКлиенте
// Обработчик команды "КомандаОК".
Процедура КомандаОК(Команда)
	
	АдресНастроекВидовОплаты = ПоместитьНастройкиВидовОплатВХранилищеНаСервере();
	Закрыть(АдресНастроекВидовОплаты);
	
КонецПроцедуры

#КонецОбласти
