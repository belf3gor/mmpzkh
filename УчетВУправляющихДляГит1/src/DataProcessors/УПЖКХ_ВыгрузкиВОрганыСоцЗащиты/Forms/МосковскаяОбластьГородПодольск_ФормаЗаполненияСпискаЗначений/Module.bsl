
////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТКИ СОБЫТИЙ ФОРМЫ

#Область События_формы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Заголовок = "Выбор услуг в базе для """ + Параметры.УслугаВОСЗ + """.";
	
	Для Каждого ТекущийЭлементСписка Из Параметры.СписокУслуг Цикл
		Услуга = ТекущийЭлементСписка.Значение;
		Если Услуга <> Справочники.КВП_Услуги.ПустаяСсылка() Тогда
			ТаблицаУслуг.Добавить().Услуга = Услуга;
		КонецЕсли;
	КонецЦикла;
	
КонецПроцедуры

#КонецОбласти

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТКИ СОБЫТИЙ ЭЛЕМЕНТОВ ФОРМЫ

#Область События_элементов_формы

&НаКлиенте
Процедура КомандаОК(Команда)
	
	СписокУслуг = Новый СписокЗначений;
	Для Каждого ТекЭлементСписка Из ТаблицаУслуг Цикл
		ТекУслуга = ТекЭлементСписка.Услуга;
		Если НЕ ТекУслуга.Пустая() Тогда
			СписокУслуг.Добавить(ТекУслуга);
		КонецЕсли;
	КонецЦикла;
	
	Закрыть(Новый Структура("СписокУслуг", СписокУслуг));
	
КонецПроцедуры

#КонецОбласти
