
#Область ПроцедурыМодуляФормы

&НаСервере
// Процедура помещает настройки во временное хранилище.
Функция ПоместитьНастройкиВХранилище()
	
	СтруктураНастроек = Новый Структура;
	СтруктураНастроек.Вставить("УчитыватьТекущуюДатуВНаименовании", УчитыватьТекущуюДатуВНаименовании);
	СтруктураНастроек.Вставить("Организации", Организации.Выгрузить());
	
	Возврат ПоместитьВоВременноеХранилище(СтруктураНастроек, Новый УникальныйИдентификатор);
	
КонецФункции

&НаСервере
// Обработчик события "ПриСозданииНаСервере" формы.
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Параметры.Свойство("АдресНастроек") Тогда
		
		СтруктураНастроек = ПолучитьИзВременногоХранилища(Параметры.АдресНастроек);
		
		Если СтруктураНастроек.Свойство("Организации") Тогда
			Организации.Загрузить(СтруктураНастроек.Организации);
		КонецЕсли;
		Если СтруктураНастроек.Свойство("УчитыватьТекущуюДатуВНаименовании") Тогда
			УчитыватьТекущуюДатуВНаименовании = СтруктураНастроек.УчитыватьТекущуюДатуВНаименовании;
		КонецЕсли;
		
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
// Обработчик команды "КомандаОК".
//
Процедура КомандаОК(Команда)
	
	Закрыть(ПоместитьНастройкиВХранилище());
	
КонецПроцедуры

#КонецОбласти