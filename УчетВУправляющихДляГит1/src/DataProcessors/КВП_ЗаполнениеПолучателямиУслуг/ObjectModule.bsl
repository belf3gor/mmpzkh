
#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ПроцедурыМодуляОбъекта

// Процедура получает запрос данных по лицевым счетам.
//
// Параметры
//  мЗапросДанныхЛС - запрос
//
Процедура ПолучитьЗапросДанныхПоЛС(мЗапросДанныхЛС) Экспорт
	
	мЗапросДанныхЛС = Новый Запрос;
	мЗапросДанныхЛС.Текст = 
	"ВЫБРАТЬ РАЗРЕШЕННЫЕ
	|	КВП_ЛицевыеСчета.Ссылка КАК ЛицевойСчет,
	|	КВП_ЛицевыеСчета.Адрес КАК Помещение
	|ПОМЕСТИТЬ втТаблицаЛицевыхСчетов
	|ИЗ
	|	Справочник.КВП_ЛицевыеСчета КАК КВП_ЛицевыеСчета
	|ГДЕ
	|	КВП_ЛицевыеСчета.Ссылка В(&СписокЛС)
	|	И (НЕ КВП_ЛицевыеСчета.ЭтоГруппа)
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ РАЗРЕШЕННЫЕ
	|	ТаблицаЛицевыхСчетов.ЛицевойСчет,
	|	ТаблицаЛицевыхСчетов.Помещение,
	|	УПЖКХ_ОтветственныйСобственникНанимательЛицевогоСчетаСрезПоследних.ОтветственныйВладелец КАК ВладелецОбъекта,
	|	УПЖКХ_ОтветственныйСобственникНанимательЛицевогоСчетаСрезПоследних.ОтветственныйВладелец.Наименование КАК Владелец
	|ИЗ
	|	втТаблицаЛицевыхСчетов КАК ТаблицаЛицевыхСчетов
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.УПЖКХ_ОтветственныйСобственникНанимательЛицевогоСчета.СрезПоследних(, 
	|							ЛицевойСчет В (&СписокЛС)) КАК УПЖКХ_ОтветственныйСобственникНанимательЛицевогоСчетаСрезПоследних
	|		ПО (УПЖКХ_ОтветственныйСобственникНанимательЛицевогоСчетаСрезПоследних.ЛицевойСчет = ТаблицаЛицевыхСчетов.ЛицевойСчет)";
	
КонецПроцедуры // ПолучитьЗапросДанныхПоЛС()

#КонецОбласти

#КонецЕсли