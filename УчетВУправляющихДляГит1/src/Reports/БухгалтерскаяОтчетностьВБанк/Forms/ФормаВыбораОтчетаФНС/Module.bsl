#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	// Пропускаем инициализацию, чтобы гарантировать получение формы при передаче параметра "АвтоТест".
	Если Параметры.Свойство("АвтоТест") Тогда
		Возврат;
	КонецЕсли;
	
	Список.Параметры.УстановитьЗначениеПараметра("Организация", Параметры.Организация);
	Список.Параметры.УстановитьЗначениеПараметра("ИсточникОтчета", Параметры.ИсточникОтчета);
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовТаблицыФормыСписок

&НаКлиенте
Процедура СписокВыбор(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
	
	СтандартнаяОбработка = Ложь;
	
	ОбработатьВыборОтчета(Элемент);
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура ВыбратьОтчет(Команда)
	
	ОбработатьВыборОтчета(Элементы.Список);
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаКлиенте
Процедура ОбработатьВыборОтчета(СписокОтчетов)

	ПредставлениеОтчета = СписокОтчетов.ТекущиеДанные.ФинансовыйПериод
	                    + " (" + СписокОтчетов.ТекущиеДанные.ВариантОтчета + ")";
	
	РезультатВыбора = Новый Структура;
	РезультатВыбора.Вставить("РегламентированныйОтчет", СписокОтчетов.ТекущиеДанные.РегламентированныйОтчет);
	РезультатВыбора.Вставить("ПредставлениеОтчета", ПредставлениеОтчета);
	
	ЭтаФорма.Закрыть(РезультатВыбора);
	
КонецПроцедуры

#КонецОбласти