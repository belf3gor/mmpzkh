
#Область ОбработчикиСобытийФормы
&НаКлиенте
Процедура Ок(Команда)
	Закрыть(Новый Структура("_ДокИнф, ТекстовоеОписание", _ДокИнф, "Сведения о " + _ДокИнф.ПолучитьЭлементы().Количество() + " документах"));
КонецПроцедуры

&НаКлиенте
Процедура Отмена(Команда)
	Закрыть();
КонецПроцедуры

&НаКлиенте
Процедура _ДокИнфПриАктивизацииСтроки(Элемент)
	Элементы._ДокИнфДобавить.Доступность = (Элемент.ТекущиеДанные <> Неопределено) И (Элемент.ТекущиеДанные.ПолучитьРодителя() = Неопределено);
	Элементы._ДокИнфУдалить.Доступность = (Элемент.ТекущиеДанные <> Неопределено);
КонецПроцедуры

&НаКлиенте
Процедура РедактироватьМногострочныйТекстЗавершение(Текст, ПараметрыИсточника) Экспорт
	Если Текст <> Неопределено И ЗначениеЗаполнено(Текст) Тогда
		Если ПараметрыИсточника Тогда 
			НовСтр = Элементы._ДокИнф.ТекущиеДанные;
			НовСтр.СведДокИнф = Текст;
		Иначе
			НовСтр = _ДокИнф.ПолучитьЭлементы().Добавить();
			НовСтр.СведДокИнф = Текст;
		КонецЕсли;
	КонецЕсли;
КонецПроцедуры

&НаКлиенте
Процедура ДобавитьДокумент(Команда)
	ОО = Новый ОписаниеОповещения("РедактироватьМногострочныйТекстЗавершение", ЭтотОбъект, Ложь);
	ПоказатьВводСтроки(ОО, , "Наименования и реквизиты документов (сведений), указанных в требовании", 2000, Истина);
КонецПроцедуры

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	Если Параметры.Свойство("АвтоТест") Тогда
		Возврат;
	КонецЕсли;
	
	Для Каждого Стр1 Из Параметры._ДокИнф.ПолучитьЭлементы() Цикл 
		НовСтр = _ДокИнф.ПолучитьЭлементы().Добавить();
		ЗаполнитьЗначенияСвойств(НовСтр, Стр1);
		Для Каждого Стр2 Из Стр1.ПолучитьЭлементы() Цикл 
			НовСтр2 = НовСтр.ПолучитьЭлементы().Добавить();
			ЗаполнитьЗначенияСвойств(НовСтр2, Стр2);
		КонецЦикла;
	КонецЦикла;
КонецПроцедуры

&НаКлиенте
Процедура _ДокИнфВыбор(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
	Если Поле.Имя = "_ДокИнфСведДокИнф" 
		И _ДокИнф.НайтиПоИдентификатору(ВыбраннаяСтрока) <> Неопределено 
		И ЗначениеЗаполнено(_ДокИнф.НайтиПоИдентификатору(ВыбраннаяСтрока).СведДокИнф) Тогда 
		
		СтандартнаяОбработка = Ложь;
		ОО = Новый ОписаниеОповещения("РедактироватьМногострочныйТекстЗавершение", ЭтотОбъект, Истина);
		ПоказатьВводСтроки(ОО, _ДокИнф.НайтиПоИдентификатору(ВыбраннаяСтрока).СведДокИнф, "Наименования и реквизиты документов (сведений), указанных в требовании", 2000, Истина);
	КонецЕсли;
КонецПроцедуры

#КонецОбласти

