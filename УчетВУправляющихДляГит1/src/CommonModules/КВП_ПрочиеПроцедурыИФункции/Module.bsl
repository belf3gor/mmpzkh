
#Область ИнформацияОКонфигурации

// Определяет номер версии типовой конфигурации по номеру версии
// конфигурации "1С: Учет в управляющих компаниях ЖКХ, ТСЖ и ЖСК.".
//
// Параметры:
//  ВерсияЖКХ – Строка – номер версии конфигурации "Учет в ЖКХ".
//
// Возвращаемое значение:
//  Строка – номер версии конфигурации "Бухгалтерия предприятия".
//
Функция НомерВерсииТиповойКонфигурации(ВерсияЖКХ) Экспорт
	
	// Версии редакции 3.квп
	Если ВерсияЖКХ = "3.0.72.1" Тогда
		Возврат "3.0.72.54";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.71.9"
	 ИЛИ ВерсияЖКХ = "3.0.71.8"
	 ИЛИ ВерсияЖКХ = "3.0.71.7" Тогда
		Возврат "3.0.71.89";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.71.6" Тогда
		Возврат "3.0.71.83";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.71.5"
	 ИЛИ ВерсияЖКХ = "3.0.71.4" Тогда
		Возврат "3.0.71.77";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.71.3" Тогда
		Возврат "3.0.71.75";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.71.2" Тогда
		Возврат "3.0.71.69";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.71.1" Тогда
		Возврат "3.0.71.63";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.70.11"
	 ИЛИ ВерсияЖКХ = "3.0.70.10"
	 ИЛИ ВерсияЖКХ = "3.0.70.9" Тогда
		Возврат "3.0.70.52";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.70.8" Тогда
		Возврат "3.0.70.50";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.70.7"
	 ИЛИ ВерсияЖКХ = "3.0.70.6"
	 ИЛИ ВерсияЖКХ = "3.0.70.5"
	 ИЛИ ВерсияЖКХ = "3.0.70.4" Тогда
		Возврат "3.0.70.33";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.70.3"
	 ИЛИ ВерсияЖКХ = "3.0.70.2"
	 ИЛИ ВерсияЖКХ = "3.0.70.1" Тогда
		Возврат "3.0.70.25";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.69.1" Тогда
		Возврат "3.0.69.32";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.68.2"
	 ИЛИ ВерсияЖКХ = "3.0.68.1" Тогда
		Возврат "3.0.68.58";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.67.10"
	 ИЛИ ВерсияЖКХ = "3.0.67.9"
	 ИЛИ ВерсияЖКХ = "3.0.67.8" Тогда
		Возврат "3.0.67.72";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.67.7"
	 ИЛИ ВерсияЖКХ = "3.0.67.6" Тогда
		Возврат "3.0.67.70";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.67.5"
	 ИЛИ ВерсияЖКХ = "3.0.67.4" Тогда
		Возврат "3.0.67.63";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.67.3" Тогда
		Возврат "3.0.67.54";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.67.2" Тогда
		Возврат "3.0.67.43";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.67.1" Тогда
		Возврат "3.0.67.38";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.66.7"
	 ИЛИ ВерсияЖКХ = "3.0.66.6"
	 ИЛИ ВерсияЖКХ = "3.0.66.3" Тогда
		Возврат "3.0.66.53";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.66.2"
	 ИЛИ ВерсияЖКХ = "3.0.66.1" Тогда
		Возврат "3.0.66.47";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.65.9"
	 ИЛИ ВерсияЖКХ = "3.0.65.5" Тогда
		Возврат "3.0.65.84";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.65.4"
	 ИЛИ ВерсияЖКХ = "3.0.65.3"
	 ИЛИ ВерсияЖКХ = "3.0.65.2"
	 ИЛИ ВерсияЖКХ = "3.0.65.1" Тогда
		Возврат "3.0.65.69";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.64.10"
	 ИЛИ ВерсияЖКХ = "3.0.64.9" Тогда
		Возврат "3.0.64.54";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.64.8"
	 ИЛИ ВерсияЖКХ = "3.0.64.7"
	 ИЛИ ВерсияЖКХ = "3.0.64.6" Тогда
		Возврат "3.0.64.48";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.64.5" Тогда
		Возврат "3.0.64.42";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.64.4"
	 ИЛИ ВерсияЖКХ = "3.0.64.2" Тогда
		Возврат "3.0.64.28";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.64.1" Тогда
		Возврат "3.0.64.21";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.63.2"
	 ИЛИ ВерсияЖКХ = "3.0.63.1" Тогда
		Возврат "3.0.63.15";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.62.1" Тогда
		Возврат "3.0.62.17";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.61.4"
	 Или ВерсияЖКХ = "3.0.61.3"
	 Или ВерсияЖКХ = "3.0.61.2" Тогда
		Возврат "3.0.61.47";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.61.1" Тогда
		Возврат "3.0.61.37";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.60.6" Тогда
		Возврат "3.0.60.59";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.60.5" Тогда
		Возврат "3.0.60.50";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.60.4" Тогда
		Возврат "3.0.60.46";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.60.3"
	 ИЛИ ВерсияЖКХ = "3.0.60.2" Тогда
		Возврат "3.0.60.44";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.60.1" Тогда
		Возврат "3.0.60.34";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.59.4" Тогда
		Возврат "3.0.59.56";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.59.3" Тогда
		Возврат "3.0.59.54";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.59.2"
	 ИЛИ ВерсияЖКХ = "3.0.59.1" Тогда
		Возврат "3.0.59.45";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.58.4"
	 ИЛИ ВерсияЖКХ = "3.0.58.3" Тогда
		Возврат "3.0.58.41";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.58.2"
	 ИЛИ ВерсияЖКХ = "3.0.58.1" Тогда
		Возврат "3.0.58.26";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.57.4"
	 ИЛИ ВерсияЖКХ = "3.0.57.3"
	 ИЛИ ВерсияЖКХ = "3.0.57.2" Тогда
		Возврат "3.0.57.17";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.57.1" Тогда
		Возврат "3.0.57.10";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.56.2"
	 ИЛИ ВерсияЖКХ = "3.0.56.1" Тогда
		Возврат "3.0.56.22";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.55.2"
	 ИЛИ ВерсияЖКХ = "3.0.55.1" Тогда
		Возврат "3.0.55.16";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.54.2"
	 ИЛИ ВерсияЖКХ = "3.0.54.1" Тогда
		Возврат "3.0.54.15";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.53.2"
	 ИЛИ ВерсияЖКХ = "3.0.53.1" Тогда
		Возврат "3.0.53.39";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.52.3" Тогда
		Возврат "3.0.52.42";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.52.1"
	 ИЛИ ВерсияЖКХ = "3.0.52.2" Тогда
		Возврат "3.0.52.35";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.51.6"
	 ИЛИ ВерсияЖКХ = "3.0.51.7"
	 ИЛИ ВерсияЖКХ = "3.0.51.8" Тогда
		Возврат "3.0.51.27";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.51.2"
	 ИЛИ ВерсияЖКХ = "3.0.51.3"
	 ИЛИ ВерсияЖКХ = "3.0.51.4"
	 ИЛИ ВерсияЖКХ = "3.0.51.5" Тогда
		Возврат "3.0.51.21";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.51.1" Тогда
		Возврат "3.0.51.14";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.50.2" Тогда
		Возврат "3.0.50.19";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.50.1" Тогда
		Возврат "3.0.50.12";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.49.6"
	 ИЛИ ВерсияЖКХ = "3.0.49.7" Тогда
		Возврат "3.0.49.28";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.49.4"
	 ИЛИ ВерсияЖКХ = "3.0.49.5" Тогда
		Возврат "3.0.49.27";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.49.3" Тогда
		Возврат "3.0.49.22";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.49.2" Тогда
		Возврат "3.0.49.18";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.49.1" Тогда
		Возврат "3.0.49.17";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.48.1" Тогда
		Возврат "3.0.48.19";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.47.4"
	 ИЛИ ВерсияЖКХ = "3.0.47.5" Тогда
		Возврат "3.0.47.33";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.47.3"
	 ИЛИ ВерсияЖКХ = "3.0.47.2"
	 ИЛИ ВерсияЖКХ = "3.0.47.2" Тогда
		Возврат "3.0.47.26";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.46.1"
	 ИЛИ ВерсияЖКХ = "3.0.46.2" Тогда
		Возврат "3.0.46.16";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.44.14"
	 ИЛИ ВерсияЖКХ = "3.0.44.15"
	 ИЛИ ВерсияЖКХ = "3.0.44.16"
	 ИЛИ ВерсияЖКХ = "3.0.44.19" Тогда
		Возврат "3.0.44.203";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.44.13" Тогда
		Возврат "3.0.44.200";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.44.8"
	 ИЛИ ВерсияЖКХ = "3.0.44.9"
	 ИЛИ ВерсияЖКХ = "3.0.44.11"
	 ИЛИ ВерсияЖКХ = "3.0.44.12" Тогда
		Возврат "3.0.44.155";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.44.7" Тогда
		Возврат "3.0.44.124";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.44.2"
	 ИЛИ ВерсияЖКХ = "3.0.44.5"
	 ИЛИ ВерсияЖКХ = "3.0.44.6" Тогда
		Возврат "3.0.44.115";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.44.1" Тогда
		Возврат "3.0.44.94";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.43.27" Тогда
		Возврат "3.0.43.260";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.43.25"
	 ИЛИ ВерсияЖКХ = "3.0.43.26" Тогда
		Возврат "3.0.43.251";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.43.24"
	 ИЛИ ВерсияЖКХ = "3.0.43.23"
	 ИЛИ ВерсияЖКХ = "3.0.43.22"
	 ИЛИ ВерсияЖКХ = "3.0.43.21" Тогда
		Возврат "3.0.43.236";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.43.20" Тогда
		Возврат "3.0.43.195";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.43.19"
	 ИЛИ ВерсияЖКХ = "3.0.43.18" Тогда
		Возврат "3.0.43.173";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.43.17"
	 ИЛИ ВерсияЖКХ = "3.0.43.16"
	 ИЛИ ВерсияЖКХ = "3.0.43.15"
	 ИЛИ ВерсияЖКХ = "3.0.43.14"
	 ИЛИ ВерсияЖКХ = "3.0.43.13"
	 ИЛИ ВерсияЖКХ = "3.0.43.12" Тогда
		Возврат "3.0.43.155";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.43.11" Тогда
		Возврат "3.0.43.152";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.43.10" Тогда
		Возврат "3.0.43.137";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.43.9" Тогда
		Возврат "3.0.43.136";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.43.6"
	 ИЛИ ВерсияЖКХ = "3.0.43.7"
	 ИЛИ ВерсияЖКХ = "3.0.43.8" Тогда
		Возврат "3.0.43.100";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.43.5" Тогда
		Возврат "3.0.43.89";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.43.4" Тогда
		Возврат "3.0.43.75";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.43.3" Тогда
		Возврат "3.0.43.52";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.43.1"
	 ИЛИ ВерсияЖКХ = "3.0.43.2" Тогда
		Возврат "3.0.43.32";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.42.8" Тогда
		Возврат "3.0.42.88";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.42.7"
	 ИЛИ ВерсияЖКХ = "3.0.42.6"
	 ИЛИ ВерсияЖКХ = "3.0.42.5"
	 ИЛИ ВерсияЖКХ = "3.0.42.4" Тогда
		Возврат "3.0.42.73";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.42.1"
	 ИЛИ ВерсияЖКХ = "3.0.42.2"
	 ИЛИ ВерсияЖКХ = "3.0.42.3" Тогда
		Возврат "3.0.42.33";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.41.13"
	 ИЛИ ВерсияЖКХ = "3.0.41.12"
	 ИЛИ ВерсияЖКХ = "3.0.41.11" Тогда
		Возврат "3.0.41.60";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.41.7"
	 ИЛИ ВерсияЖКХ = "3.0.41.8"
	 ИЛИ ВерсияЖКХ = "3.0.41.9"
	 ИЛИ ВерсияЖКХ = "3.0.41.10" Тогда
		Возврат "3.0.41.53";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.41.6" Тогда
		Возврат "3.0.41.52";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.41.2"
	 ИЛИ ВерсияЖКХ = "3.0.41.3"
	 ИЛИ ВерсияЖКХ = "3.0.41.4"
	 ИЛИ ВерсияЖКХ = "3.0.41.5" Тогда
		Возврат "3.0.41.51";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.41.1" Тогда
		Возврат "3.0.41.49";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.40.6" Тогда
		Возврат "3.0.40.40";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.40.5" Тогда
		Возврат "3.0.40.39";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.40.4" Тогда
		Возврат "3.0.40.36";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.40.2" 
	 ИЛИ ВерсияЖКХ = "3.0.40.3" Тогда
		Возврат "3.0.40.26";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.40.1" Тогда
		Возврат "3.0.40.24";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.39.8" Тогда
		Возврат "3.0.39.65";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.39.7" Тогда
		Возврат "3.0.39.62";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.39.6" Тогда
		Возврат "3.0.39.61";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.39.5" Тогда
		Возврат "3.0.39.60";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.39.4" Тогда
		Возврат "3.0.39.58";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.39.3" Тогда
		Возврат "3.0.39.55";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.39.2" Тогда
		Возврат "3.0.39.52";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.39.1" Тогда
		Возврат "3.0.39.51";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.38.6"
	 ИЛИ ВерсияЖКХ = "3.0.38.5" Тогда
		Возврат "3.0.38.54";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.38.4" Тогда
		Возврат "3.0.38.53";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.38.3" Тогда
		Возврат "3.0.38.51";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.38.2" Тогда
		Возврат "3.0.38.50";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.38.1" Тогда
		Возврат "3.0.38.48";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.37.15" Тогда
		Возврат "3.0.37.42";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.37.14"
	 ИЛИ ВерсияЖКХ = "3.0.37.13"
	 ИЛИ ВерсияЖКХ = "3.0.37.12"
	 ИЛИ ВерсияЖКХ = "3.0.37.11" Тогда
		Возврат "3.0.37.40";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.37.10" Тогда
		Возврат "3.0.37.38";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.37.9" Тогда
		Возврат "3.0.37.36";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.37.8" Тогда
		Возврат "3.0.37.35";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.37.7" Тогда
		Возврат "3.0.37.34";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.37.6" Тогда
		Возврат "3.0.37.29";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.37.5" Тогда
		Возврат "3.0.37.28";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.37.4" Тогда
		Возврат "3.0.37.27";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.37.3" Тогда
		Возврат "3.0.37.26";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.37.2"
	 ИЛИ ВерсияЖКХ = "3.0.37.1" Тогда
		Возврат "3.0.37.25";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.36.7" Тогда
		Возврат "3.0.36.21";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.36.6"
	 ИЛИ ВерсияЖКХ = "3.0.36.5" Тогда
		Возврат "3.0.36.17";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.36.4"
	 ИЛИ ВерсияЖКХ = "3.0.36.3" Тогда
		Возврат "3.0.36.16";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.36.2" Тогда
		Возврат "3.0.36.15";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.36.1" Тогда
		Возврат "3.0.36.11";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.35.3" Тогда
		Возврат "3.0.35.28";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.35.2"
	 ИЛИ ВерсияЖКХ = "3.0.35.1" Тогда
		Возврат "3.0.35.25";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.34.2" Тогда
		Возврат "3.0.34.13";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.34.1" Тогда
		Возврат "3.0.34.11";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.33.1" Тогда
		Возврат "3.0.33.19";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.32.2"
	 ИЛИ ВерсияЖКХ = "3.0.32.1" Тогда
		Возврат "3.0.32.6";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.31.4"
	 ИЛИ ВерсияЖКХ = "3.0.31.3"
	 ИЛИ ВерсияЖКХ = "3.0.31.2"
	 ИЛИ ВерсияЖКХ = "3.0.31.1" Тогда
		Возврат "3.0.31.13";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.30.3" Тогда
		Возврат "3.0.30.16";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.30.2" Тогда
		Возврат "3.0.30.14";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.30.1" Тогда
		Возврат "3.0.30.12";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.29.4"
	 ИЛИ ВерсияЖКХ = "3.0.29.3"
	 ИЛИ ВерсияЖКХ = "3.0.29.2" Тогда
		Возврат "3.0.29.8";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.29.1" Тогда
		Возврат "3.0.29.7";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.28.3"
	 Или ВерсияЖКХ = "3.0.28.2" Тогда
		Возврат "3.0.28.12";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.28.1" Тогда
		Возврат "3.0.28.7";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.27.1"
	 Или ВерсияЖКХ = "3.0.27.2"
	 Или ВерсияЖКХ = "3.0.27.4" Тогда
		Возврат "3.0.27.9";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.26.2" Тогда
		Возврат "3.0.26.11";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.26.1" Тогда
		Возврат "3.0.26.9";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.25.1"
	 Или ВерсияЖКХ = "3.0.25.2" Тогда
		Возврат "3.0.25.7";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.19.1"
	 Или ВерсияЖКХ = "3.0.19.2"
	 Или ВерсияЖКХ = "3.0.19.3"
	 Или ВерсияЖКХ = "3.0.19.4"
	 Или ВерсияЖКХ = "3.0.19.5"
	 Или ВерсияЖКХ = "3.0.19.6"
	 Или ВерсияЖКХ = "3.0.19.7" Тогда
		Возврат "3.0.19.27";
	КонецЕсли;
	Если ВерсияЖКХ = "3.0.16.1"
	 Или ВерсияЖКХ = "3.0.16.2"
	 Или ВерсияЖКХ = "3.0.16.3"
	 Или ВерсияЖКХ = "3.0.16.4"
	 Или ВерсияЖКХ = "3.0.16.5"
	 Или ВерсияЖКХ = "3.0.16.6"
	 Или ВерсияЖКХ = "3.0.16.7"
	 Или ВерсияЖКХ = "3.0.16.8"
	 Или ВерсияЖКХ = "3.0.16.9"
	 Или ВерсияЖКХ = "3.0.16.10"
	 Или ВерсияЖКХ = "3.0.16.11"
	 Или ВерсияЖКХ = "3.0.16.12"
	 Или ВерсияЖКХ = "3.0.16.13"
	 Или ВерсияЖКХ = "3.0.16.14"
	 Или ВерсияЖКХ = "3.0.16.15"
	 Или ВерсияЖКХ = "3.0.16.16"
	 Или ВерсияЖКХ = "3.0.16.17"
	 Или ВерсияЖКХ = "3.0.16.18"
	 Или ВерсияЖКХ = "3.0.16.19" Тогда
		Возврат "3.0.16.8";
	КонецЕсли;
	
	Возврат "3.0.72.54";
	
КонецФункции // НомерВерсииТиповойКонфигурации()

// Функция возвращает дату текущей версии конфигурации.
//
Функция ДатаТекущейВерсии() Экспорт
	
	// ЖКХ 3.0
	Возврат Дата(2019,08,15);
	
КонецФункции

// Определяет, является ли указанная версия неофициальной.
//
// Параметры:
//  НомерВерсии – Строка – номер версии конфигурации.
//
// Возвращаемое значение:
//  Булево – является ли указанная версия неофициальной.
//
Функция ВерсияЯвляетсяНеофициальной(НомерВерсии) Экспорт
	
	Если НомерВерсии = "3.0.71.9"
	 ИЛИ НомерВерсии = "3.0.70.11"
	 ИЛИ НомерВерсии = "3.0.70.7"
	 ИЛИ НомерВерсии = "3.0.70.4"
	 ИЛИ НомерВерсии = "3.0.68.2"
	 ИЛИ НомерВерсии = "3.0.67.9"
	 ИЛИ НомерВерсии = "3.0.67.3"
	 ИЛИ НомерВерсии = "3.0.66.6"
	 ИЛИ НомерВерсии = "3.0.66.2"
	 ИЛИ НомерВерсии = "3.0.65.5"
	 ИЛИ НомерВерсии = "3.0.64.5"
	 ИЛИ НомерВерсии = "3.0.64.4"
	 ИЛИ НомерВерсии = "3.0.64.1"
	 ИЛИ НомерВерсии = "3.0.63.2"
	 ИЛИ НомерВерсии = "3.0.61.4"
	 ИЛИ НомерВерсии = "3.0.60.5"
	 ИЛИ НомерВерсии = "3.0.60.4"
	 ИЛИ НомерВерсии = "3.0.59.4"
	 ИЛИ НомерВерсии = "3.0.59.3"
	 ИЛИ НомерВерсии = "3.0.59.1"
	 ИЛИ НомерВерсии = "3.0.58.4"
	 ИЛИ НомерВерсии = "3.0.58.1"
	 ИЛИ НомерВерсии = "3.0.57.2"
	 ИЛИ НомерВерсии = "3.0.56.1"
	 ИЛИ НомерВерсии = "3.0.55.2"
	 ИЛИ НомерВерсии = "3.0.54.2"
	 ИЛИ НомерВерсии = "3.0.53.2"
	 ИЛИ НомерВерсии = "3.0.52.2"
	 ИЛИ НомерВерсии = "3.0.51.8"
	 ИЛИ НомерВерсии = "3.0.51.6"
	 ИЛИ НомерВерсии = "3.0.51.3"
	 ИЛИ НомерВерсии = "3.0.50.2"
	 ИЛИ НомерВерсии = "3.0.49.7"
	 ИЛИ НомерВерсии = "3.0.49.5"
	 ИЛИ НомерВерсии = "3.0.49.4"
	 ИЛИ НомерВерсии = "3.0.49.3"
	 ИЛИ НомерВерсии = "3.0.49.1"
	 ИЛИ НомерВерсии = "3.0.47.5"
	 ИЛИ НомерВерсии = "3.0.47.3"
	 ИЛИ НомерВерсии = "3.0.47.1"
	 ИЛИ НомерВерсии = "3.0.46.6"
	 ИЛИ НомерВерсии = "3.0.44.19"
	 ИЛИ НомерВерсии = "3.0.44.14"
	 ИЛИ НомерВерсии = "3.0.44.13"
	 ИЛИ НомерВерсии = "3.0.44.12"
	 ИЛИ НомерВерсии = "3.0.44.11"
	 ИЛИ НомерВерсии = "3.0.44.8"
	 ИЛИ НомерВерсии = "3.0.44.6"
	 ИЛИ НомерВерсии = "3.0.44.5"
	 ИЛИ НомерВерсии = "3.0.43.26"
	 ИЛИ НомерВерсии = "3.0.43.24"
	 ИЛИ НомерВерсии = "3.0.43.23"
	 ИЛИ НомерВерсии = "3.0.43.22"
	 ИЛИ НомерВерсии = "3.0.43.20"
	 ИЛИ НомерВерсии = "3.0.43.19"
	 ИЛИ НомерВерсии = "3.0.43.17"
	 ИЛИ НомерВерсии = "3.0.43.16"
	 ИЛИ НомерВерсии = "3.0.43.14"
	 ИЛИ НомерВерсии = "3.0.43.12"
	 ИЛИ НомерВерсии = "3.0.43.11"
	 ИЛИ НомерВерсии = "3.0.43.8"
	 ИЛИ НомерВерсии = "3.0.43.7"
	 ИЛИ НомерВерсии = "3.0.43.4"
	 ИЛИ НомерВерсии = "3.0.43.3"
	 ИЛИ НомерВерсии = "3.0.42.7"
	 ИЛИ НомерВерсии = "3.0.42.4"
	 ИЛИ НомерВерсии = "3.0.42.3"
	 ИЛИ НомерВерсии = "3.0.42.2"
	 ИЛИ НомерВерсии = "3.0.41.13"
	 ИЛИ НомерВерсии = "3.0.41.12"
	 ИЛИ НомерВерсии = "3.0.41.11"
	 ИЛИ НомерВерсии = "3.0.41.10"
	 ИЛИ НомерВерсии = "3.0.41.9"
	 ИЛИ НомерВерсии = "3.0.41.6"
	 ИЛИ НомерВерсии = "3.0.41.4"
	 ИЛИ НомерВерсии = "3.0.41.3"
	 ИЛИ НомерВерсии = "3.0.40.6"
	 ИЛИ НомерВерсии = "3.0.40.3"
	 ИЛИ НомерВерсии = "3.0.40.1"
	 ИЛИ НомерВерсии = "3.0.39.6"
	 ИЛИ НомерВерсии = "3.0.38.3"
	 ИЛИ НомерВерсии = "3.0.37.14"
	 ИЛИ НомерВерсии = "3.0.37.12"
	 ИЛИ НомерВерсии = "3.0.37.8"
	 ИЛИ НомерВерсии = "3.0.36.7"
	 ИЛИ НомерВерсии = "3.0.36.5"
	 ИЛИ НомерВерсии = "3.0.36.3"
	 ИЛИ НомерВерсии = "3.0.35.1"
	 ИЛИ НомерВерсии = "3.0.31.3"
	 ИЛИ НомерВерсии = "3.0.31.1"
	 ИЛИ НомерВерсии = "3.0.30.3"
	 ИЛИ НомерВерсии = "3.0.29.4"
	 ИЛИ НомерВерсии = "3.0.29.3"
	 ИЛИ НомерВерсии = "3.0.29.2"
	 ИЛИ НомерВерсии = "3.0.28.2"
	 ИЛИ НомерВерсии = "3.0.27.4"
	 ИЛИ НомерВерсии = "3.0.27.2"
	 Или НомерВерсии = "3.0.26.2"
	 Или НомерВерсии = "3.0.16.18" Тогда
		Возврат Истина;
	КонецЕсли;
	
	Возврат Ложь;
	
КонецФункции // ВерсияЯвляетсяНеофициальной()

// Определяет, является ли указанная версия тестовой.
//
// Параметры:
//  НомерВерсии – Строка – номер версии конфигурации.
//
// Возвращаемое значение:
//  Булево – является ли указанная версия тестовой.
//
Функция ВерсияЯвляетсяТестовой(НомерВерсии) Экспорт
	
	// ПОРЯДОК ВЫПУСКА ТЕСТОВЫХ ВЕРСИЙ:
	// 1. Увеличиваем номер сборки конфигурации.
	// 2. Отмечаем новую версию как тестовую в данной функции.
	// 3. Сохраняем конфигурацию в файл и загружаем в тестовую дистрибную базу.
	// 4. Сравнением-объединением добавляем необходимые тестовые доработки
	//    в конфигурацию дистрибной базы, выпускаем конфигурацию.
	
	Если НомерВерсии = "3.0.51.7"
	 ИЛИ НомерВерсии = "3.0.51.5"
	 ИЛИ НомерВерсии = "3.0.51.4" Тогда
		Возврат Истина;
	КонецЕсли;
	
	Возврат Ложь;
	
КонецФункции // ВерсияЯвляетсяТестовой()

// Возвращает признак, является ли конфигурация базовой.
// Используется в одноименной типовой функции.
//
// Возвращаемое значение:
//   Булево   - Истина, если конфигурация - базовая.
//
Функция ЭтоБазоваяВерсияКонфигурации() Экспорт
	
	Возврат СтрНайти(ВРег(Метаданные.Имя), "БАЗОВАЯ") > 0;
	
КонецФункции

// Определяет наименование типовой конфигурации по наименованию 
// отраслевой конфигурации.
//
// Параметры:
//  ИмяОтраслевой - Строка - наименование отраслевой конфигурации.
//
// Возвращаемое значение:
//  Строка - наименование типовой конфигурации.
//
Функция НаименованиеТиповойКонфигурации(Знач ИмяОтраслевой) Экспорт
	
	Если ВРег(ИмяОтраслевой) = ВРег("УчетВУправляющихКомпаниях")
	 ИЛИ ВРег(ИмяОтраслевой) = ВРег("ВДГБЛомбард3ПРОФ") Тогда
		Возврат "БухгалтерияПредприятия";
		
	ИначеЕсли ВРег(ИмяОтраслевой) = ВРег(УПЖКХ_ИнформацияОРазработчикеИПрограмме.НаименованиеКонфигурации())
	      ИЛИ ВРег(ИмяОтраслевой) = ВРег("ВДГБЛомбард3") Тогда
		Возврат "БухгалтерияПредприятияБазовая";
		
	ИначеЕсли ВРег(ИмяОтраслевой) = ВРег("УправлениеПредприятиемЖКХ") Тогда
		Возврат "УправлениеПроизводственнымПредприятием";
		
	КонецЕсли;
	
	Возврат ИмяОтраслевой;
	
КонецФункции // НаименованиеТиповойКонфигурации()

// Определяет синоним типовой конфигурации по наименованию 
// отраслевой конфигурации.
//
// Параметры:
//  ИмяОтраслевой - Строка - наименование отраслевой конфигурации.
//
// Возвращаемое значение:
//  Строка - синоним типовой конфигурации.
//
Функция СинонимТиповойКонфигурации(ИмяОтраслевой) Экспорт
	
	Если ВРег(ИмяОтраслевой) = ВРег("УчетВУправляющихКомпаниях")
	 ИЛИ ВРег(ИмяОтраслевой) = ВРег("ВДГБЛомбард3ПРОФ") Тогда
		Возврат "Бухгалтерия предприятия, редакция 3.0";
		
	ИначеЕсли ВРег(ИмяОтраслевой) = ВРег(УПЖКХ_ИнформацияОРазработчикеИПрограмме.НаименованиеКонфигурации())
	      ИЛИ ВРег(ИмяОтраслевой) = ВРег("ВДГБЛомбард3") Тогда
		Возврат "Бухгалтерия предприятия (базовая), редакция 3.0";
		
	ИначеЕсли ВРег(ИмяОтраслевой) = ВРег("УправлениеПредприятиемЖКХ") Тогда
		Возврат "Управление производственным предприятием, редакция 1.3";
		
	КонецЕсли;
	
	Возврат Метаданные.Синоним;
	
КонецФункции // НаименованиеТиповойКонфигурации()

#КонецОбласти

#Область ПраваДоступа

// Определяет доступность ролей, необходимость для корректного запуска программы.
//
// Параметры:
//  Нет.
//
// Возвращаемое значение:
//  Булево - признак доступности ролей.
//
Функция РолиДляЗапускаПрограммыДоступны() Экспорт
	
	// Запуск программы запрещен, если нет административных прав, или недоступна роль "Пользователь".
	// Это необходимо для доступа к служебным константам и др. объектам КВП.
	
	РолиДляЗапускаДоступны = РольДоступна("ПолныеПрава")
						 Или РольДоступна("УПЖКХ_Пользователь");
	
	Возврат РолиДляЗапускаДоступны;
	
КонецФункции

#КонецОбласти

#Область ПроцедурыИФункцииРаботыСОбновлениемКонфигурации

// Функция возвращает таблицу версий, обновление на которые является критичным.
//
Функция ОписаниеВерсийКритичныхОбновлений()
	
	// Здесь описана таблица критичных версий. Для каждой критичной версии
	// в таблицу необходимо добавить отдельную строку.
	//
	// 1. Версия - версия, при обновлении на которую будут выполнены критичные обновления.
	// 2. Описание - содержание кричитного обновления. Например: "В данном обновление будет выполнено ...!".
	
	ТаблицаКритичныхВерсий = Новый ТаблицаЗначений;
	ТаблицаКритичныхВерсий.Колонки.Добавить("Версия");
	ТаблицаКритичныхВерсий.Колонки.Добавить("Описание");
	
	// Пример:
	//НоваяВерсия = ТаблицаКритичныхВерсий.Добавить();
	//НоваяВерсия.Версия      = "2.0.50.1";
	//НоваяВерсия.Описание    = "В данном обновлении будут обработаны начисления сторно!";
	
	НоваяВерсия = ТаблицаКритичныхВерсий.Добавить();
	НоваяВерсия.Версия   = "3.0.57.4";
	НоваяВерсия.Описание = "В данном обновлении будут обработаны начисления по зависимым услугам, а именно 
							  |все начисления по зависимым услугам будут перенесены в табличную часть документа «Начисление услуг»!";
	
	Возврат ТаблицаКритичныхВерсий;
	
КонецФункции

// Функция определяет, является ли данное обновление критичным.
//
Функция ОпределитьКритичностьОбновления(СтараяВерсия, НоваяВерсия) Экспорт
	
	// Получим таблицу критичных версий.
	ТаблицаКритичныхВерсий = ОписаниеВерсийКритичныхОбновлений();
	
	// Определим структуру критичности.
	СтруктураКритичности = Новый Структура;
	СтруктураКритичности.Вставить("Критичность", Ложь);
	СтруктураКритичности.Вставить("Версия",      "");
	СтруктураКритичности.Вставить("Описание",    "");
	
	// Обработаем имеющиеся версии.
	МассивСтараяВерсия = СтроковыеФункцииКлиентСервер.РазложитьСтрокуВМассивПодстрок(СтараяВерсия, ".");
	МассивНоваяВерсия  = СтроковыеФункцииКлиентСервер.РазложитьСтрокуВМассивПодстрок(НоваяВерсия, ".");
	
	// Проверяем если только количество элементов в версии равно 4,
	// и номера редакции и подредакции версий совпадают.
	Если МассивСтараяВерсия.Количество() = 4 И МассивНоваяВерсия.Количество() = 4
	   И МассивСтараяВерсия[0] = МассивНоваяВерсия[0] И МассивСтараяВерсия[1] = МассивНоваяВерсия[1] Тогда
		
		// Определим версии числами в попытке.
		Попытка
			СтараяВерсияЧислом = Число(МассивСтараяВерсия[2]);
			СтараяСборкаЧислом = Число(МассивСтараяВерсия[3]);
			
			ЧислоСтаройВерсии = СтараяВерсияЧислом * 100 + СтараяСборкаЧислом;
			
			НоваяВерсияЧислом = Число(МассивНоваяВерсия[2]);
			НоваяСборкаЧислом = Число(МассивНоваяВерсия[3]);
			
			ЧислоНовойВерсии = НоваяВерсияЧислом * 100 + НоваяСборкаЧислом;
		Исключение
			Возврат СтруктураКритичности;
		КонецПопытки;
		
		Для Каждого ТекСтрока Из ТаблицаКритичныхВерсий Цикл
			
			МассивТекВерсии = СтроковыеФункцииКлиентСервер.РазложитьСтрокуВМассивПодстрок(ТекСтрока.Версия, ".");
			
			// Убедимся, что количество элементов в критичной версии равно 4,
			// и ее номер редакции и подредакции совпадают со старой версией.
			Если МассивСтараяВерсия.Количество() > 2
			   И МассивСтараяВерсия[0] = МассивТекВерсии[0] И МассивСтараяВерсия[1] = МассивТекВерсии[1] Тогда
				
				// Определим версию числом в попытке.
				Попытка
					ТекВерсияЧислом = Число(МассивТекВерсии[2]);
					ТекСборкаЧислом = Число(МассивТекВерсии[3]);
					
					ЧислоТекВерсии = ТекВерсияЧислом * 100 + ТекСборкаЧислом;
				Исключение
					Продолжить;
				КонецПопытки;
				
				// Проверим, является ли версия для текущего обновления важной.
				Если ЧислоСтаройВерсии < ЧислоТекВерсии И ЧислоТекВерсии <= ЧислоНовойВерсии Тогда
					СтруктураКритичности.Критичность = Истина;
					СтруктураКритичности.Версия      = ТекСтрока.Версия;
					СтруктураКритичности.Описание    = ТекСтрока.Описание;
				КонецЕсли;
				
			КонецЕсли;
			
		КонецЦикла;
		
	КонецЕсли;
	
	// Определим критичность версии по дополнительному условию.
	Если СтруктураКритичности.Критичность Тогда
		
		Если СтруктураКритичности.Версия = "2.0.50.1" Тогда
			
			// Если нет начислений по сторнированию, то данное обновление не критично.
			
			Запрос = Новый Запрос;
			Запрос.Текст =
			"ВЫБРАТЬ
			|	УПЖКХ_НачисленияОбороты.Организация,
			|	УПЖКХ_НачисленияОбороты.СуммаНачисленияОборот
			|ИЗ
			|	РегистрНакопления.УПЖКХ_Начисления.Обороты(, , , ВидНачисления = ЗНАЧЕНИЕ(Перечисление.УПЖКХ_ВидыНачислений.КорректировкаПриОтсутствииПоказанийПоИПУ)) КАК УПЖКХ_НачисленияОбороты";
			
			УстановитьПривилегированныйРежим(Истина);
			
			Выборка = Запрос.Выполнить().Выбрать();
			Если Не Выборка.Следующий() Тогда
				СтруктураКритичности.Критичность = Ложь;
			КонецЕсли;
			
		КонецЕсли;
		
		Если СтруктураКритичности.Версия = "3.0.57.4" Тогда
			
			// Если нет начислений по ЗУ, то данное обновление не критично.
			
			Запрос = Новый Запрос;
			Запрос.Текст =
			"ВЫБРАТЬ ПЕРВЫЕ 1
			|	УПЖКХ_Начисления.Организация КАК Организация,
			|	УПЖКХ_Начисления.СуммаНачисления КАК СуммаНачисления
			|ИЗ
			|	РегистрНакопления.УПЖКХ_Начисления КАК УПЖКХ_Начисления
			|ГДЕ
			|	НЕ УПЖКХ_Начисления.УслугаОснование = ЗНАЧЕНИЕ(Справочник.КВП_Услуги.ПустаяСсылка)
			|
			|ОБЪЕДИНИТЬ
			|
			|ВЫБРАТЬ ПЕРВЫЕ 1
			|	КВП_ЗависимостиУслуг.Организация,
			|	0
			|ИЗ
			|	РегистрСведений.КВП_ЗависимостиУслуг КАК КВП_ЗависимостиУслуг";
			
			УстановитьПривилегированныйРежим(Истина);
			
			Выборка = Запрос.Выполнить().Выбрать();
			Если Не Выборка.Следующий() Тогда
				СтруктураКритичности.Критичность = Ложь;
			КонецЕсли;
			
		КонецЕсли;
		
	КонецЕсли;
	
	Возврат СтруктураКритичности;
	
КонецФункции

// Функция возвращает номер редакции типовой конфигурации.
// 
// Параметры:
//  ВерсияЖКХ – Строка – номер версии конфигурации "Учет в ЖКХ".
//
// Возвращаемое значение:
//  Число – Номер редакции в формате РР.
//
Функция Это3РедакцияБП(ВерсияЖКХ) Экспорт
	
	НомерВерсииТиповойКонфигурации = НомерВерсииТиповойКонфигурации(ВерсияЖКХ);
	
	ПоложениеРазделителя = Найти(НомерВерсииТиповойКонфигурации, ".");
	
	Если ПоложениеРазделителя > 0 Тогда
		Возврат (Лев(НомерВерсииТиповойКонфигурации, ПоложениеРазделителя - 1) = "3");
	КонецЕсли;
	
	Возврат Ложь;
	
КонецФункции

// Дополняет движения документов начислений месяцем начисления.
Процедура ПриПроведенииОплатыОбработкаПроведения(Источник, Отказ, РежимПроведения) Экспорт
	
	// Процедура не должна записывать месяц начисления в движения документа:
	// 1. "Корректировка начислений", так как месяц начисления выбирается в самом документе.
	
	НаборЗаписей = Источник.Движения.Найти("УПЖКХ_Начисления");
	Если Не НаборЗаписей = Неопределено Тогда
		ДвиженияНачисленияНаЛицевыеСчета = Источник.Движения["УПЖКХ_Начисления"];
		Для Каждого ТекДвижение Из ДвиженияНачисленияНаЛицевыеСчета Цикл
			Если Не ЗначениеЗаполнено(ТекДвижение.МесяцНачисления) Тогда
				ТекДвижение.МесяцНачисления = КонецМесяца(Источник.Дата);
			КонецЕсли;
		КонецЦикла;
	КонецЕсли;
	
	НаборЗаписей = Источник.Движения.Найти("КВП_ВзаиморасчетыПоЛицевымСчетам");
	Если Не НаборЗаписей = Неопределено Тогда
		ДвиженияНачисленияНаЛицевыеСчета = Источник.Движения["КВП_ВзаиморасчетыПоЛицевымСчетам"];
		Для Каждого ТекДвижение Из ДвиженияНачисленияНаЛицевыеСчета Цикл
			Если Не ЗначениеЗаполнено(ТекДвижение.МесяцНачисления) Тогда
				ТекДвижение.МесяцНачисления = КонецМесяца(Источник.Дата);
			КонецЕсли;
		КонецЦикла;
	КонецЕсли;
	
	НаборЗаписей = Источник.Движения.Найти("УПЖКХ_ВзаиморасчетыПоАренде");
	Если Не НаборЗаписей = Неопределено Тогда
		ДвиженияНачисленияПоОбъекту = Источник.Движения["УПЖКХ_ВзаиморасчетыПоАренде"];
		Для Каждого ТекДвижение Из ДвиженияНачисленияПоОбъекту Цикл
			Если Не ЗначениеЗаполнено(ТекДвижение.МесяцНачисления) Тогда
				ТекДвижение.МесяцНачисления = КонецМесяца(Источник.Дата);
			КонецЕсли;
		КонецЦикла;
	КонецЕсли;
	
КонецПроцедуры

// Функция возвращает таблицу благоустройств помещения или здания.
//
// Параметры:
//  Здание – ссылка на справочник "Здания" – здание.
//  Помещение - ссылка на справочник "Помещения" - помещение.
//  СписокВидовБлагоустройства - список значений - список видов благоустройства.
//
// Возвращаемое значение:
//  ТаблицаБлагоустройств – таблица значений - таблица благоустройств объекта.
//
Функция ПолучитьБлагоустройстваОбъекта(Здание, Помещение = Неопределено,
										СписокВидовБлагоустройства = Неопределено) Экспорт
	
	Запрос = Новый Запрос;
	
	Запрос.УстановитьПараметр("Здание",                     Здание);
	Запрос.УстановитьПараметр("Помещение",                  Помещение);
	Запрос.УстановитьПараметр("СписокВидовБлагоустройства", СписокВидовБлагоустройства);
	
	Запрос.Текст =
	"ВЫБРАТЬ РАЗРЕШЕННЫЕ
	|	КВП_БлагоустройствоОбъектов.Значение КАК Значение,
	|	КВП_БлагоустройствоОбъектов.ВидБлагоустройства КАК ВидБлагоустройства,
	|	ВЫБОР
	|		КОГДА КВП_БлагоустройствоОбъектов.Объект ССЫЛКА Справочник.КВП_Здания
	|			ТОГДА 2
	|		КОГДА КВП_БлагоустройствоОбъектов.Объект ССЫЛКА Справочник.УПЖКХ_Помещения
	|			ТОГДА 1
	|	КОНЕЦ КАК Приоритет
	|ПОМЕСТИТЬ врБлагоустройстваПоПриоритетам
	|ИЗ
	|	РегистрСведений.КВП_БлагоустройствоОбъектов КАК КВП_БлагоустройствоОбъектов
	|ГДЕ
	|	&УсловияЗапроса
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	врБлагоустройстваПоПриоритетам.ВидБлагоустройства,
	|	МИНИМУМ(врБлагоустройстваПоПриоритетам.Приоритет) КАК Приоритет
	|ПОМЕСТИТЬ врПриоритеты
	|ИЗ
	|	врБлагоустройстваПоПриоритетам КАК врБлагоустройстваПоПриоритетам
	|
	|СГРУППИРОВАТЬ ПО
	|	врБлагоустройстваПоПриоритетам.ВидБлагоустройства
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	врБлагоустройстваПоПриоритетам.Значение,
	|	врПриоритеты.ВидБлагоустройства
	|ИЗ
	|	врБлагоустройстваПоПриоритетам КАК врБлагоустройстваПоПриоритетам
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ врПриоритеты КАК врПриоритеты
	|		ПО врБлагоустройстваПоПриоритетам.Приоритет = врПриоритеты.Приоритет
	|			И врБлагоустройстваПоПриоритетам.ВидБлагоустройства = врПриоритеты.ВидБлагоустройства";
	
	ТекстУсловий = "ИСТИНА ";
	Если Помещение = Неопределено Тогда
		ТекстУсловий = ТекстУсловий + "И КВП_БлагоустройствоОбъектов.Объект = &Здание ";
	Иначе
		ТекстУсловий = ТекстУсловий
					 + "И (КВП_БлагоустройствоОбъектов.Объект = &Здание ИЛИ КВП_БлагоустройствоОбъектов.Объект = &Помещение) ";
	КонецЕсли;
	Если Не СписокВидовБлагоустройства = Неопределено Тогда
		ТекстУсловий = ТекстУсловий + "И КВП_БлагоустройствоОбъектов.ВидБлагоустройства В(&СписокВидовБлагоустройства) ";
	КонецЕсли;
	
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "&УсловияЗапроса", ТекстУсловий);
	
	ТаблицаБлагоустройств = Запрос.Выполнить().Выгрузить();
	
	Возврат ТаблицаБлагоустройств;
	
КонецФункции

// Функция проверяет корректность владельца.
Функция ПроверитьКорректностьВладельца(СсылкаВладелец, ПодчиненныйСправочник) Экспорт
	
	Владельцы = Метаданные.Справочники.Найти(ПодчиненныйСправочник).Владельцы;
	Если КорректноеПодчинение(Владельцы, СсылкаВладелец) Тогда
		Возврат Истина;
	КонецЕсли;
	
	Возврат Ложь;
	
КонецФункции

// Функция возвращает свойства метаданных объекта.
Функция ПолучитьПараметрыМетаданныхОбъекта(Объект) Экспорт
	
	МетаданныеОбъекта = Объект.Метаданные();
	
	ПараметрыМетаданных = Новый Структура;
	ПараметрыМетаданных.Вставить("Имя",           МетаданныеОбъекта.Имя);
	ПараметрыМетаданных.Вставить("Синоним",       МетаданныеОбъекта.Синоним);
	
	Возврат ПараметрыМетаданных;
	
КонецФункции

// Функция возвращает адрес сайта интернет-портала.
Функция АдресСайтаИнтернетПортала() Экспорт
	
	Возврат Метаданные.АдресИнформацииОПоставщике + "/jsk/site_jkh/adv_kvit.php";
	
КонецФункции

#КонецОбласти

#Область ПроцедурыИФункцииРаботыСОшибками

// Функция убирает из текста сообщения служебную информацию.
//
// Параметры
//  ТекстСообщения - Строка - исходный текст сообщения.
//
// Возвращаемое значение:
//  Строка.
//
Функция СформироватьТекстСообщения(Знач ТекстСообщения) Экспорт

	НачалоСлужебногоСообщения    = Найти(ТекстСообщения, "{");
	ОкончаниеСлужебногоСообщения = Найти(ТекстСообщения, "}:");
	
	Если ОкончаниеСлужебногоСообщения > 0 
		И НачалоСлужебногоСообщения > 0 
		И НачалоСлужебногоСообщения < ОкончаниеСлужебногоСообщения Тогда
		
		ТекстСообщения = Лев(ТекстСообщения, (НачалоСлужебногоСообщения - 1))
					   + Сред(ТекстСообщения, (ОкончаниеСлужебногоСообщения + 2));
						 
	КонецЕсли;
	
	Возврат СокрЛП(ТекстСообщения);

КонецФункции // ()

// Формирует сообщение при ошибках проведения документов.
//
// Параметры: 
//  ТекстСообщения - Исходный текст, выводимого сообщения.
//  Отказ          - Флаг отказа в проведении документа.
//  Заголовок      - Заголовок начала серии сообщений об ошибках проведения (не обязательный).
//
Процедура ОшибкаПриПроведении(ТекстСообщения, Отказ, Заголовок = "") Экспорт

	УПЖКХ_ТиповыеМетодыКлиентСервер.СообщитьОбОшибке(ТекстСообщения, Отказ, Заголовок);

КонецПроцедуры // ОшибкаПриПроведении()

#КонецОбласти