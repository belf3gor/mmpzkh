////////////////////////////////////////////////////////////////////////////////
// 
// Процедуры, переопределяемые при модификации конфигурации.
// Позволяют гибко устанавливать правила распределения расходов.
// Вызываются из модуля ПравилаРаспределенияРасходов
// 
////////////////////////////////////////////////////////////////////////////////

#Область ПрограммныйИнтерфейс

// Переопределяет таблицу правил распределения.
// Позволяет добавить свои правила так, чтобы их налоговые последствия были обработаны автоматически.
// Вызывается после заполнения таблицы основными предопределенными правилами по конкретному счету расходов,
// но до заполнения налоговыми правилами.
//
// Параметры:
//  Процессор  - Структура - см. ПравилаРаспределенияРасходов.НовыйПроцессорЗаполненияПравилРаспределения
//               Правила следует добавлять с помощью ПравилаРаспределенияРасходов.ДобавитьПравилоРаспределения
//               Не рекомендуется удалять правила, менять порядок предопределенных правил, менять в них отбор по счету.
//  СтандартнаяОбработка 
//             - Булево - действие после выполнения обработчика
//               * Истина - Значение по умолчанию. После правил, добавленных в этой процедуре,
//                          будут добавлены предопределенные правила.  
//               * Ложь   - Применяются только правила, добавленные в этой процедуре.
//                          Позволяет полностью переопределить логику типового решения, 
//                          отказаться от использования предопределенных правил
// 
Процедура ПередДобавлениемПравилПоСчету(Процессор, СтандартнаяОбработка) Экспорт
	
КонецПроцедуры

// Переопределяет таблицу правил распределения.
// Позволяет добавить свои правила так, чтобы их налоговые последствия были обработаны автоматически.
// Вызывается после заполнения таблицы основными предопределенными правилами,
// но до заполнения налоговыми правилами.
//
// Параметры:
//  Процессор	 - Структура - см. ПравилаРаспределенияРасходов.НовыйПроцессорЗаполненияПравилРаспределения
//                 Правила следует добавлять с помощью ПравилаРаспределенияРасходов.ДобавитьПравилоРаспределения
//                 Не рекомендуется удалять правила, менять порядок предопределенных правил, менять в них отбор по счету.
//
Процедура ПриДобавленииПравилПоСчету(Процессор) Экспорт
	
	// Для поиска предопределенного правила, подлежащего модификации, можно использовать Имя предопределенных правил.
	// При этом анализировать следует части имени, предшествующую первому символу "."
	// Подробнее см. комментарий в ПравилаРаспределенияРасходов.НовыеПравилаРаспределения()
	
	// Пример модификации правила, позволяющей распределять расходы, учтенные на счете 25, аналогично общехозяйственным:
	// без ограничения направлений распределения подразделениями, в которых учтены расходы на счете 25.
	
	// <начало примера>
	//Если Процессор.КлассСчетов <> "КосвенныеРасходы" Тогда
	//	Возврат;
	//КонецЕсли;
	//
	//Если Процессор.Закрытие.Направление <> "КалькуляционныйСчет" Тогда
	//	Возврат;
	//КонецЕсли;
	//
	//ИмяМодифицируемогоПравила = "МетодОплатаТруда";
	//
	//Для Каждого Правило Из Процессор.Правила Цикл
	//	
	//	ЭлементыИмени = СтрРазделить(Правило.Имя, ".");
	//	Если Не ЗначениеЗаполнено(ЭлементыИмени) Или ЭлементыИмени[0] <> ИмяМодифицируемогоПравила Тогда
	//		Продолжить;
	//	КонецЕсли;
	//	
	//	Правило.ПоляИсточника.Удалить("Подразделение");
	//	
	//КонецЦикла;
	// <конец примера>
	
КонецПроцедуры

// Переопределяет таблицу правил распределения.
// Вызывается до заполнения таблицы предопределенными правилами.
// 
// Параметры:
//  ПравилаРаспределения - ТаблицаЗначений - заполняемая таблица; 
//                         структура таблицы описана в ПравилаРаспределенияРасходов.НовыеПравилаРаспределения()
//  Период               - Дата - указывает на период, расходы которого распределяются
//  Организация          - СправочникСсылка.Организации - организация, расходы которой распределяются
//  СтандартнаяОбработка - Булево - действие после выполнения обработчика
//                         * Истина - Значение по умолчанию. После правил, добавленных в этой процедуре,
//                                    будут добавлены предопределенные правила.  
//                         * Ложь   - Применяются только правила, добавленные в этой процедуре.
//                                    Позволяет полностью переопределить логику типового решения, 
//                                    отказаться от использования предопределенных правил
// 
Процедура ПередДобавлениемПравилРаспределенияРасходовНаПроизводство(ПравилаРаспределения, Период, Организация, СтандартнаяОбработка) Экспорт
	
КонецПроцедуры

// Переопределяет таблицу правил распределения.
// Вызывается после заполнения таблицы предопределенными правилами.
// 
// Параметры:
//  ПравилаРаспределения - ТаблицаЗначений - заполняемая таблица; 
//                         структура таблицы описана в ПравилаРаспределенияРасходов.НовыеПравилаРаспределения()
//  Период               - Дата - указывает на период, расходы которого распределяются
//  Организация          - СправочникСсылка.Организации - организация, расходы которой распределяются
// 
Процедура ПриДобавлениПравилРаспределенияРасходовНаПроизводство(ПравилаРаспределения, Период, Организация) Экспорт
	
	// См. комментарии в ПриДобавленииПравилПоСчету()
	
КонецПроцедуры

// Переопределяет таблицу правил распределения.
// Вызывается до заполнения таблицы предопределенными правилами.
// 
// Параметры:
//  ПравилаРаспределения - ТаблицаЗначений - заполняемая таблица; 
//                         структура таблицы описана в ПравилаРаспределенияРасходов.НовыеПравилаРаспределения()
//  Период               - Дата - указывает на период, расходы которого распределяются
//  Организация          - СправочникСсылка.Организации - организация, расходы которой распределяются
//  СтандартнаяОбработка - Булево - действие после выполнения обработчика
//                         * Истина - Значение по умолчанию. После правил, добавленных в этой процедуре,
//                                    будут добавлены предопределенные правила.  
//                         * Ложь   - Применяются только правила, добавленные в этой процедуре.
//                                    Позволяет полностью переопределить логику типового решения, 
//                                    отказаться от использования предопределенных правил
// 
Процедура ПередДобавлениемПравилРаспределенияРасходовНаПродажу(ПравилаРаспределения, Период, Организация, СтандартнаяОбработка) Экспорт
	
КонецПроцедуры

// Переопределяет таблицу правил распределения.
// Вызывается после заполнения таблицы предопределенными правилами.
// 
// Параметры:
//  ПравилаРаспределения - ТаблицаЗначений - заполняемая таблица; 
//                         структура таблицы описана в ПравилаРаспределенияРасходов.НовыеПравилаРаспределения()
//  Период               - Дата - указывает на период, расходы которого распределяются
//  Организация          - СправочникСсылка.Организации - организация, расходы которой распределяются
// 
Процедура ПриДобавленииПравилРаспределенияРасходовНаПродажу(ПравилаРаспределения, Период, Организация) Экспорт
	
	// См. комментарии в ПриДобавленииПравилПоСчету()
	
КонецПроцедуры

#КонецОбласти
