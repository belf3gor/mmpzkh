////////////////////////////////////////////////////////////////////////////////
// Способы выплаты зарплаты.
// Процедуры и функции объекта и менеджера.
////////////////////////////////////////////////////////////////////////////////

#Область СлужебныеПроцедурыИФункции

#Область ПервоначальноеЗаполнениеИОбновлениеИнформационнойБазы

Процедура НачальноеЗаполнение() Экспорт
	
	Запрос = Новый Запрос;
	
	Запрос.Текст = "ВЫБРАТЬ ПЕРВЫЕ 1
	               |	ИСТИНА КАК ЗначениеИстина
	               |ИЗ
	               |	Справочник.СпособыВыплатыЗарплаты КАК СпособыВыплатыЗарплаты
	               |ГДЕ
	               |	СпособыВыплатыЗарплаты.Предопределенный = ЛОЖЬ";
				   
	РезультатЗапроса = Запрос.Выполнить();
	
	Если Не РезультатЗапроса.Пустой() Тогда 
		Возврат;
	КонецЕсли;	
	
	СпособВыплатыСсылка = ОбщегоНазначения.ПредопределенныйЭлемент("Справочник.СпособыВыплатыЗарплаты.Зарплата");
	
	Если СпособВыплатыСсылка <> Неопределено Тогда
		
		СпособВыплатыОбъект = СпособВыплатыСсылка.ПолучитьОбъект();
		СпособВыплатыОбъект.Наименование            = НСтр("ru = 'Зарплата'");
		СпособВыплатыОбъект.Поставляемый            = Истина;
		СпособВыплатыОбъект.СпособПолучения         = Перечисления.СпособыПолученияЗарплатыКВыплате.ОкончательныйРасчет;
		СпособВыплатыОбъект.ХарактерВыплаты         = Перечисления.ХарактерВыплатыЗарплаты.Зарплата;
		СпособВыплатыОбъект.Округление              = Справочники.СпособыОкругленияПриРасчетеЗарплаты.ПоУмолчанию();
		СпособВыплатыОбъект.ОкончательныйРасчетНДФЛ = Истина;
		СпособВыплатыОбъект.Записать();
		
	КонецЕсли;
	
	СпособВыплатыОбъект = Справочники.СпособыВыплатыЗарплаты.СоздатьЭлемент();
	
	СпособВыплатыОбъект.Наименование            = НСтр("ru = 'Аванс'");
	СпособВыплатыОбъект.Поставляемый            = Истина;
	СпособВыплатыОбъект.СпособПолучения         = Перечисления.СпособыПолученияЗарплатыКВыплате.Аванс;
	СпособВыплатыОбъект.ХарактерВыплаты         = Перечисления.ХарактерВыплатыЗарплаты.Аванс;
	СпособВыплатыОбъект.Округление              = Справочники.СпособыОкругленияПриРасчетеЗарплаты.СпособОкругленияДоРубляВБольшуюСторону();
	СпособВыплатыОбъект.ОкончательныйРасчетНДФЛ = Ложь;
	СпособВыплатыОбъект.Записать();
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийОбъекта

Процедура ОбработкаПроверкиЗаполнения(СпособВыплаты, Отказ, ПроверяемыеРеквизиты) Экспорт
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийМенеджера

Процедура ОбработкаПолученияДанныхВыбора(ДанныеВыбора, Параметры, СтандартнаяОбработка) Экспорт
КонецПроцедуры

#КонецОбласти

#КонецОбласти
