
////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

#Область ОбработчикиСобытийФормы

&НаСервере
// Обработчик события "ПриСозданииНаСервере" формы.
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Параметры.Свойство("ЛицевойСчет") Тогда
		УПЖКХ_ТиповыеМетодыКлиентСервер.УстановитьЭлементОтбора(Список.Отбор, "ЛицевойСчет",
																Параметры.ЛицевойСчет, ВидСравненияКомпоновкиДанных.Равно);
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
// Обработчик события "ПриЗакрытии" формы.
Процедура ПриЗакрытии(ЗавершениеРаботы)
	
	Оповестить("ОбновитьДолюЛС", , ЭтотОбъект);
	
КонецПроцедуры

#КонецОбласти

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ЭЛЕМЕНТОВ ФОРМЫ

#Область ОбработчикиСобытийЭлементовФормы

&НаКлиенте
// Обработчик события "ПередНачаломДобавления" поля "Список".
Процедура СписокПередНачаломДобавления(Элемент, Отказ, Копирование, Родитель, Группа)
	
	Отказ = Истина;
	
КонецПроцедуры

&НаКлиенте
// Обработчик события "ПередНачаломИзменения" поля "Список".
Процедура СписокПередНачаломИзменения(Элемент, Отказ)
	
	Отказ = Истина;
	
	ДанныеТекущейСтроки = Элемент.ТекущиеДанные;
	
	СтруктураПараметров = Новый Структура();
	СтруктураПараметров.Вставить("Дата",        ДанныеТекущейСтроки.Период);
	СтруктураПараметров.Вставить("Здание",      ДанныеТекущейСтроки.Владелец);
	СтруктураПараметров.Вставить("Помещение",   ДанныеТекущейСтроки.Объект);
	СтруктураПараметров.Вставить("ЛицевойСчет", ДанныеТекущейСтроки.ЛицевойСчет);
	
	Форма = ПолучитьФорму("Обработка.КВП_УстановкаДолей.Форма", СтруктураПараметров);
	Форма.Открыть();
	
КонецПроцедуры

&НаКлиенте
// Обработчик события "ПриИзменении" поля "ДоляЧислитель".
Процедура ДоляЧислительПриИзменении(Элемент)
	
	Оповестить("ОбновитьДолюЛС", , ЭтотОбъект);
	
КонецПроцедуры

#КонецОбласти