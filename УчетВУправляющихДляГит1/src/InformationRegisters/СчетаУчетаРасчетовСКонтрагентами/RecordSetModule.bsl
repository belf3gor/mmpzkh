#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда



Процедура ОбработкаЗаполнения(ДанныеЗаполнения, СтандартнаяОбработка)

	Если ТипЗнч(ДанныеЗаполнения) = Тип("Структура") Тогда
		ЗаполнитьЗначенияСвойств(ЭтотОбъект[0], ДанныеЗаполнения);
	КонецЕсли;

	Если НЕ ЗначениеЗаполнено(ЭтотОбъект[0].Организация) И ЗначениеЗаполнено(ЭтотОбъект[0].Договор) Тогда
		ЭтотОбъект[0].Организация = БухгалтерскийУчетПереопределяемый.ПолучитьОрганизациюПоДоговору(ЭтотОбъект[0].Договор);
	КонецЕсли;

	Если НЕ ЗначениеЗаполнено(ЭтотОбъект[0].Контрагент) И ЗначениеЗаполнено(ЭтотОбъект[0].Договор) Тогда
		ЭтотОбъект[0].Контрагент = БухгалтерскийУчетПереопределяемый.ПолучитьКонтрагентаПоДоговору(ЭтотОбъект[0].Договор);
	КонецЕсли;

	Если НЕ ЗначениеЗаполнено(ЭтотОбъект[0].Организация) Тогда
		ЭтотОбъект[0].Организация = БухгалтерскийУчетПереопределяемый.ПолучитьЗначениеПоУмолчанию("ОсновнаяОрганизация");
	КонецЕсли;

	Если НЕ ЗначениеЗаполнено(ЭтотОбъект[0].ВидРасчетовПоДоговору) И ЗначениеЗаполнено(ЭтотОбъект[0].Договор) Тогда
		ЭтотОбъект[0].ВидРасчетовПоДоговору = БухгалтерскийУчетПереопределяемый.ОпределениеВидаРасчетовПоПараметрамДоговора(ЭтотОбъект[0].Договор);
	КонецЕсли;
КонецПроцедуры

Процедура ПередЗаписью(Отказ, Замещение)

	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;

	ПустоеЗначениеДоговора = БухгалтерскийУчетПереопределяемый.ПолучитьПустоеЗначениеДоговора();

	Для Каждого Запись Из ЭтотОбъект Цикл
		Если НЕ ЗначениеЗаполнено(Запись.Договор) И Запись.Договор <> ПустоеЗначениеДоговора Тогда
			Запись.Договор = ПустоеЗначениеДоговора;
		КонецЕсли;
	КонецЦикла;

КонецПроцедуры

#КонецЕсли