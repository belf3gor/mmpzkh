
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	ТекущийСклад = Запись.Склад;
		
	Если Параметры.Ключ.Пустой() Тогда
		Запись.Период = '19800101';
	КонецЕсли;
	
КонецПроцедуры

&НаСервере
Процедура ПриЧтенииНаСервере(ТекущийОбъект)
	
	// СтандартныеПодсистемы.ДатыЗапретаИзменения
	ДатыЗапретаИзменения.ОбъектПриЧтенииНаСервере(ЭтотОбъект, ТекущийОбъект);
	// Конец СтандартныеПодсистемы.ДатыЗапретаИзменения
	
КонецПроцедуры

&НаКлиенте
Процедура ПослеЗаписи(ПараметрыЗаписи)
	
	// Оповестим форму выбранной структурной единицы.
	Оповестить("ОбновитьФорму", Новый Структура("ИмяЭлемента","ОсобыйПорядокНалогообложения"), Запись.Склад);
	Если ТекущийСклад <> Запись.Склад Тогда

		// Оповестим также форму той структурной единицы, данные которого начинали редактировать.
		Оповестить("ОбновитьФорму", Новый Структура("ИмяЭлемента","ОсобыйПорядокНалогообложения"), ТекущийСклад);
		ТекущийСклад = Запись.Склад;
		
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовШапкиФормы

&НаКлиенте
Процедура ПериодПриИзменении(Элемент)
	
	Запись.Период = НачалоМесяца(Запись.Период);
	
КонецПроцедуры

#КонецОбласти
