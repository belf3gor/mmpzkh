
#Область ОсновныеПроцедурыИФункции

// Подготавливает структуру с настройками формирования электронных паспортов.
//
// Параметры:
//  Организация - СправочникСсылка.Организации.
//
// Возвращаемое значение:
//  Структура
//
Функция ПолучитьНастройкиЭлектронныхПаспортов(Организация) Экспорт
	
	СтруктураНастроек = Новый Структура;
	
	Запрос = Новый Запрос;
	Запрос.Текст =
	"ВЫБРАТЬ
	|	УПЖКХ_НастройкиЭлектронныхПаспортов.УслугиСодержанияИРемонта,
	|	УПЖКХ_НастройкиЭлектронныхПаспортов.КоммунальныеРесурсы,
	|	УПЖКХ_НастройкиЭлектронныхПаспортов.КоммунальныеУслуги,
	|	УПЖКХ_НастройкиЭлектронныхПаспортов.УслугиПоУправлению,
	|	УПЖКХ_НастройкиЭлектронныхПаспортов.КаталогСохранения,
	|	УПЖКХ_НастройкиЭлектронныхПаспортов.ОтправлятьНаСайт,
	|	УПЖКХ_НастройкиЭлектронныхПаспортов.НастройкаДоступаКСайту
	|ИЗ
	|	РегистрСведений.УПЖКХ_НастройкиЭлектронныхПаспортов КАК УПЖКХ_НастройкиЭлектронныхПаспортов
	|ГДЕ
	|	УПЖКХ_НастройкиЭлектронныхПаспортов.Организация = &Организация";
	Запрос.УстановитьПараметр("Организация", Организация);
	
	Выборка = Запрос.Выполнить().Выбрать();
	
	Если Выборка.Следующий() Тогда
		СтруктураНастроек.Вставить("КаталогСохранения",        Выборка.КаталогСохранения);
		СтруктураНастроек.Вставить("УслугиСодержанияИРемонта", Выборка.УслугиСодержанияИРемонта);
		СтруктураНастроек.Вставить("КоммунальныеРесурсы",      Выборка.КоммунальныеРесурсы);
		СтруктураНастроек.Вставить("КоммунальныеУслуги",       Выборка.КоммунальныеУслуги);
		СтруктураНастроек.Вставить("УслугиПоУправлению",       Выборка.УслугиПоУправлению);
		СтруктураНастроек.Вставить("ОтправлятьНаСайт",         Выборка.ОтправлятьНаСайт);
		СтруктураНастроек.Вставить("НастройкаДоступаКСайту",   Выборка.НастройкаДоступаКСайту);
		
		Возврат СтруктураНастроек;
	Иначе
		Возврат Неопределено;
	КонецЕсли;
	
КонецФункции // ПолучитьНастройкиЭлектронныхПаспортов()

#КонецОбласти 
