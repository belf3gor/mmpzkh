
#Область ОбработчикиСобытийЭлементовФормы

&НаКлиенте
// Процедура - обработчик события "НачалоВыбора" поля ввода "Ограничение по объему услуги".
Процедура ОграничениеПоОбъемуУслугиНачалоВыбора(Элемент, ДанныеВыбора, СтандартнаяОбработка)
	
	Если ЗначениеЗаполнено(Запись.Услуга) Тогда
		
		СтандартнаяОбработка = Ложь;
		СтруктураПараметров  = Новый Структура;
		СтруктураПараметров.Вставить("Услуга", Запись.Услуга);
		ОткрытьФорму("Справочник.КВП_НормыПотребленияУслуг.Форма.ФормаВыбора", СтруктураПараметров, Элемент);
		
	КонецЕсли;

КонецПроцедуры //ОграничениеПоОбъемуУслугиНачалоВыбора()

&НаКлиенте
// Процедура обработчик события "ПриИзменении" поля ввода "Ограничение по объему услуги".
Процедура ОграничениеПоОбъемуУслугиПриИзменении(Элемент)
	
	Если НЕ ЗначениеЗаполнено(Запись.Услуга)
	   И ЗначениеЗаполнено(Запись.ОграничениеПоОбъемуУслуги) Тогда
		
		Запись.Услуга = УПЖКХ_ОбщегоНазначенияСервер.ПолучитьЗначениеРеквизита(Запись.ОграничениеПоОбъемуУслуги, "Владелец");
	КонецЕсли;
	
КонецПроцедуры // ОграничениеПоОбъемуУслугиПриИзменении()

&НаКлиенте
// Процедура обработчик события "ПриИзменении" поля ввода "Услуга".
Процедура УслугаПриИзменении(Элемент)
	
	Если ЗначениеЗаполнено(Запись.Услуга)
	   И ЗначениеЗаполнено(Запись.ОграничениеПоОбъемуУслуги)
	   И НЕ Запись.Услуга = УПЖКХ_ОбщегоНазначенияСервер.ПолучитьЗначениеРеквизита(Запись.ОграничениеПоОбъемуУслуги, "Владелец") Тогда
		
		Запись.ОграничениеПоОбъемуУслуги = ПредопределенноеЗначение("Справочник.КВП_НормыПотребленияУслуг.ПустаяСсылка");
		
	КонецЕсли;
	
КонецПроцедуры // УслугаПриИзменении()

#КонецОбласти