
&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
	
	Отказ = Ложь;
	ПроверитьВозможностьФормированияВыдчиНаличных(ПараметрКоманды, Отказ);
	
	Если НЕ Отказ Тогда
		ОткрытьФорму("Обработка.ВыплатаЗарплатыРасходнымиОрдерами.Форма", Новый Структура("ПлатежнаяВедомость", ПараметрКоманды), ПараметрыВыполненияКоманды.Источник, ПараметрыВыполненияКоманды.Уникальность, ПараметрыВыполненияКоманды.Окно, ПараметрыВыполненияКоманды.НавигационнаяСсылка);
	КонецЕсли;
	
КонецПроцедуры

&НаСервере
Процедура ПроверитьВозможностьФормированияВыдчиНаличных(ПараметрКоманды, Отказ)
	
	Если ТипЗнч(ПараметрКоманды) = Тип("ДокументСсылка.ВедомостьНаВыплатуЗарплаты") Тогда
		ВидМестаВыплаты = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ПараметрКоманды, "ВидМестаВыплаты");
		Если ВидМестаВыплаты <> Перечисления.ВидыМестВыплатыЗарплаты.Касса Тогда
			ТекстСообщения = НСтр("ru = 'Для формирования кассовых документов укажите место выплаты ""Через кассу""!'");
			ОбщегоНазначенияКлиентСервер.СообщитьПользователю(ТекстСообщения, , , , Отказ);
		КонецЕсли;
	КонецЕсли;
	
КонецПроцедуры