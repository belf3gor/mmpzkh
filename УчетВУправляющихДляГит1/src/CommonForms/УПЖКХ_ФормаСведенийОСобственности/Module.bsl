
#Область ОбработчикиСобытийФормы

&НаСервере
// Обработчик события "ПриСозданииНаСервере" формы документа.
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Параметры.Свойство("Жилец",                            Жилец);
	Параметры.Свойство("ФИО",                              ФИОСобственника);
	Параметры.Свойство("Собственник",                      Собственник);
	Параметры.Свойство("ОснованиеПолученияВСобственность", ОснованиеПолученияВСобственность);
	Параметры.Свойство("ВидДокумента",                     ВидДокумента);
	Параметры.Свойство("НомерДокумента",                   НомерДокумента);
	Параметры.Свойство("ДатаДокумента",                    ДатаДокумента);
	
	Если Не Параметры.Свойство("Собственник") И Не Параметры.Свойство("Жилец") И Параметры.Свойство("ФИО") Тогда
		Собственник = ФИОСобственника;
		Элементы.Собственник.Гиперссылка = Ложь;
		
	ИначеЕсли Не Параметры.Свойство("Собственник") И Параметры.Свойство("Жилец") Тогда
		Собственник = Жилец.ФизЛицо;
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
// Обработчик события "ПриЗакрытии" формы документа.
Процедура ПриЗакрытии(ЗавершениеРаботы)
	
	АдресВХранилище = ПолучитьАдресВХранилище();
	
	Оповестить("ПередачаСведенийОСобственностиПриУпрощенномУчете", АдресВХранилище);
	
КонецПроцедуры

#КонецОбласти

#Область ВспомогательныеПроцедурыИФункции

&НаСервере
// Помещает во временное хранилище сведения о собственности.
Функция ПолучитьАдресВХранилище()
	
	СтруктураДанных = Новый Структура;
	СтруктураДанных.Вставить("Жилец",                            Жилец);
	СтруктураДанных.Вставить("Собственник",                      Собственник);
	СтруктураДанных.Вставить("ФИО",                              ФИОСобственника);
	СтруктураДанных.Вставить("ОснованиеПолученияВСобственность", ОснованиеПолученияВСобственность);
	СтруктураДанных.Вставить("ВидДокумента",                     ВидДокумента);
	СтруктураДанных.Вставить("НомерДокумента",                   НомерДокумента);
	СтруктураДанных.Вставить("ДатаДокумента",                    ДатаДокумента);
	
	Возврат ПоместитьВоВременноеХранилище(СтруктураДанных, Новый УникальныйИдентификатор);
	
КонецФункции

#КонецОбласти