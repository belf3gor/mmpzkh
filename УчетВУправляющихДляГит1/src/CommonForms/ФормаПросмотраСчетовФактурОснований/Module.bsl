
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	ЗаполнитьДанными();
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Процедура ЗаполнитьДанными()
	
	СчетаФактуры = Параметры.СчетаФактуры;
	
	ТабличныйДокумент = Новый ТабличныйДокумент;
	
	МакетСчетовФактур 	= ПолучитьОбщийМакет("МакетСчетовФактурОснований");
	
	ОбластьМакетаШапка	= МакетСчетовФактур.ПолучитьОбласть("ОбластьШапка");
	ОбластьМакетаСтрока	= МакетСчетовФактур.ПолучитьОбласть("ОбластьСтроки");
	
	ТабличныйДокумент.Вывести(ОбластьМакетаШапка);
	НомерСтроки = 1;
	Для Каждого СчетФактура Из СчетаФактуры Цикл
		ОбластьМакетаСтрока.Параметры.Заполнить(СчетФактура);
		ОбластьМакетаСтрока.Параметры.НомерСтроки = НомерСтроки;
		НомерСтроки = НомерСтроки + 1;
		ТабличныйДокумент.Вывести(ОбластьМакетаСтрока);
	КонецЦикла;
	
	Результат.Вывести(ТабличныйДокумент);
	
КонецПроцедуры

#КонецОбласти