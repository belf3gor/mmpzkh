
#Область ОбработчикиСобытий

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	// Отбор по виду услуги.
	ТекОтбор = Неопределено;
	Если Параметры.Отбор.Свойство("ВидУслуги", ТекОтбор) Тогда
		Если ТипЗнч(ТекОтбор) = Тип("СписокЗначений") Тогда
			УПЖКХ_ТиповыеМетодыКлиентСервер.УстановитьЭлементОтбора(Список.Отбор, "ВидУслуги", ТекОтбор,
																	ВидСравненияКомпоновкиДанных.ВСписке, , Истина);
		Иначе
			УПЖКХ_ТиповыеМетодыКлиентСервер.УстановитьЭлементОтбора(Список.Отбор, "ВидУслуги", ТекОтбор,
																	ВидСравненияКомпоновкиДанных.Равно, , Истина);
		КонецЕсли;
	КонецЕсли;
	
	// Отбор по списку приборов учета.
	ТекОтбор = Неопределено;
	Если Параметры.Отбор.Свойство("Ссылка", ТекОтбор) Тогда
		Если ТипЗнч(ТекОтбор) = Тип("СписокЗначений") Тогда
			УПЖКХ_ТиповыеМетодыКлиентСервер.УстановитьЭлементОтбора(Список.Отбор, "Ссылка", ТекОтбор,
																	ВидСравненияКомпоновкиДанных.ВСписке, , Истина);
		Иначе
			УПЖКХ_ТиповыеМетодыКлиентСервер.УстановитьЭлементОтбора(Список.Отбор, "Ссылка", ТекОтбор,
																	ВидСравненияКомпоновкиДанных.Равно, , Истина);
		КонецЕсли;
	КонецЕсли;
	
	// Отбор по коммунальному ресурсу.
	ТекОтбор = Неопределено;
	Если Параметры.Отбор.Свойство("КоммунальныйРесурс", ТекОтбор) Тогда
		Если ТипЗнч(ТекОтбор) = Тип("СписокЗначений") Тогда
			УПЖКХ_ТиповыеМетодыКлиентСервер.УстановитьЭлементОтбора(Список.Отбор, "ВидУслуги.КоммунальныйРесурс", ТекОтбор,
																	ВидСравненияКомпоновкиДанных.ВСписке, , Истина);
		Иначе
			УПЖКХ_ТиповыеМетодыКлиентСервер.УстановитьЭлементОтбора(Список.Отбор, "ВидУслуги.КоммунальныйРесурс", ТекОтбор,
																	ВидСравненияКомпоновкиДанных.Равно, , Истина);
		КонецЕсли;
	КонецЕсли;
	
	// Исключение счетчиков, которые установлены на другие стояки.
	ТекОтбор = Неопределено;
	Если Параметры.Отбор.Свойство("СчетчикиУстановленныеНаДругиеСтояки", ТекОтбор) Тогда
		Если ТипЗнч(ТекОтбор) = Тип("СписокЗначений") Тогда
			УПЖКХ_ТиповыеМетодыКлиентСервер.УстановитьЭлементОтбора(Список.Отбор, "Ссылка", ТекОтбор,
																	ВидСравненияКомпоновкиДанных.НеВСписке, , Истина);
		Иначе
			УПЖКХ_ТиповыеМетодыКлиентСервер.УстановитьЭлементОтбора(Список.Отбор, "Ссылка", ТекОтбор,
																	ВидСравненияКомпоновкиДанных.НеРавно, , Истина);
		КонецЕсли;
	КонецЕсли;
	
	Если ЗначениеЗаполнено(Параметры.ТекущаяСтрока) Тогда
		Элементы.Список.ТекущаяСтрока = Параметры.ТекущаяСтрока;
	КонецЕсли;
КонецПроцедуры

#КонецОбласти