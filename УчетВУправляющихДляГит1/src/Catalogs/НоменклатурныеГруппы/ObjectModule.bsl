#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

// Обработчик события ПередЗаписью объекта.
//
Процедура ПередЗаписью(Отказ)
	
	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	
	Если НЕ ЭтоГруппа И НЕ ЭтоНовый() Тогда
		
		Если БухгалтерскийУчетВызовСервераПовтИсп.ИспользоватьОднуНоменклатурнуюГруппу()
			И ПометкаУдаления Тогда
				
			ТекстСообщения = НСтр("ru = 'Нельзя удалить единственную номенклатурную группу, т.к. она используется для автозаполнения документов.'"); 
			ОбщегоНазначенияКлиентСервер.СообщитьПользователю(ТекстСообщения, Ссылка,, "Объект", Отказ);
			
		КонецЕсли;
		
	КонецЕсли;
	
КонецПроцедуры

Процедура ПриЗаписи(Отказ)

	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;

	Справочники.НоменклатурныеГруппы.ПроверитьЗначениеОпцииИспользоватьНесколькоНоменклатурныхГрупп();

КонецПроцедуры
	
#КонецЕсли