
#Область СлужебныеПроцедурыИФункции

&НаСервереБезКонтекста
// Процедура сохраняет настройку вывода предупреждения на сервере.
//
Процедура СохранитьНастройкуПредупрежденияНаСервере()
	
	ХранилищеОбщихНастроек.Сохранить("ФормаПредупрежденияОНаименованияхЗданий", "ПоказыватьПредупреждение", Ложь);
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийФормы

&НаСервере
// Обработчик события "ПриСозданииНаСервере" формы.
//
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	// Получение текста из макета HTML-документа.
	МакетПредупреждения = Справочники.КВП_Здания.ПолучитьМакет("ПредупреждениеОНаименованияхЗданий");
	ТекстСообщения      = МакетПредупреждения.ПолучитьТекст();
	
КонецПроцедуры

&НаКлиенте
// Обработчик события "ПередЗакрытием" формы.
//
Процедура ПередЗакрытием(Отказ, ЗавершениеРаботы, ТекстПредупреждения, СтандартнаяОбработка)
	
	Если ЗавершениеРаботы Тогда
		Отказ = Истина;
		Возврат;
	КонецЕсли;
	
	Если БольшеНеПоказывать Тогда
		СохранитьНастройкуПредупрежденияНаСервере();
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
// Обработчик команды "ОткрытьМастерУстановкиНаименованийЗданий".
//
Процедура ОткрытьГрупповуюУстановкуНаименованийЗданий(Команда)
	
	ОткрытьФорму("Справочник.КВП_Здания.Форма.ФормаГрупповойУстановкиНаименованийЗданий",, ВладелецФормы);
	
	Закрыть();
	
КонецПроцедуры

#КонецОбласти
