
// Обработчик события "ПередЗаписью" формы.
Процедура ПередЗаписью(Отказ)
	
	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	
	Если ПометкаУдаления ИЛИ (Не ЭтоНовый() И Ссылка.ПометкаУдаления И Не ПометкаУдаления) Тогда
		
		// Если устанавливается пометка на удаление или снимается, тогда проверка не выполняется.
		Возврат;
		
	КонецЕсли;
	
	Если НЕ ЭтоГруппа 
	   И НЕ ПлощадьЗданияЖилыхНежилыхПомещений + ПлощадьЗданияМестОбщегоПользования = ПлощадьЗданияОбщая Тогда
		УПЖКХ_ТиповыеМетодыКлиентСервер.СообщитьОбОшибке("Не верно указана общая площадь всех помещений в здании!
										  | Общая площадь всех помещений в здании должна быть равна сумме площади всех жилых
										  | и нежилых помещений и площади помещений, входящих в состав общего имущества", Отказ);
	КонецЕсли;

КонецПроцедуры

// Обработчик события "ОбработкаПроверкиЗаполнения".
Процедура ОбработкаПроверкиЗаполнения(Отказ, ПроверяемыеРеквизиты)
	
	Если Не ЭтоГруппа Тогда
	
		Если Не ПустаяСтрока(КодДомаПоФИАС) И Не СтрДлина(КодДомаПоФИАС) = 36 Тогда
			УПЖКХ_ТиповыеМетодыКлиентСервер.СообщитьОбОшибке("Код дома по ФИАС должен состоять из 36 символов.", Отказ);
		КонецЕсли;
		
		Если Не ОКТМО = 0 И Не СтрДлина(Формат(ОКТМО, "ЧГ=0")) =11 Тогда
			УПЖКХ_ТиповыеМетодыКлиентСервер.СообщитьОбОшибке("ОКТМО должен состоять из 11 символов.", Отказ);
		КонецЕсли;
		
	КонецЕсли;
	
КонецПроцедуры // ОбработкаПроверкиЗаполнения()
