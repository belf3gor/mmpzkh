
#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область СлужебныеПроцедурыИФункции

// Процедура-обработчик "ПередУдалением" элемента справочника.
//
Процедура ПередУдалением(Отказ)
	
	Если РегламентноеЗадание = "" Тогда
		Возврат;
	КонецЕсли;
	
	РегламентныеЗаданияСлужебный.ВызватьИсключениеЕслиНетПраваАдминистрирования();
	УстановитьПривилегированныйРежим(Истина);
	
	Если Не ПустаяСтрока(РегламентноеЗадание) Тогда
		Идентификатор = Новый УникальныйИдентификатор(РегламентноеЗадание);
		ТекущееЗадание = РегламентныеЗадания.НайтиПоУникальномуИдентификатору(Идентификатор);
	КонецЕсли;
	
	// При удалении элемента справочника удаляем соответствующее ему регламентное задание.
	Если Не ТекущееЗадание = Неопределено Тогда
		ТекущееЗадание.Удалить();
	КонецЕсли;
	
КонецПроцедуры // ПередУдалением()

// Процедура - обработчик события ПриКопировании.
//
// Параметры:
//  ОбъектКопирования - копируемый документ.
//
Процедура ПриКопировании(ОбъектКопирования)
	
	РегламентноеЗадание = Неопределено;
	
КонецПроцедуры

#КонецОбласти

#КонецЕсли