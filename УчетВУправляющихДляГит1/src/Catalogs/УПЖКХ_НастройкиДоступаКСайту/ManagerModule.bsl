
#Область СлужебныеПроцедурыИФункции

Функция ПолучитьСтруктуруНастроекДоступа(Ссылка) Экспорт
	
	Запрос = Новый Запрос;
	Запрос.Текст =
	"ВЫБРАТЬ
	|	УПЖКХ_НастройкиДоступаКСайту.Наименование,
	|	УПЖКХ_НастройкиДоступаКСайту.АдресСайта,
	|	УПЖКХ_НастройкиДоступаКСайту.Логин,
	|	УПЖКХ_НастройкиДоступаКСайту.Организация,
	|	УПЖКХ_НастройкиДоступаКСайту.Пароль,
	|	УПЖКХ_НастройкиДоступаКСайту.ХранитьПароль,
	|	УПЖКХ_НастройкиДоступаКСайту.НеВыгружатьПерсональныеДанные,
	|	УПЖКХ_НастройкиДоступаКСайту.УчетнаяЗаписьЭлПочты,
	|	УПЖКХ_НастройкиДоступаКСайту.ИспользоватьSSL,
	|	УПЖКХ_НастройкиДоступаКСайту.ЧислоОкончанияПроведенияНачислений
	|ИЗ
	|	Справочник.УПЖКХ_НастройкиДоступаКСайту КАК УПЖКХ_НастройкиДоступаКСайту
	|ГДЕ
	|	УПЖКХ_НастройкиДоступаКСайту.Ссылка = &Ссылка";
	Запрос.УстановитьПараметр("Ссылка", Ссылка);
	
	Выборка = Запрос.Выполнить().Выбрать();
	
	Если Выборка.Следующий() Тогда
		Структура = Новый Структура;
		Структура.Вставить("Ссылка",                             Ссылка);
		Структура.Вставить("Наименование",                       Выборка.Наименование);
		Структура.Вставить("АдресСайта",                         Выборка.АдресСайта);
		Структура.Вставить("Логин",                              Выборка.Логин);
		Структура.Вставить("Организация",                        Выборка.Организация);
		Структура.Вставить("Пароль",                             Выборка.Пароль);
		Структура.Вставить("ХранитьПароль",                      Выборка.ХранитьПароль);
		Структура.Вставить("НеВыгружатьПерсональныеДанные",      Выборка.НеВыгружатьПерсональныеДанные);
		Структура.Вставить("УчетнаяЗаписьЭлПочты",               Выборка.УчетнаяЗаписьЭлПочты);
		Структура.Вставить("ИспользоватьSSL",                    Выборка.ИспользоватьSSL);
		Структура.Вставить("ЧислоОкончанияПроведенияНачислений", Выборка.ЧислоОкончанияПроведенияНачислений);
		
		Возврат Структура;
	Иначе
		
		Возврат Неопределено;
	КонецЕсли;
	
КонецФункции // ПолучитьНастройкиДоступаКСайту()

#КонецОбласти