
#Область СлужебныеПроцедурыИФункции

// Обработчик события "ПередЗаписью" объекта.
//
Процедура ПередЗаписью(Отказ)
	
	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	
	// Если устанавливается пометка на удаление или снимается, тогда проверка не выполняется.
	Если Не Ссылка.Пустая() И Ссылка.ПометкаУдаления И Не ПометкаУдаления Тогда
		Возврат;
	КонецЕсли;
	
	// Проверяем заполнение реквизитов.
	Если НЕ ЭтоГруппа 
	   И НЕ ЗначениеЗаполнено(Родитель) Тогда
		УПЖКХ_ТиповыеМетодыКлиентСервер.СообщитьОбОшибке("Не заполнен вид групп услуг!", Отказ);
	КонецЕсли;
	
	// Если группа уже записана, то вид группы уже не может быть изменен.
	// Это нужно для исключения ошибочных ситуации и гарантии включения
	// каждой услуги только в одну из групп каждого вида.
	Если Не Ссылка.Пустая() И Не Ссылка.Родитель = Родитель Тогда
		УПЖКХ_ТиповыеМетодыКлиентСервер.СообщитьОбОшибке("Вид группы не может быть изменен!", Отказ);
	КонецЕсли;
	
КонецПроцедуры // ПередЗаписью()

#КонецОбласти
